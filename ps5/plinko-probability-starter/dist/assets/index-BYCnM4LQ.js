var yu=(r,e)=>(e=Symbol[r])?e:Symbol.for("Symbol."+r),je=Math.pow;var dt=(r,e,n)=>new Promise((u,t)=>{var i=D=>{try{v(n.next(D))}catch(g){t(g)}},h=D=>{try{v(n.throw(D))}catch(g){t(g)}},v=D=>D.done?u(D.value):Promise.resolve(D.value).then(i,h);v((n=n.apply(r,e)).next())}),sc=function(r,e){this[0]=r,this[1]=e};var Fu=r=>{var e=r[yu("asyncIterator")],n=!1,u,t={};return e==null?(e=r[yu("iterator")](),u=i=>t[i]=h=>e[i](h)):(e=e.call(r),u=i=>t[i]=h=>{if(n){if(n=!1,i==="throw")throw h;return h}return n=!0,{done:!1,value:new sc(new Promise(v=>{var D=e[i](h);if(!(D instanceof Object))throw TypeError("Object expected");v(D)}),1)}}),t[yu("iterator")]=()=>t,u("next"),"throw"in e?u("throw"):t.throw=i=>{throw i},"return"in e&&u("return"),t};(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const h of i.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&u(h)}).observe(document,{childList:!0,subtree:!0});function n(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function u(t){if(t.ep)return;t.ep=!0;const i=n(t);fetch(t.href,i)}})();var fc=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function zu(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var za={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(r,e){(function(n,u){r.exports=u()})(fc,function(){for(var n=function(a,c,d){return c===void 0&&(c=0),d===void 0&&(d=1),a<c?c:a>d?d:a},u=n,t=function(a){a._clipped=!1,a._unclipped=a.slice(0);for(var c=0;c<=3;c++)c<3?((a[c]<0||a[c]>255)&&(a._clipped=!0),a[c]=u(a[c],0,255)):c===3&&(a[c]=u(a[c],0,1));return a},i={},h=0,v=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];h<v.length;h+=1){var D=v[h];i["[object "+D+"]"]=D.toLowerCase()}var g=function(a){return i[Object.prototype.toString.call(a)]||"object"},s=g,o=function(a,c){return c===void 0&&(c=null),a.length>=3?Array.prototype.slice.call(a):s(a[0])=="object"&&c?c.split("").filter(function(d){return a[0][d]!==void 0}).map(function(d){return a[0][d]}):a[0]},l=g,p=function(a){if(a.length<2)return null;var c=a.length-1;return l(a[c])=="string"?a[c].toLowerCase():null},E=Math.PI,f={clip_rgb:t,limit:n,type:g,unpack:o,last:p,PI:E,TWOPI:E*2,PITHIRD:E/3,DEG2RAD:E/180,RAD2DEG:180/E},y={format:{},autodetect:[]},m=f.last,C=f.clip_rgb,b=f.type,B=y,A=function(){for(var c=[],d=arguments.length;d--;)c[d]=arguments[d];var F=this;if(b(c[0])==="object"&&c[0].constructor&&c[0].constructor===this.constructor)return c[0];var M=m(c),S=!1;if(!M){S=!0,B.sorted||(B.autodetect=B.autodetect.sort(function(V,rr){return rr.p-V.p}),B.sorted=!0);for(var N=0,$=B.autodetect;N<$.length;N+=1){var O=$[N];if(M=O.test.apply(O,c),M)break}}if(B.format[M]){var L=B.format[M].apply(null,S?c:c.slice(0,-1));F._rgb=C(L)}else throw new Error("unknown format: "+c);F._rgb.length===3&&F._rgb.push(1)};A.prototype.toString=function(){return b(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var w=A,T=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(T.Color,[null].concat(a)))};T.Color=w,T.version="2.4.2";var I=T,P=f.unpack,Z=Math.max,k=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=P(a,"rgb"),F=d[0],M=d[1],S=d[2];F=F/255,M=M/255,S=S/255;var N=1-Z(F,Z(M,S)),$=N<1?1/(1-N):0,O=(1-F-N)*$,L=(1-M-N)*$,V=(1-S-N)*$;return[O,L,V,N]},R=k,ir=f.unpack,ur=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];a=ir(a,"cmyk");var d=a[0],F=a[1],M=a[2],S=a[3],N=a.length>4?a[4]:1;return S===1?[0,0,0,N]:[d>=1?0:255*(1-d)*(1-S),F>=1?0:255*(1-F)*(1-S),M>=1?0:255*(1-M)*(1-S),N]},er=ur,Q=I,fr=w,or=y,sr=f.unpack,vr=f.type,Nr=R;fr.prototype.cmyk=function(){return Nr(this._rgb)},Q.cmyk=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(fr,[null].concat(a,["cmyk"])))},or.format.cmyk=er,or.autodetect.push({p:2,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a=sr(a,"cmyk"),vr(a)==="array"&&a.length===4)return"cmyk"}});var Er=f.unpack,Fr=f.last,Rr=function(a){return Math.round(a*100)/100},Ur=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=Er(a,"hsla"),F=Fr(a)||"lsa";return d[0]=Rr(d[0]||0),d[1]=Rr(d[1]*100)+"%",d[2]=Rr(d[2]*100)+"%",F==="hsla"||d.length>3&&d[3]<1?(d[3]=d.length>3?d[3]:1,F="hsla"):d.length=3,F+"("+d.join(",")+")"},Wr=Ur,Ir=f.unpack,ie=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];a=Ir(a,"rgba");var d=a[0],F=a[1],M=a[2];d/=255,F/=255,M/=255;var S=Math.min(d,F,M),N=Math.max(d,F,M),$=(N+S)/2,O,L;return N===S?(O=0,L=Number.NaN):O=$<.5?(N-S)/(N+S):(N-S)/(2-N-S),d==N?L=(F-M)/(N-S):F==N?L=2+(M-d)/(N-S):M==N&&(L=4+(d-F)/(N-S)),L*=60,L<0&&(L+=360),a.length>3&&a[3]!==void 0?[L,O,$,a[3]]:[L,O,$]},Br=ie,Mr=f.unpack,ve=f.last,Kr=Wr,xr=Br,Hr=Math.round,pe=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=Mr(a,"rgba"),F=ve(a)||"rgb";return F.substr(0,3)=="hsl"?Kr(xr(d),F):(d[0]=Hr(d[0]),d[1]=Hr(d[1]),d[2]=Hr(d[2]),(F==="rgba"||d.length>3&&d[3]<1)&&(d[3]=d.length>3?d[3]:1,F="rgba"),F+"("+d.slice(0,F==="rgb"?3:4).join(",")+")")},Fe=pe,Ee=f.unpack,Me=Math.round,Pe=function(){for(var a,c=[],d=arguments.length;d--;)c[d]=arguments[d];c=Ee(c,"hsl");var F=c[0],M=c[1],S=c[2],N,$,O;if(M===0)N=$=O=S*255;else{var L=[0,0,0],V=[0,0,0],rr=S<.5?S*(1+M):S+M-S*M,Y=2*S-rr,nr=F/360;L[0]=nr+1/3,L[1]=nr,L[2]=nr-1/3;for(var tr=0;tr<3;tr++)L[tr]<0&&(L[tr]+=1),L[tr]>1&&(L[tr]-=1),6*L[tr]<1?V[tr]=Y+(rr-Y)*6*L[tr]:2*L[tr]<1?V[tr]=rr:3*L[tr]<2?V[tr]=Y+(rr-Y)*(2/3-L[tr])*6:V[tr]=Y;a=[Me(V[0]*255),Me(V[1]*255),Me(V[2]*255)],N=a[0],$=a[1],O=a[2]}return c.length>3?[N,$,O,c[3]]:[N,$,O,1]},et=Pe,It=et,Nt=y,_=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,x=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,z=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,q=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,H=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,U=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,j=Math.round,J=function(a){a=a.toLowerCase().trim();var c;if(Nt.format.named)try{return Nt.format.named(a)}catch(tr){}if(c=a.match(_)){for(var d=c.slice(1,4),F=0;F<3;F++)d[F]=+d[F];return d[3]=1,d}if(c=a.match(x)){for(var M=c.slice(1,5),S=0;S<4;S++)M[S]=+M[S];return M}if(c=a.match(z)){for(var N=c.slice(1,4),$=0;$<3;$++)N[$]=j(N[$]*2.55);return N[3]=1,N}if(c=a.match(q)){for(var O=c.slice(1,5),L=0;L<3;L++)O[L]=j(O[L]*2.55);return O[3]=+O[3],O}if(c=a.match(H)){var V=c.slice(1,4);V[1]*=.01,V[2]*=.01;var rr=It(V);return rr[3]=1,rr}if(c=a.match(U)){var Y=c.slice(1,4);Y[1]*=.01,Y[2]*=.01;var nr=It(Y);return nr[3]=+c[4],nr}};J.test=function(a){return _.test(a)||x.test(a)||z.test(a)||q.test(a)||H.test(a)||U.test(a)};var K=J,X=I,Ar=w,$r=y,Vr=f.type,ce=Fe,te=K;Ar.prototype.css=function(a){return ce(this._rgb,a)},X.css=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(Ar,[null].concat(a,["css"])))},$r.format.css=te,$r.autodetect.push({p:5,test:function(a){for(var c=[],d=arguments.length-1;d-- >0;)c[d]=arguments[d+1];if(!c.length&&Vr(a)==="string"&&te.test(a))return"css"}});var de=w,me=I,ze=y,tt=f.unpack;ze.format.gl=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=tt(a,"rgba");return d[0]*=255,d[1]*=255,d[2]*=255,d},me.gl=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(de,[null].concat(a,["gl"])))},de.prototype.gl=function(){var a=this._rgb;return[a[0]/255,a[1]/255,a[2]/255,a[3]]};var Cn=f.unpack,_n=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=Cn(a,"rgb"),F=d[0],M=d[1],S=d[2],N=Math.min(F,M,S),$=Math.max(F,M,S),O=$-N,L=O*100/255,V=N/(255-O)*100,rr;return O===0?rr=Number.NaN:(F===$&&(rr=(M-S)/O),M===$&&(rr=2+(S-F)/O),S===$&&(rr=4+(F-M)/O),rr*=60,rr<0&&(rr+=360)),[rr,L,V]},Nn=_n,Bn=f.unpack,Mn=Math.floor,Sn=function(){for(var a,c,d,F,M,S,N=[],$=arguments.length;$--;)N[$]=arguments[$];N=Bn(N,"hcg");var O=N[0],L=N[1],V=N[2],rr,Y,nr;V=V*255;var tr=L*255;if(L===0)rr=Y=nr=V;else{O===360&&(O=0),O>360&&(O-=360),O<0&&(O+=360),O/=60;var pr=Mn(O),gr=O-pr,wr=V*(1-L),_r=wr+tr*(1-gr),ae=wr+tr*gr,ue=wr+tr;switch(pr){case 0:a=[ue,ae,wr],rr=a[0],Y=a[1],nr=a[2];break;case 1:c=[_r,ue,wr],rr=c[0],Y=c[1],nr=c[2];break;case 2:d=[wr,ue,ae],rr=d[0],Y=d[1],nr=d[2];break;case 3:F=[wr,_r,ue],rr=F[0],Y=F[1],nr=F[2];break;case 4:M=[ae,wr,ue],rr=M[0],Y=M[1],nr=M[2];break;case 5:S=[ue,wr,_r],rr=S[0],Y=S[1],nr=S[2];break}}return[rr,Y,nr,N.length>3?N[3]:1]},Tn=Sn,xn=f.unpack,$n=f.type,On=I,Pt=w,zt=y,In=Nn;Pt.prototype.hcg=function(){return In(this._rgb)},On.hcg=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(Pt,[null].concat(a,["hcg"])))},zt.format.hcg=Tn,zt.autodetect.push({p:1,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a=xn(a,"hcg"),$n(a)==="array"&&a.length===3)return"hcg"}});var Pn=f.unpack,zn=f.last,nt=Math.round,kn=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=Pn(a,"rgba"),F=d[0],M=d[1],S=d[2],N=d[3],$=zn(a)||"auto";N===void 0&&(N=1),$==="auto"&&($=N<1?"rgba":"rgb"),F=nt(F),M=nt(M),S=nt(S);var O=F<<16|M<<8|S,L="000000"+O.toString(16);L=L.substr(L.length-6);var V="0"+nt(N*255).toString(16);switch(V=V.substr(V.length-2),$.toLowerCase()){case"rgba":return"#"+L+V;case"argb":return"#"+V+L;default:return"#"+L}},kt=kn,Rn=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Ln=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,qn=function(a){if(a.match(Rn)){(a.length===4||a.length===7)&&(a=a.substr(1)),a.length===3&&(a=a.split(""),a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]);var c=parseInt(a,16),d=c>>16,F=c>>8&255,M=c&255;return[d,F,M,1]}if(a.match(Ln)){(a.length===5||a.length===9)&&(a=a.substr(1)),a.length===4&&(a=a.split(""),a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]+a[3]+a[3]);var S=parseInt(a,16),N=S>>24&255,$=S>>16&255,O=S>>8&255,L=Math.round((S&255)/255*100)/100;return[N,$,O,L]}throw new Error("unknown hex color: "+a)},Rt=qn,Un=I,Lt=w,Zn=f.type,qt=y,Gn=kt;Lt.prototype.hex=function(a){return Gn(this._rgb,a)},Un.hex=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(Lt,[null].concat(a,["hex"])))},qt.format.hex=Rt,qt.autodetect.push({p:4,test:function(a){for(var c=[],d=arguments.length-1;d-- >0;)c[d]=arguments[d+1];if(!c.length&&Zn(a)==="string"&&[3,4,5,6,7,8,9].indexOf(a.length)>=0)return"hex"}});var Hn=f.unpack,ke=f.TWOPI,Cr=Math.min,le=Math.sqrt,Vn=Math.acos,ut=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=Hn(a,"rgb"),F=d[0],M=d[1],S=d[2];F/=255,M/=255,S/=255;var N,$=Cr(F,M,S),O=(F+M+S)/3,L=O>0?1-$/O:0;return L===0?N=NaN:(N=(F-M+(F-S))/2,N/=le((F-M)*(F-M)+(F-S)*(M-S)),N=Vn(N),S>M&&(N=ke-N),N/=ke),[N*360,L,O]},We=ut,Yn=f.unpack,Wn=f.limit,it=f.TWOPI,Xn=f.PITHIRD,at=Math.cos,qo=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];a=Yn(a,"hsi");var d=a[0],F=a[1],M=a[2],S,N,$;return isNaN(d)&&(d=0),isNaN(F)&&(F=0),d>360&&(d-=360),d<0&&(d+=360),d/=360,d<1/3?($=(1-F)/3,S=(1+F*at(it*d)/at(Xn-it*d))/3,N=1-($+S)):d<2/3?(d-=1/3,S=(1-F)/3,N=(1+F*at(it*d)/at(Xn-it*d))/3,$=1-(S+N)):(d-=2/3,N=(1-F)/3,$=(1+F*at(it*d)/at(Xn-it*d))/3,S=1-(N+$)),S=Wn(M*S*3),N=Wn(M*N*3),$=Wn(M*$*3),[S*255,N*255,$*255,a.length>3?a[3]:1]},Uo=qo,Zo=f.unpack,Go=f.type,Ho=I,Yu=w,Wu=y,Vo=We;Yu.prototype.hsi=function(){return Vo(this._rgb)},Ho.hsi=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(Yu,[null].concat(a,["hsi"])))},Wu.format.hsi=Uo,Wu.autodetect.push({p:2,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a=Zo(a,"hsi"),Go(a)==="array"&&a.length===3)return"hsi"}});var Yo=f.unpack,Wo=f.type,Xo=I,Xu=w,Ju=y,Jo=Br;Xu.prototype.hsl=function(){return Jo(this._rgb)},Xo.hsl=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(Xu,[null].concat(a,["hsl"])))},Ju.format.hsl=et,Ju.autodetect.push({p:2,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a=Yo(a,"hsl"),Wo(a)==="array"&&a.length===3)return"hsl"}});var Qo=f.unpack,jo=Math.min,Ko=Math.max,rs=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];a=Qo(a,"rgb");var d=a[0],F=a[1],M=a[2],S=jo(d,F,M),N=Ko(d,F,M),$=N-S,O,L,V;return V=N/255,N===0?(O=Number.NaN,L=0):(L=$/N,d===N&&(O=(F-M)/$),F===N&&(O=2+(M-d)/$),M===N&&(O=4+(d-F)/$),O*=60,O<0&&(O+=360)),[O,L,V]},es=rs,ts=f.unpack,ns=Math.floor,us=function(){for(var a,c,d,F,M,S,N=[],$=arguments.length;$--;)N[$]=arguments[$];N=ts(N,"hsv");var O=N[0],L=N[1],V=N[2],rr,Y,nr;if(V*=255,L===0)rr=Y=nr=V;else{O===360&&(O=0),O>360&&(O-=360),O<0&&(O+=360),O/=60;var tr=ns(O),pr=O-tr,gr=V*(1-L),wr=V*(1-L*pr),_r=V*(1-L*(1-pr));switch(tr){case 0:a=[V,_r,gr],rr=a[0],Y=a[1],nr=a[2];break;case 1:c=[wr,V,gr],rr=c[0],Y=c[1],nr=c[2];break;case 2:d=[gr,V,_r],rr=d[0],Y=d[1],nr=d[2];break;case 3:F=[gr,wr,V],rr=F[0],Y=F[1],nr=F[2];break;case 4:M=[_r,gr,V],rr=M[0],Y=M[1],nr=M[2];break;case 5:S=[V,gr,wr],rr=S[0],Y=S[1],nr=S[2];break}}return[rr,Y,nr,N.length>3?N[3]:1]},is=us,as=f.unpack,os=f.type,ss=I,Qu=w,ju=y,fs=es;Qu.prototype.hsv=function(){return fs(this._rgb)},ss.hsv=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(Qu,[null].concat(a,["hsv"])))},ju.format.hsv=is,ju.autodetect.push({p:2,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a=as(a,"hsv"),os(a)==="array"&&a.length===3)return"hsv"}});var Ut={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ot=Ut,cs=f.unpack,Ku=Math.pow,ls=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=cs(a,"rgb"),F=d[0],M=d[1],S=d[2],N=hs(F,M,S),$=N[0],O=N[1],L=N[2],V=116*O-16;return[V<0?0:V,500*($-O),200*(O-L)]},Jn=function(a){return(a/=255)<=.04045?a/12.92:Ku((a+.055)/1.055,2.4)},Qn=function(a){return a>ot.t3?Ku(a,1/3):a/ot.t2+ot.t0},hs=function(a,c,d){a=Jn(a),c=Jn(c),d=Jn(d);var F=Qn((.4124564*a+.3575761*c+.1804375*d)/ot.Xn),M=Qn((.2126729*a+.7151522*c+.072175*d)/ot.Yn),S=Qn((.0193339*a+.119192*c+.9503041*d)/ot.Zn);return[F,M,S]},ri=ls,st=Ut,vs=f.unpack,ps=Math.pow,ds=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];a=vs(a,"lab");var d=a[0],F=a[1],M=a[2],S,N,$,O,L,V;return N=(d+16)/116,S=isNaN(F)?N:N+F/500,$=isNaN(M)?N:N-M/200,N=st.Yn*Kn(N),S=st.Xn*Kn(S),$=st.Zn*Kn($),O=jn(3.2404542*S-1.5371385*N-.4985314*$),L=jn(-.969266*S+1.8760108*N+.041556*$),V=jn(.0556434*S-.2040259*N+1.0572252*$),[O,L,V,a.length>3?a[3]:1]},jn=function(a){return 255*(a<=.00304?12.92*a:1.055*ps(a,1/2.4)-.055)},Kn=function(a){return a>st.t1?a*a*a:st.t2*(a-st.t0)},ei=ds,Ds=f.unpack,gs=f.type,ms=I,ti=w,ni=y,ws=ri;ti.prototype.lab=function(){return ws(this._rgb)},ms.lab=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(ti,[null].concat(a,["lab"])))},ni.format.lab=ei,ni.autodetect.push({p:2,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a=Ds(a,"lab"),gs(a)==="array"&&a.length===3)return"lab"}});var bs=f.unpack,ys=f.RAD2DEG,Fs=Math.sqrt,Es=Math.atan2,As=Math.round,Cs=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=bs(a,"lab"),F=d[0],M=d[1],S=d[2],N=Fs(M*M+S*S),$=(Es(S,M)*ys+360)%360;return As(N*1e4)===0&&($=Number.NaN),[F,N,$]},ui=Cs,_s=f.unpack,Ns=ri,Bs=ui,Ms=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=_s(a,"rgb"),F=d[0],M=d[1],S=d[2],N=Ns(F,M,S),$=N[0],O=N[1],L=N[2];return Bs($,O,L)},Ss=Ms,Ts=f.unpack,xs=f.DEG2RAD,$s=Math.sin,Os=Math.cos,Is=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=Ts(a,"lch"),F=d[0],M=d[1],S=d[2];return isNaN(S)&&(S=0),S=S*xs,[F,Os(S)*M,$s(S)*M]},ii=Is,Ps=f.unpack,zs=ii,ks=ei,Rs=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];a=Ps(a,"lch");var d=a[0],F=a[1],M=a[2],S=zs(d,F,M),N=S[0],$=S[1],O=S[2],L=ks(N,$,O),V=L[0],rr=L[1],Y=L[2];return[V,rr,Y,a.length>3?a[3]:1]},ai=Rs,Ls=f.unpack,qs=ai,Us=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=Ls(a,"hcl").reverse();return qs.apply(void 0,d)},Zs=Us,Gs=f.unpack,Hs=f.type,oi=I,Zt=w,ru=y,si=Ss;Zt.prototype.lch=function(){return si(this._rgb)},Zt.prototype.hcl=function(){return si(this._rgb).reverse()},oi.lch=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(Zt,[null].concat(a,["lch"])))},oi.hcl=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(Zt,[null].concat(a,["hcl"])))},ru.format.lch=ai,ru.format.hcl=Zs,["lch","hcl"].forEach(function(a){return ru.autodetect.push({p:2,test:function(){for(var c=[],d=arguments.length;d--;)c[d]=arguments[d];if(c=Gs(c,a),Hs(c)==="array"&&c.length===3)return a}})});var Vs={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},fi=Vs,Ys=w,ci=y,Ws=f.type,Bt=fi,Xs=Rt,Js=kt;Ys.prototype.name=function(){for(var a=Js(this._rgb,"rgb"),c=0,d=Object.keys(Bt);c<d.length;c+=1){var F=d[c];if(Bt[F]===a)return F.toLowerCase()}return a},ci.format.named=function(a){if(a=a.toLowerCase(),Bt[a])return Xs(Bt[a]);throw new Error("unknown color name: "+a)},ci.autodetect.push({p:5,test:function(a){for(var c=[],d=arguments.length-1;d-- >0;)c[d]=arguments[d+1];if(!c.length&&Ws(a)==="string"&&Bt[a.toLowerCase()])return"named"}});var Qs=f.unpack,js=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=Qs(a,"rgb"),F=d[0],M=d[1],S=d[2];return(F<<16)+(M<<8)+S},Ks=js,rf=f.type,ef=function(a){if(rf(a)=="number"&&a>=0&&a<=16777215){var c=a>>16,d=a>>8&255,F=a&255;return[c,d,F,1]}throw new Error("unknown num color: "+a)},tf=ef,nf=I,li=w,hi=y,uf=f.type,af=Ks;li.prototype.num=function(){return af(this._rgb)},nf.num=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(li,[null].concat(a,["num"])))},hi.format.num=tf,hi.autodetect.push({p:5,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a.length===1&&uf(a[0])==="number"&&a[0]>=0&&a[0]<=16777215)return"num"}});var of=I,eu=w,vi=y,pi=f.unpack,di=f.type,Di=Math.round;eu.prototype.rgb=function(a){return a===void 0&&(a=!0),a===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Di)},eu.prototype.rgba=function(a){return a===void 0&&(a=!0),this._rgb.slice(0,4).map(function(c,d){return d<3?a===!1?c:Di(c):c})},of.rgb=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(eu,[null].concat(a,["rgb"])))},vi.format.rgb=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=pi(a,"rgba");return d[3]===void 0&&(d[3]=1),d},vi.autodetect.push({p:3,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a=pi(a,"rgba"),di(a)==="array"&&(a.length===3||a.length===4&&di(a[3])=="number"&&a[3]>=0&&a[3]<=1))return"rgb"}});var Gt=Math.log,sf=function(a){var c=a/100,d,F,M;return c<66?(d=255,F=c<6?0:-155.25485562709179-.44596950469579133*(F=c-2)+104.49216199393888*Gt(F),M=c<20?0:-254.76935184120902+.8274096064007395*(M=c-10)+115.67994401066147*Gt(M)):(d=351.97690566805693+.114206453784165*(d=c-55)-40.25366309332127*Gt(d),F=325.4494125711974+.07943456536662342*(F=c-50)-28.0852963507957*Gt(F),M=255),[d,F,M,1]},gi=sf,ff=gi,cf=f.unpack,lf=Math.round,hf=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];for(var d=cf(a,"rgb"),F=d[0],M=d[2],S=1e3,N=4e4,$=.4,O;N-S>$;){O=(N+S)*.5;var L=ff(O);L[2]/L[0]>=M/F?N=O:S=O}return lf(O)},vf=hf,tu=I,Ht=w,nu=y,pf=vf;Ht.prototype.temp=Ht.prototype.kelvin=Ht.prototype.temperature=function(){return pf(this._rgb)},tu.temp=tu.kelvin=tu.temperature=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(Ht,[null].concat(a,["temp"])))},nu.format.temp=nu.format.kelvin=nu.format.temperature=gi;var df=f.unpack,uu=Math.cbrt,Df=Math.pow,gf=Math.sign,mf=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=df(a,"rgb"),F=d[0],M=d[1],S=d[2],N=[iu(F/255),iu(M/255),iu(S/255)],$=N[0],O=N[1],L=N[2],V=uu(.4122214708*$+.5363325363*O+.0514459929*L),rr=uu(.2119034982*$+.6806995451*O+.1073969566*L),Y=uu(.0883024619*$+.2817188376*O+.6299787005*L);return[.2104542553*V+.793617785*rr-.0040720468*Y,1.9779984951*V-2.428592205*rr+.4505937099*Y,.0259040371*V+.7827717662*rr-.808675766*Y]},mi=mf;function iu(a){var c=Math.abs(a);return c<.04045?a/12.92:(gf(a)||1)*Df((c+.055)/1.055,2.4)}var wf=f.unpack,Vt=Math.pow,bf=Math.sign,yf=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];a=wf(a,"lab");var d=a[0],F=a[1],M=a[2],S=Vt(d+.3963377774*F+.2158037573*M,3),N=Vt(d-.1055613458*F-.0638541728*M,3),$=Vt(d-.0894841775*F-1.291485548*M,3);return[255*au(4.0767416621*S-3.3077115913*N+.2309699292*$),255*au(-1.2684380046*S+2.6097574011*N-.3413193965*$),255*au(-.0041960863*S-.7034186147*N+1.707614701*$),a.length>3?a[3]:1]},wi=yf;function au(a){var c=Math.abs(a);return c>.0031308?(bf(a)||1)*(1.055*Vt(c,1/2.4)-.055):a*12.92}var Ff=f.unpack,Ef=f.type,Af=I,bi=w,yi=y,Cf=mi;bi.prototype.oklab=function(){return Cf(this._rgb)},Af.oklab=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(bi,[null].concat(a,["oklab"])))},yi.format.oklab=wi,yi.autodetect.push({p:3,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a=Ff(a,"oklab"),Ef(a)==="array"&&a.length===3)return"oklab"}});var _f=f.unpack,Nf=mi,Bf=ui,Mf=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=_f(a,"rgb"),F=d[0],M=d[1],S=d[2],N=Nf(F,M,S),$=N[0],O=N[1],L=N[2];return Bf($,O,L)},Sf=Mf,Tf=f.unpack,xf=ii,$f=wi,Of=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];a=Tf(a,"lch");var d=a[0],F=a[1],M=a[2],S=xf(d,F,M),N=S[0],$=S[1],O=S[2],L=$f(N,$,O),V=L[0],rr=L[1],Y=L[2];return[V,rr,Y,a.length>3?a[3]:1]},If=Of,Pf=f.unpack,zf=f.type,kf=I,Fi=w,Ei=y,Rf=Sf;Fi.prototype.oklch=function(){return Rf(this._rgb)},kf.oklch=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(Fi,[null].concat(a,["oklch"])))},Ei.format.oklch=If,Ei.autodetect.push({p:3,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a=Pf(a,"oklch"),zf(a)==="array"&&a.length===3)return"oklch"}});var Ai=w,Lf=f.type;Ai.prototype.alpha=function(a,c){return c===void 0&&(c=!1),a!==void 0&&Lf(a)==="number"?c?(this._rgb[3]=a,this):new Ai([this._rgb[0],this._rgb[1],this._rgb[2],a],"rgb"):this._rgb[3]};var qf=w;qf.prototype.clipped=function(){return this._rgb._clipped||!1};var Xe=w,Uf=Ut;Xe.prototype.darken=function(a){a===void 0&&(a=1);var c=this,d=c.lab();return d[0]-=Uf.Kn*a,new Xe(d,"lab").alpha(c.alpha(),!0)},Xe.prototype.brighten=function(a){return a===void 0&&(a=1),this.darken(-a)},Xe.prototype.darker=Xe.prototype.darken,Xe.prototype.brighter=Xe.prototype.brighten;var Zf=w;Zf.prototype.get=function(a){var c=a.split("."),d=c[0],F=c[1],M=this[d]();if(F){var S=d.indexOf(F)-(d.substr(0,2)==="ok"?2:0);if(S>-1)return M[S];throw new Error("unknown channel "+F+" in mode "+d)}else return M};var ft=w,Gf=f.type,Hf=Math.pow,Vf=1e-7,Yf=20;ft.prototype.luminance=function(a){if(a!==void 0&&Gf(a)==="number"){if(a===0)return new ft([0,0,0,this._rgb[3]],"rgb");if(a===1)return new ft([255,255,255,this._rgb[3]],"rgb");var c=this.luminance(),d="rgb",F=Yf,M=function(N,$){var O=N.interpolate($,.5,d),L=O.luminance();return Math.abs(a-L)<Vf||!F--?O:L>a?M(N,O):M(O,$)},S=(c>a?M(new ft([0,0,0]),this):M(this,new ft([255,255,255]))).rgb();return new ft(S.concat([this._rgb[3]]))}return Wf.apply(void 0,this._rgb.slice(0,3))};var Wf=function(a,c,d){return a=ou(a),c=ou(c),d=ou(d),.2126*a+.7152*c+.0722*d},ou=function(a){return a/=255,a<=.03928?a/12.92:Hf((a+.055)/1.055,2.4)},we={},Ci=w,_i=f.type,Yt=we,Ni=function(a,c,d){d===void 0&&(d=.5);for(var F=[],M=arguments.length-3;M-- >0;)F[M]=arguments[M+3];var S=F[0]||"lrgb";if(!Yt[S]&&!F.length&&(S=Object.keys(Yt)[0]),!Yt[S])throw new Error("interpolation mode "+S+" is not defined");return _i(a)!=="object"&&(a=new Ci(a)),_i(c)!=="object"&&(c=new Ci(c)),Yt[S](a,c,d).alpha(a.alpha()+d*(c.alpha()-a.alpha()))},Bi=w,Xf=Ni;Bi.prototype.mix=Bi.prototype.interpolate=function(a,c){c===void 0&&(c=.5);for(var d=[],F=arguments.length-2;F-- >0;)d[F]=arguments[F+2];return Xf.apply(void 0,[this,a,c].concat(d))};var Mi=w;Mi.prototype.premultiply=function(a){a===void 0&&(a=!1);var c=this._rgb,d=c[3];return a?(this._rgb=[c[0]*d,c[1]*d,c[2]*d,d],this):new Mi([c[0]*d,c[1]*d,c[2]*d,d],"rgb")};var su=w,Jf=Ut;su.prototype.saturate=function(a){a===void 0&&(a=1);var c=this,d=c.lch();return d[1]+=Jf.Kn*a,d[1]<0&&(d[1]=0),new su(d,"lch").alpha(c.alpha(),!0)},su.prototype.desaturate=function(a){return a===void 0&&(a=1),this.saturate(-a)};var Si=w,Ti=f.type;Si.prototype.set=function(a,c,d){d===void 0&&(d=!1);var F=a.split("."),M=F[0],S=F[1],N=this[M]();if(S){var $=M.indexOf(S)-(M.substr(0,2)==="ok"?2:0);if($>-1){if(Ti(c)=="string")switch(c.charAt(0)){case"+":N[$]+=+c;break;case"-":N[$]+=+c;break;case"*":N[$]*=+c.substr(1);break;case"/":N[$]/=+c.substr(1);break;default:N[$]=+c}else if(Ti(c)==="number")N[$]=c;else throw new Error("unsupported value for Color.set");var O=new Si(N,M);return d?(this._rgb=O._rgb,this):O}throw new Error("unknown channel "+S+" in mode "+M)}else return N};var Qf=w,jf=function(a,c,d){var F=a._rgb,M=c._rgb;return new Qf(F[0]+d*(M[0]-F[0]),F[1]+d*(M[1]-F[1]),F[2]+d*(M[2]-F[2]),"rgb")};we.rgb=jf;var Kf=w,fu=Math.sqrt,ct=Math.pow,r0=function(a,c,d){var F=a._rgb,M=F[0],S=F[1],N=F[2],$=c._rgb,O=$[0],L=$[1],V=$[2];return new Kf(fu(ct(M,2)*(1-d)+ct(O,2)*d),fu(ct(S,2)*(1-d)+ct(L,2)*d),fu(ct(N,2)*(1-d)+ct(V,2)*d),"rgb")};we.lrgb=r0;var e0=w,t0=function(a,c,d){var F=a.lab(),M=c.lab();return new e0(F[0]+d*(M[0]-F[0]),F[1]+d*(M[1]-F[1]),F[2]+d*(M[2]-F[2]),"lab")};we.lab=t0;var xi=w,lt=function(a,c,d,F){var M,S,N,$;F==="hsl"?(N=a.hsl(),$=c.hsl()):F==="hsv"?(N=a.hsv(),$=c.hsv()):F==="hcg"?(N=a.hcg(),$=c.hcg()):F==="hsi"?(N=a.hsi(),$=c.hsi()):F==="lch"||F==="hcl"?(F="hcl",N=a.hcl(),$=c.hcl()):F==="oklch"&&(N=a.oklch().reverse(),$=c.oklch().reverse());var O,L,V,rr,Y,nr;(F.substr(0,1)==="h"||F==="oklch")&&(M=N,O=M[0],V=M[1],Y=M[2],S=$,L=S[0],rr=S[1],nr=S[2]);var tr,pr,gr,wr;return!isNaN(O)&&!isNaN(L)?(L>O&&L-O>180?wr=L-(O+360):L<O&&O-L>180?wr=L+360-O:wr=L-O,pr=O+d*wr):isNaN(O)?isNaN(L)?pr=Number.NaN:(pr=L,(Y==1||Y==0)&&F!="hsv"&&(tr=rr)):(pr=O,(nr==1||nr==0)&&F!="hsv"&&(tr=V)),tr===void 0&&(tr=V+d*(rr-V)),gr=Y+d*(nr-Y),F==="oklch"?new xi([gr,tr,pr],F):new xi([pr,tr,gr],F)},n0=lt,$i=function(a,c,d){return n0(a,c,d,"lch")};we.lch=$i,we.hcl=$i;var u0=w,i0=function(a,c,d){var F=a.num(),M=c.num();return new u0(F+d*(M-F),"num")};we.num=i0;var a0=lt,o0=function(a,c,d){return a0(a,c,d,"hcg")};we.hcg=o0;var s0=lt,f0=function(a,c,d){return s0(a,c,d,"hsi")};we.hsi=f0;var c0=lt,l0=function(a,c,d){return c0(a,c,d,"hsl")};we.hsl=l0;var h0=lt,v0=function(a,c,d){return h0(a,c,d,"hsv")};we.hsv=v0;var p0=w,d0=function(a,c,d){var F=a.oklab(),M=c.oklab();return new p0(F[0]+d*(M[0]-F[0]),F[1]+d*(M[1]-F[1]),F[2]+d*(M[2]-F[2]),"oklab")};we.oklab=d0;var D0=lt,g0=function(a,c,d){return D0(a,c,d,"oklch")};we.oklch=g0;var cu=w,m0=f.clip_rgb,lu=Math.pow,hu=Math.sqrt,vu=Math.PI,Oi=Math.cos,Ii=Math.sin,w0=Math.atan2,b0=function(a,c,d){c===void 0&&(c="lrgb"),d===void 0&&(d=null);var F=a.length;d||(d=Array.from(new Array(F)).map(function(){return 1}));var M=F/d.reduce(function(pr,gr){return pr+gr});if(d.forEach(function(pr,gr){d[gr]*=M}),a=a.map(function(pr){return new cu(pr)}),c==="lrgb")return y0(a,d);for(var S=a.shift(),N=S.get(c),$=[],O=0,L=0,V=0;V<N.length;V++)if(N[V]=(N[V]||0)*d[0],$.push(isNaN(N[V])?0:d[0]),c.charAt(V)==="h"&&!isNaN(N[V])){var rr=N[V]/180*vu;O+=Oi(rr)*d[0],L+=Ii(rr)*d[0]}var Y=S.alpha()*d[0];a.forEach(function(pr,gr){var wr=pr.get(c);Y+=pr.alpha()*d[gr+1];for(var _r=0;_r<N.length;_r++)if(!isNaN(wr[_r]))if($[_r]+=d[gr+1],c.charAt(_r)==="h"){var ae=wr[_r]/180*vu;O+=Oi(ae)*d[gr+1],L+=Ii(ae)*d[gr+1]}else N[_r]+=wr[_r]*d[gr+1]});for(var nr=0;nr<N.length;nr++)if(c.charAt(nr)==="h"){for(var tr=w0(L/$[nr],O/$[nr])/vu*180;tr<0;)tr+=360;for(;tr>=360;)tr-=360;N[nr]=tr}else N[nr]=N[nr]/$[nr];return Y/=F,new cu(N,c).alpha(Y>.99999?1:Y,!0)},y0=function(a,c){for(var d=a.length,F=[0,0,0,0],M=0;M<a.length;M++){var S=a[M],N=c[M]/d,$=S._rgb;F[0]+=lu($[0],2)*N,F[1]+=lu($[1],2)*N,F[2]+=lu($[2],2)*N,F[3]+=$[3]*N}return F[0]=hu(F[0]),F[1]=hu(F[1]),F[2]=hu(F[2]),F[3]>.9999999&&(F[3]=1),new cu(m0(F))},Ae=I,ht=f.type,F0=Math.pow,pu=function(a){var c="rgb",d=Ae("#ccc"),F=0,M=[0,1],S=[],N=[0,0],$=!1,O=[],L=!1,V=0,rr=1,Y=!1,nr={},tr=!0,pr=1,gr=function(W){if(W=W||["#fff","#000"],W&&ht(W)==="string"&&Ae.brewer&&Ae.brewer[W.toLowerCase()]&&(W=Ae.brewer[W.toLowerCase()]),ht(W)==="array"){W.length===1&&(W=[W[0],W[0]]),W=W.slice(0);for(var cr=0;cr<W.length;cr++)W[cr]=Ae(W[cr]);S.length=0;for(var Dr=0;Dr<W.length;Dr++)S.push(Dr/(W.length-1))}return De(),O=W},wr=function(W){if($!=null){for(var cr=$.length-1,Dr=0;Dr<cr&&W>=$[Dr];)Dr++;return Dr-1}return 0},_r=function(W){return W},ae=function(W){return W},ue=function(W,cr){var Dr,dr;if(cr==null&&(cr=!1),isNaN(W)||W===null)return d;if(cr)dr=W;else if($&&$.length>2){var oe=wr(W);dr=oe/($.length-2)}else rr!==V?dr=(W-V)/(rr-V):dr=1;dr=ae(dr),cr||(dr=_r(dr)),pr!==1&&(dr=F0(dr,pr)),dr=N[0]+dr*(1-N[0]-N[1]),dr=Math.min(1,Math.max(0,dr));var zr=Math.floor(dr*1e4);if(tr&&nr[zr])Dr=nr[zr];else{if(ht(O)==="array")for(var br=0;br<S.length;br++){var Sr=S[br];if(dr<=Sr){Dr=O[br];break}if(dr>=Sr&&br===S.length-1){Dr=O[br];break}if(dr>Sr&&dr<S[br+1]){dr=(dr-Sr)/(S[br+1]-Sr),Dr=Ae.interpolate(O[br],O[br+1],dr,c);break}}else ht(O)==="function"&&(Dr=O(dr));tr&&(nr[zr]=Dr)}return Dr},De=function(){return nr={}};gr(a);var mr=function(W){var cr=Ae(ue(W));return L&&cr[L]?cr[L]():cr};return mr.classes=function(W){if(W!=null){if(ht(W)==="array")$=W,M=[W[0],W[W.length-1]];else{var cr=Ae.analyze(M);W===0?$=[cr.min,cr.max]:$=Ae.limits(cr,"e",W)}return mr}return $},mr.domain=function(W){if(!arguments.length)return M;V=W[0],rr=W[W.length-1],S=[];var cr=O.length;if(W.length===cr&&V!==rr)for(var Dr=0,dr=Array.from(W);Dr<dr.length;Dr+=1){var oe=dr[Dr];S.push((oe-V)/(rr-V))}else{for(var zr=0;zr<cr;zr++)S.push(zr/(cr-1));if(W.length>2){var br=W.map(function(Tr,Or){return Or/(W.length-1)}),Sr=W.map(function(Tr){return(Tr-V)/(rr-V)});Sr.every(function(Tr,Or){return br[Or]===Tr})||(ae=function(Tr){if(Tr<=0||Tr>=1)return Tr;for(var Or=0;Tr>=Sr[Or+1];)Or++;var _e=(Tr-Sr[Or])/(Sr[Or+1]-Sr[Or]),qe=br[Or]+_e*(br[Or+1]-br[Or]);return qe})}}return M=[V,rr],mr},mr.mode=function(W){return arguments.length?(c=W,De(),mr):c},mr.range=function(W,cr){return gr(W),mr},mr.out=function(W){return L=W,mr},mr.spread=function(W){return arguments.length?(F=W,mr):F},mr.correctLightness=function(W){return W==null&&(W=!0),Y=W,De(),Y?_r=function(cr){for(var Dr=ue(0,!0).lab()[0],dr=ue(1,!0).lab()[0],oe=Dr>dr,zr=ue(cr,!0).lab()[0],br=Dr+(dr-Dr)*cr,Sr=zr-br,Tr=0,Or=1,_e=20;Math.abs(Sr)>.01&&_e-- >0;)(function(){return oe&&(Sr*=-1),Sr<0?(Tr=cr,cr+=(Or-cr)*.5):(Or=cr,cr+=(Tr-cr)*.5),zr=ue(cr,!0).lab()[0],Sr=zr-br})();return cr}:_r=function(cr){return cr},mr},mr.padding=function(W){return W!=null?(ht(W)==="number"&&(W=[W,W]),N=W,mr):N},mr.colors=function(W,cr){arguments.length<2&&(cr="hex");var Dr=[];if(arguments.length===0)Dr=O.slice(0);else if(W===1)Dr=[mr(.5)];else if(W>1){var dr=M[0],oe=M[1]-dr;Dr=E0(0,W,!1).map(function(Or){return mr(dr+Or/(W-1)*oe)})}else{a=[];var zr=[];if($&&$.length>2)for(var br=1,Sr=$.length,Tr=1<=Sr;Tr?br<Sr:br>Sr;Tr?br++:br--)zr.push(($[br-1]+$[br])*.5);else zr=M;Dr=zr.map(function(Or){return mr(Or)})}return Ae[cr]&&(Dr=Dr.map(function(Or){return Or[cr]()})),Dr},mr.cache=function(W){return W!=null?(tr=W,mr):tr},mr.gamma=function(W){return W!=null?(pr=W,mr):pr},mr.nodata=function(W){return W!=null?(d=Ae(W),mr):d},mr};function E0(a,c,d){for(var F=[],M=a<c,S=d?M?c+1:c-1:c,N=a;M?N<S:N>S;M?N++:N--)F.push(N);return F}var Mt=w,A0=pu,C0=function(a){for(var c=[1,1],d=1;d<a;d++){for(var F=[1],M=1;M<=c.length;M++)F[M]=(c[M]||0)+c[M-1];c=F}return c},_0=function(a){var c,d,F,M,S,N,$;if(a=a.map(function(Y){return new Mt(Y)}),a.length===2)c=a.map(function(Y){return Y.lab()}),S=c[0],N=c[1],M=function(Y){var nr=[0,1,2].map(function(tr){return S[tr]+Y*(N[tr]-S[tr])});return new Mt(nr,"lab")};else if(a.length===3)d=a.map(function(Y){return Y.lab()}),S=d[0],N=d[1],$=d[2],M=function(Y){var nr=[0,1,2].map(function(tr){return(1-Y)*(1-Y)*S[tr]+2*(1-Y)*Y*N[tr]+Y*Y*$[tr]});return new Mt(nr,"lab")};else if(a.length===4){var O;F=a.map(function(Y){return Y.lab()}),S=F[0],N=F[1],$=F[2],O=F[3],M=function(Y){var nr=[0,1,2].map(function(tr){return(1-Y)*(1-Y)*(1-Y)*S[tr]+3*(1-Y)*(1-Y)*Y*N[tr]+3*(1-Y)*Y*Y*$[tr]+Y*Y*Y*O[tr]});return new Mt(nr,"lab")}}else if(a.length>=5){var L,V,rr;L=a.map(function(Y){return Y.lab()}),rr=a.length-1,V=C0(rr),M=function(Y){var nr=1-Y,tr=[0,1,2].map(function(pr){return L.reduce(function(gr,wr,_r){return gr+V[_r]*Math.pow(nr,rr-_r)*Math.pow(Y,_r)*wr[pr]},0)});return new Mt(tr,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return M},N0=function(a){var c=_0(a);return c.scale=function(){return A0(c)},c},du=I,Ce=function(a,c,d){if(!Ce[d])throw new Error("unknown blend mode "+d);return Ce[d](a,c)},Re=function(a){return function(c,d){var F=du(d).rgb(),M=du(c).rgb();return du.rgb(a(F,M))}},Le=function(a){return function(c,d){var F=[];return F[0]=a(c[0],d[0]),F[1]=a(c[1],d[1]),F[2]=a(c[2],d[2]),F}},B0=function(a){return a},M0=function(a,c){return a*c/255},S0=function(a,c){return a>c?c:a},T0=function(a,c){return a>c?a:c},x0=function(a,c){return 255*(1-(1-a/255)*(1-c/255))},$0=function(a,c){return c<128?2*a*c/255:255*(1-2*(1-a/255)*(1-c/255))},O0=function(a,c){return 255*(1-(1-c/255)/(a/255))},I0=function(a,c){return a===255?255:(a=255*(c/255)/(1-a/255),a>255?255:a)};Ce.normal=Re(Le(B0)),Ce.multiply=Re(Le(M0)),Ce.screen=Re(Le(x0)),Ce.overlay=Re(Le($0)),Ce.darken=Re(Le(S0)),Ce.lighten=Re(Le(T0)),Ce.dodge=Re(Le(I0)),Ce.burn=Re(Le(O0));for(var P0=Ce,Du=f.type,z0=f.clip_rgb,k0=f.TWOPI,R0=Math.pow,L0=Math.sin,q0=Math.cos,Pi=I,U0=function(a,c,d,F,M){a===void 0&&(a=300),c===void 0&&(c=-1.5),d===void 0&&(d=1),F===void 0&&(F=1),M===void 0&&(M=[0,1]);var S=0,N;Du(M)==="array"?N=M[1]-M[0]:(N=0,M=[M,M]);var $=function(O){var L=k0*((a+120)/360+c*O),V=R0(M[0]+N*O,F),rr=S!==0?d[0]+O*S:d,Y=rr*V*(1-V)/2,nr=q0(L),tr=L0(L),pr=V+Y*(-.14861*nr+1.78277*tr),gr=V+Y*(-.29227*nr-.90649*tr),wr=V+Y*(1.97294*nr);return Pi(z0([pr*255,gr*255,wr*255,1]))};return $.start=function(O){return O==null?a:(a=O,$)},$.rotations=function(O){return O==null?c:(c=O,$)},$.gamma=function(O){return O==null?F:(F=O,$)},$.hue=function(O){return O==null?d:(d=O,Du(d)==="array"?(S=d[1]-d[0],S===0&&(d=d[1])):S=0,$)},$.lightness=function(O){return O==null?M:(Du(O)==="array"?(M=O,N=O[1]-O[0]):(M=[O,O],N=0),$)},$.scale=function(){return Pi.scale($)},$.hue(d),$},Z0=w,G0="0123456789abcdef",H0=Math.floor,V0=Math.random,Y0=function(){for(var a="#",c=0;c<6;c++)a+=G0.charAt(H0(V0()*16));return new Z0(a,"hex")},gu=g,zi=Math.log,W0=Math.pow,X0=Math.floor,J0=Math.abs,ki=function(a,c){c===void 0&&(c=null);var d={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return gu(a)==="object"&&(a=Object.values(a)),a.forEach(function(F){c&&gu(F)==="object"&&(F=F[c]),F!=null&&!isNaN(F)&&(d.values.push(F),d.sum+=F,F<d.min&&(d.min=F),F>d.max&&(d.max=F),d.count+=1)}),d.domain=[d.min,d.max],d.limits=function(F,M){return Ri(d,F,M)},d},Ri=function(a,c,d){c===void 0&&(c="equal"),d===void 0&&(d=7),gu(a)=="array"&&(a=ki(a));var F=a.min,M=a.max,S=a.values.sort(function(wu,bu){return wu-bu});if(d===1)return[F,M];var N=[];if(c.substr(0,1)==="c"&&(N.push(F),N.push(M)),c.substr(0,1)==="e"){N.push(F);for(var $=1;$<d;$++)N.push(F+$/d*(M-F));N.push(M)}else if(c.substr(0,1)==="l"){if(F<=0)throw new Error("Logarithmic scales are only possible for values > 0");var O=Math.LOG10E*zi(F),L=Math.LOG10E*zi(M);N.push(F);for(var V=1;V<d;V++)N.push(W0(10,O+V/d*(L-O)));N.push(M)}else if(c.substr(0,1)==="q"){N.push(F);for(var rr=1;rr<d;rr++){var Y=(S.length-1)*rr/d,nr=X0(Y);if(nr===Y)N.push(S[nr]);else{var tr=Y-nr;N.push(S[nr]*(1-tr)+S[nr+1]*tr)}}N.push(M)}else if(c.substr(0,1)==="k"){var pr,gr=S.length,wr=new Array(gr),_r=new Array(d),ae=!0,ue=0,De=null;De=[],De.push(F);for(var mr=1;mr<d;mr++)De.push(F+mr/d*(M-F));for(De.push(M);ae;){for(var W=0;W<d;W++)_r[W]=0;for(var cr=0;cr<gr;cr++)for(var Dr=S[cr],dr=Number.MAX_VALUE,oe=void 0,zr=0;zr<d;zr++){var br=J0(De[zr]-Dr);br<dr&&(dr=br,oe=zr),_r[oe]++,wr[cr]=oe}for(var Sr=new Array(d),Tr=0;Tr<d;Tr++)Sr[Tr]=null;for(var Or=0;Or<gr;Or++)pr=wr[Or],Sr[pr]===null?Sr[pr]=S[Or]:Sr[pr]+=S[Or];for(var _e=0;_e<d;_e++)Sr[_e]*=1/_r[_e];ae=!1;for(var qe=0;qe<d;qe++)if(Sr[qe]!==De[qe]){ae=!0;break}De=Sr,ue++,ue>200&&(ae=!1)}for(var Ue={},vt=0;vt<d;vt++)Ue[vt]=[];for(var pt=0;pt<gr;pt++)pr=wr[pt],Ue[pr].push(S[pt]);for(var $e=[],Je=0;Je<d;Je++)$e.push(Ue[Je][0]),$e.push(Ue[Je][Ue[Je].length-1]);$e=$e.sort(function(wu,bu){return wu-bu}),N.push($e[0]);for(var St=1;St<$e.length;St+=2){var Qe=$e[St];!isNaN(Qe)&&N.indexOf(Qe)===-1&&N.push(Qe)}}return N},Li={analyze:ki,limits:Ri},qi=w,Q0=function(a,c){a=new qi(a),c=new qi(c);var d=a.luminance(),F=c.luminance();return d>F?(d+.05)/(F+.05):(F+.05)/(d+.05)},Ui=w,xe=Math.sqrt,Jr=Math.pow,j0=Math.min,K0=Math.max,Zi=Math.atan2,Gi=Math.abs,Wt=Math.cos,Hi=Math.sin,rc=Math.exp,Vi=Math.PI,ec=function(a,c,d,F,M){d===void 0&&(d=1),F===void 0&&(F=1),M===void 0&&(M=1);var S=function(Qe){return 360*Qe/(2*Vi)},N=function(Qe){return 2*Vi*Qe/360};a=new Ui(a),c=new Ui(c);var $=Array.from(a.lab()),O=$[0],L=$[1],V=$[2],rr=Array.from(c.lab()),Y=rr[0],nr=rr[1],tr=rr[2],pr=(O+Y)/2,gr=xe(Jr(L,2)+Jr(V,2)),wr=xe(Jr(nr,2)+Jr(tr,2)),_r=(gr+wr)/2,ae=.5*(1-xe(Jr(_r,7)/(Jr(_r,7)+Jr(25,7)))),ue=L*(1+ae),De=nr*(1+ae),mr=xe(Jr(ue,2)+Jr(V,2)),W=xe(Jr(De,2)+Jr(tr,2)),cr=(mr+W)/2,Dr=S(Zi(V,ue)),dr=S(Zi(tr,De)),oe=Dr>=0?Dr:Dr+360,zr=dr>=0?dr:dr+360,br=Gi(oe-zr)>180?(oe+zr+360)/2:(oe+zr)/2,Sr=1-.17*Wt(N(br-30))+.24*Wt(N(2*br))+.32*Wt(N(3*br+6))-.2*Wt(N(4*br-63)),Tr=zr-oe;Tr=Gi(Tr)<=180?Tr:zr<=oe?Tr+360:Tr-360,Tr=2*xe(mr*W)*Hi(N(Tr)/2);var Or=Y-O,_e=W-mr,qe=1+.015*Jr(pr-50,2)/xe(20+Jr(pr-50,2)),Ue=1+.045*cr,vt=1+.015*cr*Sr,pt=30*rc(-Jr((br-275)/25,2)),$e=2*xe(Jr(cr,7)/(Jr(cr,7)+Jr(25,7))),Je=-$e*Hi(2*N(pt)),St=xe(Jr(Or/(d*qe),2)+Jr(_e/(F*Ue),2)+Jr(Tr/(M*vt),2)+Je*(_e/(F*Ue))*(Tr/(M*vt)));return K0(0,j0(100,St))},Yi=w,tc=function(a,c,d){d===void 0&&(d="lab"),a=new Yi(a),c=new Yi(c);var F=a.get(d),M=c.get(d),S=0;for(var N in F){var $=(F[N]||0)-(M[N]||0);S+=$*$}return Math.sqrt(S)},nc=w,uc=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];try{return new(Function.prototype.bind.apply(nc,[null].concat(a))),!0}catch(d){return!1}},Wi=I,Xi=pu,ic={cool:function(){return Xi([Wi.hsl(180,1,.9),Wi.hsl(250,.7,.4)])},hot:function(){return Xi(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Xt={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},mu=0,Ji=Object.keys(Xt);mu<Ji.length;mu+=1){var Qi=Ji[mu];Xt[Qi.toLowerCase()]=Xt[Qi]}var ac=Xt,ne=I;ne.average=b0,ne.bezier=N0,ne.blend=P0,ne.cubehelix=U0,ne.mix=ne.interpolate=Ni,ne.random=Y0,ne.scale=pu,ne.analyze=Li.analyze,ne.contrast=Q0,ne.deltaE=ec,ne.distance=tc,ne.limits=Li.limits,ne.valid=uc,ne.scales=ic,ne.colors=fi,ne.brewer=ac;var oc=ne;return oc})})(za);var cc=za.exports;const ka=zu(cc);function un(){return un=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(r[u]=n[u])}return r},un.apply(this,arguments)}var Ra={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function kr(r){return typeof r=="number"}function jr(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function La(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function qa(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function Ua(r){return r&&r.constructor.prototype.isUnit===!0||!1}function Se(r){return typeof r=="string"}var Zr=Array.isArray;function ee(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function an(r){return Array.isArray(r)||ee(r)}function lc(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function hc(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function vc(r){return r&&r.constructor.prototype.isRange===!0||!1}function ku(r){return r&&r.constructor.prototype.isIndex===!0||!1}function pc(r){return typeof r=="boolean"}function dc(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function Dc(r){return r&&r.constructor.prototype.isHelp===!0||!1}function gc(r){return typeof r=="function"}function mc(r){return r instanceof Date}function wc(r){return r instanceof RegExp}function Ru(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!La(r)&&!qa(r))}function bc(r){return r===null}function yc(r){return r===void 0}function Fc(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ec(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ac(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Cc(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function _c(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Nc(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function Bc(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Mc(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function Sc(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function Tc(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function xc(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function $c(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Oc(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ic(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function Pc(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function zc(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function kc(r){return r&&r.constructor.prototype.isChain===!0||!1}function wt(r){var e=typeof r;return e==="object"?r===null?"null":jr(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function Xr(r){var e=typeof r;if(e==="number"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(n){return Xr(n)});if(r instanceof Date)return new Date(r.valueOf());if(jr(r))return r;if(Ru(r))return Rc(r,Xr);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function Rc(r,e){var n={};for(var u in r)on(r,u)&&(n[u]=e(r[u]));return n}function yt(r,e){var n,u,t;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(u=0,t=r.length;u<t;u++)if(!yt(r[u],e[u]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in r)if(!(n in e)||!yt(r[n],e[n]))return!1;for(n in e)if(!(n in r))return!1;return!0}else return r===e}}function on(r,e){return r&&Object.hasOwnProperty.call(r,e)}function Lc(r,e){for(var n={},u=0;u<e.length;u++){var t=e[u],i=r[t];i!==void 0&&(n[t]=i)}return n}var qc=["Matrix","Array"],Uc=["number","BigNumber","Fraction"],At=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Ra)};un(At,Ra,{MATRIX_OPTIONS:qc,NUMBER_OPTIONS:Uc});function ji(){return!0}function ye(){return!1}function Dt(){}const Ki="Argument is not a typed-function.";function Za(){function r(_){return typeof _=="object"&&_!==null&&_.constructor===Object}const e=[{name:"number",test:function(_){return typeof _=="number"}},{name:"string",test:function(_){return typeof _=="string"}},{name:"boolean",test:function(_){return typeof _=="boolean"}},{name:"Function",test:function(_){return typeof _=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(_){return _ instanceof Date}},{name:"RegExp",test:function(_){return _ instanceof RegExp}},{name:"Object",test:r},{name:"null",test:function(_){return _===null}},{name:"undefined",test:function(_){return _===void 0}}],n={name:"any",test:ji,isAny:!0};let u,t,i=0,h={createCount:0};function v(_){const x=u.get(_);if(x)return x;let z='Unknown type "'+_+'"';const q=_.toLowerCase();let H;for(H of t)if(H.toLowerCase()===q){z+='. Did you mean "'+H+'" ?';break}throw new TypeError(z)}function D(_){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const z=x?v(x).index:t.length,q=[];for(let U=0;U<_.length;++U){if(!_[U]||typeof _[U].name!="string"||typeof _[U].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const j=_[U].name;if(u.has(j))throw new TypeError('Duplicate type name "'+j+'"');q.push(j),u.set(j,{name:j,test:_[U].test,isAny:_[U].isAny,index:z+U,conversionsTo:[]})}const H=t.slice(z);t=t.slice(0,z).concat(q).concat(H);for(let U=z+q.length;U<t.length;++U)u.get(t[U]).index=U}function g(){u=new Map,t=[],i=0,D([n],!1)}g(),D(e);function s(){let _;for(_ of t)u.get(_).conversionsTo=[];i=0}function o(_){const x=t.filter(z=>{const q=u.get(z);return!q.isAny&&q.test(_)});return x.length?x:["any"]}function l(_){return _&&typeof _=="function"&&"_typedFunctionData"in _}function p(_,x,z){if(!l(_))throw new TypeError(Ki);const q=z&&z.exact,H=Array.isArray(x)?x.join(","):x,U=B(H),j=y(U);if(!q||j in _.signatures){const Ar=_._typedFunctionData.signatureMap.get(j);if(Ar)return Ar}const J=U.length;let K;if(q){K=[];let Ar;for(Ar in _.signatures)K.push(_._typedFunctionData.signatureMap.get(Ar))}else K=_._typedFunctionData.signatures;for(let Ar=0;Ar<J;++Ar){const $r=U[Ar],Vr=[];let ce;for(ce of K){const te=I(ce.params,Ar);if(!(!te||$r.restParam&&!te.restParam)){if(!te.hasAny){const de=b(te);if($r.types.some(me=>!de.has(me.name)))continue}Vr.push(ce)}}if(K=Vr,K.length===0)break}let X;for(X of K)if(X.params.length<=J)return X;throw new TypeError("Signature not found (signature: "+(_.name||"unnamed")+"("+y(U,", ")+"))")}function E(_,x,z){return p(_,x,z).implementation}function f(_,x){const z=v(x);if(z.test(_))return _;const q=z.conversionsTo;if(q.length===0)throw new Error("There are no conversions to "+x+" defined.");for(let H=0;H<q.length;H++)if(v(q[H].from).test(_))return q[H].convert(_);throw new Error("Cannot convert "+_+" to "+x)}function y(_){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return _.map(z=>z.name).join(x)}function m(_){const x=_.indexOf("...")===0,q=(x?_.length>3?_.slice(3):"any":_).split("|").map(J=>v(J.trim()));let H=!1,U=x?"...":"";return{types:q.map(function(J){return H=J.isAny||H,U+=J.name+"|",{name:J.name,typeIndex:J.index,test:J.test,isAny:J.isAny,conversion:null,conversionIndex:-1}}),name:U.slice(0,-1),hasAny:H,hasConversion:!1,restParam:x}}function C(_){const x=_.types.map(j=>j.name),z=fr(x);let q=_.hasAny,H=_.name;const U=z.map(function(j){const J=v(j.from);return q=J.isAny||q,H+="|"+j.from,{name:j.from,typeIndex:J.index,test:J.test,isAny:J.isAny,conversion:j,conversionIndex:j.index}});return{types:_.types.concat(U),name:H,hasAny:q,hasConversion:U.length>0,restParam:_.restParam}}function b(_){return _.typeSet||(_.typeSet=new Set,_.types.forEach(x=>_.typeSet.add(x.name))),_.typeSet}function B(_){const x=[];if(typeof _!="string")throw new TypeError("Signatures must be strings");const z=_.trim();if(z==="")return x;const q=z.split(",");for(let H=0;H<q.length;++H){const U=m(q[H].trim());if(U.restParam&&H!==q.length-1)throw new SyntaxError('Unexpected rest parameter "'+q[H]+'": only allowed for the last parameter');if(U.types.length===0)return null;x.push(U)}return x}function A(_){const x=Br(_);return x?x.restParam:!1}function w(_){if(!_||_.types.length===0)return ji;if(_.types.length===1)return v(_.types[0].name).test;if(_.types.length===2){const x=v(_.types[0].name).test,z=v(_.types[1].name).test;return function(H){return x(H)||z(H)}}else{const x=_.types.map(function(z){return v(z.name).test});return function(q){for(let H=0;H<x.length;H++)if(x[H](q))return!0;return!1}}}function T(_){let x,z,q;if(A(_)){x=ie(_).map(w);const H=x.length,U=w(Br(_)),j=function(J){for(let K=H;K<J.length;K++)if(!U(J[K]))return!1;return!0};return function(K){for(let X=0;X<x.length;X++)if(!x[X](K[X]))return!1;return j(K)&&K.length>=H+1}}else return _.length===0?function(U){return U.length===0}:_.length===1?(z=w(_[0]),function(U){return z(U[0])&&U.length===1}):_.length===2?(z=w(_[0]),q=w(_[1]),function(U){return z(U[0])&&q(U[1])&&U.length===2}):(x=_.map(w),function(U){for(let j=0;j<x.length;j++)if(!x[j](U[j]))return!1;return U.length===x.length})}function I(_,x){return x<_.length?_[x]:A(_)?Br(_):null}function P(_,x){const z=I(_,x);return z?b(z):new Set}function Z(_){return _.conversion===null||_.conversion===void 0}function k(_,x){const z=new Set;return _.forEach(q=>{const H=P(q.params,x);let U;for(U of H)z.add(U)}),z.has("any")?["any"]:Array.from(z)}function R(_,x,z){let q,H;const U=_||"unnamed";let j=z,J;for(J=0;J<x.length;J++){const $r=[];if(j.forEach(Vr=>{const ce=I(Vr.params,J),te=w(ce);(J<Vr.params.length||A(Vr.params))&&te(x[J])&&$r.push(Vr)}),$r.length===0){if(H=k(j,J),H.length>0){const Vr=o(x[J]);return q=new TypeError("Unexpected type of argument in function "+U+" (expected: "+H.join(" or ")+", actual: "+Vr.join(" | ")+", index: "+J+")"),q.data={category:"wrongType",fn:U,index:J,actual:Vr,expected:H},q}}else j=$r}const K=j.map(function($r){return A($r.params)?1/0:$r.params.length});if(x.length<Math.min.apply(null,K))return H=k(j,J),q=new TypeError("Too few arguments in function "+U+" (expected: "+H.join(" or ")+", index: "+x.length+")"),q.data={category:"tooFewArgs",fn:U,index:x.length,expected:H},q;const X=Math.max.apply(null,K);if(x.length>X)return q=new TypeError("Too many arguments in function "+U+" (expected: "+X+", actual: "+x.length+")"),q.data={category:"tooManyArgs",fn:U,index:x.length,expectedLength:X},q;const Ar=[];for(let $r=0;$r<x.length;++$r)Ar.push(o(x[$r]).join("|"));return q=new TypeError('Arguments of type "'+Ar.join(", ")+'" do not match any of the defined signatures of function '+U+"."),q.data={category:"mismatch",actual:Ar},q}function ir(_){let x=t.length+1;for(let z=0;z<_.types.length;z++)Z(_.types[z])&&(x=Math.min(x,_.types[z].typeIndex));return x}function ur(_){let x=i+1;for(let z=0;z<_.types.length;z++)Z(_.types[z])||(x=Math.min(x,_.types[z].conversionIndex));return x}function er(_,x){if(_.hasAny){if(!x.hasAny)return 1}else if(x.hasAny)return-1;if(_.restParam){if(!x.restParam)return 1}else if(x.restParam)return-1;if(_.hasConversion){if(!x.hasConversion)return 1}else if(x.hasConversion)return-1;const z=ir(_)-ir(x);if(z<0)return-1;if(z>0)return 1;const q=ur(_)-ur(x);return q<0?-1:q>0?1:0}function Q(_,x){const z=_.params,q=x.params,H=Br(z),U=Br(q),j=A(z),J=A(q);if(j&&H.hasAny){if(!J||!U.hasAny)return 1}else if(J&&U.hasAny)return-1;let K=0,X=0,Ar;for(Ar of z)Ar.hasAny&&++K,Ar.hasConversion&&++X;let $r=0,Vr=0;for(Ar of q)Ar.hasAny&&++$r,Ar.hasConversion&&++Vr;if(K!==$r)return K-$r;if(j&&H.hasConversion){if(!J||!U.hasConversion)return 1}else if(J&&U.hasConversion)return-1;if(X!==Vr)return X-Vr;if(j){if(!J)return 1}else if(J)return-1;const ce=(z.length-q.length)*(j?-1:1);if(ce!==0)return ce;const te=[];let de=0;for(let ze=0;ze<z.length;++ze){const tt=er(z[ze],q[ze]);te.push(tt),de+=tt}if(de!==0)return de;let me;for(me of te)if(me!==0)return me;return 0}function fr(_){if(_.length===0)return[];const x=_.map(v);_.length>1&&x.sort((H,U)=>H.index-U.index);let z=x[0].conversionsTo;if(_.length===1)return z;z=z.concat([]);const q=new Set(_);for(let H=1;H<x.length;++H){let U;for(U of x[H].conversionsTo)q.has(U.from)||(z.push(U),q.add(U.from))}return z}function or(_,x){let z=x;if(_.some(H=>H.hasConversion)){const H=A(_),U=_.map(sr);z=function(){const J=[],K=H?arguments.length-1:arguments.length;for(let X=0;X<K;X++)J[X]=U[X](arguments[X]);return H&&(J[K]=arguments[K].map(U[K])),x.apply(this,J)}}let q=z;if(A(_)){const H=_.length-1;q=function(){return z.apply(this,Mr(arguments,0,H).concat([Mr(arguments,H)]))}}return q}function sr(_){let x,z,q,H;const U=[],j=[];switch(_.types.forEach(function(J){J.conversion&&(U.push(v(J.conversion.from).test),j.push(J.conversion.convert))}),j.length){case 0:return function(K){return K};case 1:return x=U[0],q=j[0],function(K){return x(K)?q(K):K};case 2:return x=U[0],z=U[1],q=j[0],H=j[1],function(K){return x(K)?q(K):z(K)?H(K):K};default:return function(K){for(let X=0;X<j.length;X++)if(U[X](K))return j[X](K);return K}}}function vr(_){function x(z,q,H){if(q<z.length){const U=z[q];let j=[];if(U.restParam){const J=U.types.filter(Z);J.length<U.types.length&&j.push({types:J,name:"..."+J.map(K=>K.name).join("|"),hasAny:J.some(K=>K.isAny),hasConversion:!1,restParam:!0}),j.push(U)}else j=U.types.map(function(J){return{types:[J],name:J.name,hasAny:J.isAny,hasConversion:J.conversion,restParam:!1}});return Kr(j,function(J){return x(z,q+1,H.concat([J]))})}else return[H]}return x(_,0,[])}function Nr(_,x){const z=Math.max(_.length,x.length);for(let J=0;J<z;J++){const K=P(_,J),X=P(x,J);let Ar=!1,$r;for($r of X)if(K.has($r)){Ar=!0;break}if(!Ar)return!1}const q=_.length,H=x.length,U=A(_),j=A(x);return U?j?q===H:H>=q:j?q>=H:q===H}function Er(_){return _.map(x=>Ee(x)?pe(x.referToSelf.callback):Fe(x)?Hr(x.referTo.references,x.referTo.callback):x)}function Fr(_,x,z){const q=[];let H;for(H of _){let U=z[H];if(typeof U!="number")throw new TypeError('No definition for referenced signature "'+H+'"');if(U=x[U],typeof U!="function")return!1;q.push(U)}return q}function Rr(_,x,z){const q=Er(_),H=new Array(q.length).fill(!1);let U=!0;for(;U;){U=!1;let j=!0;for(let J=0;J<q.length;++J){if(H[J])continue;const K=q[J];if(Ee(K))q[J]=K.referToSelf.callback(z),q[J].referToSelf=K.referToSelf,H[J]=!0,j=!1;else if(Fe(K)){const X=Fr(K.referTo.references,q,x);X?(q[J]=K.referTo.callback.apply(this,X),q[J].referTo=K.referTo,H[J]=!0,j=!1):U=!0}}if(j&&U)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return q}function Ur(_){const x=/\bthis(\(|\.signatures\b)/;Object.keys(_).forEach(z=>{const q=_[z];if(x.test(q.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Wr(_,x){if(h.createCount++,Object.keys(x).length===0)throw new SyntaxError("No signatures provided");h.warnAgainstDeprecatedThis&&Ur(x);const z=[],q=[],H={},U=[];let j;for(j in x){if(!Object.prototype.hasOwnProperty.call(x,j))continue;const Cr=B(j);if(!Cr)continue;z.forEach(function(We){if(Nr(We,Cr))throw new TypeError('Conflicting signatures "'+y(We)+'" and "'+y(Cr)+'".')}),z.push(Cr);const le=q.length;q.push(x[j]);const Vn=Cr.map(C);let ut;for(ut of vr(Vn)){const We=y(ut);U.push({params:ut,name:We,fn:le}),ut.every(Yn=>!Yn.hasConversion)&&(H[We]=le)}}U.sort(Q);const J=Rr(q,H,ke);let K;for(K in H)Object.prototype.hasOwnProperty.call(H,K)&&(H[K]=J[H[K]]);const X=[],Ar=new Map;for(K of U)Ar.has(K.name)||(K.fn=J[K.fn],X.push(K),Ar.set(K.name,K));const $r=X[0]&&X[0].params.length<=2&&!A(X[0].params),Vr=X[1]&&X[1].params.length<=2&&!A(X[1].params),ce=X[2]&&X[2].params.length<=2&&!A(X[2].params),te=X[3]&&X[3].params.length<=2&&!A(X[3].params),de=X[4]&&X[4].params.length<=2&&!A(X[4].params),me=X[5]&&X[5].params.length<=2&&!A(X[5].params),ze=$r&&Vr&&ce&&te&&de&&me;for(let Cr=0;Cr<X.length;++Cr)X[Cr].test=T(X[Cr].params);const tt=$r?w(X[0].params[0]):ye,Cn=Vr?w(X[1].params[0]):ye,_n=ce?w(X[2].params[0]):ye,Nn=te?w(X[3].params[0]):ye,Bn=de?w(X[4].params[0]):ye,Mn=me?w(X[5].params[0]):ye,Sn=$r?w(X[0].params[1]):ye,Tn=Vr?w(X[1].params[1]):ye,xn=ce?w(X[2].params[1]):ye,$n=te?w(X[3].params[1]):ye,On=de?w(X[4].params[1]):ye,Pt=me?w(X[5].params[1]):ye;for(let Cr=0;Cr<X.length;++Cr)X[Cr].implementation=or(X[Cr].params,X[Cr].fn);const zt=$r?X[0].implementation:Dt,In=Vr?X[1].implementation:Dt,Pn=ce?X[2].implementation:Dt,zn=te?X[3].implementation:Dt,nt=de?X[4].implementation:Dt,kn=me?X[5].implementation:Dt,kt=$r?X[0].params.length:-1,Rn=Vr?X[1].params.length:-1,Ln=ce?X[2].params.length:-1,qn=te?X[3].params.length:-1,Rt=de?X[4].params.length:-1,Un=me?X[5].params.length:-1,Lt=ze?6:0,Zn=X.length,qt=X.map(Cr=>Cr.test),Gn=X.map(Cr=>Cr.implementation),Hn=function(){for(let le=Lt;le<Zn;le++)if(qt[le](arguments))return Gn[le].apply(this,arguments);return h.onMismatch(_,arguments,X)};function ke(Cr,le){return arguments.length===kt&&tt(Cr)&&Sn(le)?zt.apply(this,arguments):arguments.length===Rn&&Cn(Cr)&&Tn(le)?In.apply(this,arguments):arguments.length===Ln&&_n(Cr)&&xn(le)?Pn.apply(this,arguments):arguments.length===qn&&Nn(Cr)&&$n(le)?zn.apply(this,arguments):arguments.length===Rt&&Bn(Cr)&&On(le)?nt.apply(this,arguments):arguments.length===Un&&Mn(Cr)&&Pt(le)?kn.apply(this,arguments):Hn.apply(this,arguments)}try{Object.defineProperty(ke,"name",{value:_})}catch(Cr){}return ke.signatures=H,ke._typedFunctionData={signatures:X,signatureMap:Ar},ke}function Ir(_,x,z){throw R(_,x,z)}function ie(_){return Mr(_,0,_.length-1)}function Br(_){return _[_.length-1]}function Mr(_,x,z){return Array.prototype.slice.call(_,x,z)}function ve(_,x){for(let z=0;z<_.length;z++)if(x(_[z]))return _[z]}function Kr(_,x){return Array.prototype.concat.apply([],_.map(x))}function xr(){const _=ie(arguments).map(z=>y(B(z))),x=Br(arguments);if(typeof x!="function")throw new TypeError("Callback function expected as last argument");return Hr(_,x)}function Hr(_,x){return{referTo:{references:_,callback:x}}}function pe(_){if(typeof _!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:_}}}function Fe(_){return _&&typeof _.referTo=="object"&&Array.isArray(_.referTo.references)&&typeof _.referTo.callback=="function"}function Ee(_){return _&&typeof _.referToSelf=="object"&&typeof _.referToSelf.callback=="function"}function Me(_,x){if(!_)return x;if(x&&x!==_){const z=new Error("Function names do not match (expected: "+_+", actual: "+x+")");throw z.data={actual:x,expected:_},z}return _}function Pe(_){let x;for(const z in _)Object.prototype.hasOwnProperty.call(_,z)&&(l(_[z])||typeof _[z].signature=="string")&&(x=Me(x,_[z].name));return x}function et(_,x){let z;for(z in x)if(Object.prototype.hasOwnProperty.call(x,z)){if(z in _&&x[z]!==_[z]){const q=new Error('Signature "'+z+'" is defined twice');throw q.data={signature:z,sourceFunction:x[z],destFunction:_[z]},q}_[z]=x[z]}}const It=h;h=function(_){const x=typeof _=="string",z=x?1:0;let q=x?_:"";const H={};for(let U=z;U<arguments.length;++U){const j=arguments[U];let J={},K;if(typeof j=="function"?(K=j.name,typeof j.signature=="string"?J[j.signature]=j:l(j)&&(J=j.signatures)):r(j)&&(J=j,x||(K=Pe(j))),Object.keys(J).length===0){const X=new TypeError("Argument to 'typed' at index "+U+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw X.data={index:U,argument:j},X}x||(q=Me(q,K)),et(H,J)}return Wr(q||"",H)},h.create=Za,h.createCount=It.createCount,h.onMismatch=Ir,h.throwMismatchError=Ir,h.createError=R,h.clear=g,h.clearConversions=s,h.addTypes=D,h._findType=v,h.referTo=xr,h.referToSelf=pe,h.convert=f,h.findSignature=p,h.find=E,h.isTypedFunction=l,h.warnAgainstDeprecatedThis=!0,h.addType=function(_,x){let z="any";x!==!1&&u.has("Object")&&(z="Object"),h.addTypes([_],z)};function Nt(_){if(!_||typeof _.from!="string"||typeof _.to!="string"||typeof _.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(_.to===_.from)throw new SyntaxError('Illegal to define conversion from "'+_.from+'" to itself.')}return h.addConversion=function(_){Nt(_);const x=v(_.to);if(x.conversionsTo.every(function(z){return z.from!==_.from}))x.conversionsTo.push({from:_.from,convert:_.convert,index:i++});else throw new Error('There is already a conversion from "'+_.from+'" to "'+x.name+'"')},h.addConversions=function(_){_.forEach(h.addConversion)},h.removeConversion=function(_){Nt(_);const x=v(_.to),z=ve(x.conversionsTo,H=>H.from===_.from);if(!z)throw new Error("Attempt to remove nonexistent conversion from "+_.from+" to "+_.to);if(z.convert!==_.convert)throw new Error("Conversion to remove does not match existing conversion");const q=x.conversionsTo.indexOf(z);x.conversionsTo.splice(q,1)},h.resolve=function(_,x){if(!l(_))throw new TypeError(Ki);const z=_._typedFunctionData.signatures;for(let q=0;q<z.length;++q)if(z[q].test(x))return z[q];return null},h}const ra=Za();function Lr(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}function Eu(r,e,n){var u={2:"0b",8:"0o",16:"0x"},t=u[e],i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Lr(n))throw new Error("size must be an integer");if(r>je(2,n-1)-1||r<-je(2,n-1))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!Lr(r))throw new Error("Value must be an integer");r<0&&(r=r+je(2,n)),i="i".concat(n)}var h="";return r<0&&(r=-r,h="-"),"".concat(h).concat(t).concat(r.toString(e)).concat(i)}function Nu(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var{notation:n,precision:u,wordSize:t}=Ga(e);switch(n){case"fixed":return Gc(r,u);case"exponential":return Ha(r,u);case"engineering":return Zc(r,u);case"bin":return Eu(r,2,t);case"oct":return Eu(r,8,t);case"hex":return Eu(r,16,t);case"auto":return Hc(r,u,e).replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],h=arguments[4];return i!=="."?i+h:h});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ga(r){var e="auto",n,u;if(r!==void 0)if(kr(r))n=r;else if(jr(r))n=r.toNumber();else if(Ru(r))r.precision!==void 0&&(n=ea(r.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),r.wordSize!==void 0&&(u=ea(r.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),r.notation&&(e=r.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:n,wordSize:u}}function gn(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var n=e[1],u=e[2],t=parseFloat(e[4]||"0"),i=u.indexOf(".");t+=i!==-1?i-1:u.length-1;var h=u.replace(".","").replace(/^0*/,function(v){return t-=v.length,""}).replace(/0*$/,"").split("").map(function(v){return parseInt(v)});return h.length===0&&(h.push(0),t++),{sign:n,coefficients:h,exponent:t}}function Zc(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=gn(r),u=mn(n,e),t=u.exponent,i=u.coefficients,h=t%3===0?t:t<0?t-3-t%3:t-t%3;if(kr(e))for(;e>i.length||t-h+1>i.length;)i.push(0);else for(var v=Math.abs(t-h)-(i.length-1),D=0;D<v;D++)i.push(0);for(var g=Math.abs(t-h),s=1;g>0;)s++,g--;var o=i.slice(s).join(""),l=kr(e)&&o.length||o.match(/[1-9]/)?"."+o:"",p=i.slice(0,s).join("")+l+"e"+(t>=0?"+":"")+h.toString();return u.sign+p}function Gc(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=gn(r),u=typeof e=="number"?mn(n,n.exponent+1+e):n,t=u.coefficients,i=u.exponent+1,h=i+(e||0);return t.length<h&&(t=t.concat(bt(h-t.length))),i<0&&(t=bt(-i+1).concat(t),i=1),i<t.length&&t.splice(i,0,i===0?"0.":"."),u.sign+t.join("")}function Ha(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=gn(r),u=e?mn(n,e):n,t=u.coefficients,i=u.exponent;t.length<e&&(t=t.concat(bt(e-t.length)));var h=t.shift();return u.sign+h+(t.length>0?"."+t.join(""):"")+"e"+(i>=0?"+":"")+i}function Hc(r,e,n){if(isNaN(r)||!isFinite(r))return String(r);var u=ta(n==null?void 0:n.lowerExp,-3),t=ta(n==null?void 0:n.upperExp,5),i=gn(r),h=e?mn(i,e):i;if(h.exponent<u||h.exponent>=t)return Ha(r,e);var v=h.coefficients,D=h.exponent;v.length<e&&(v=v.concat(bt(e-v.length))),v=v.concat(bt(D-v.length+1+(v.length<e?e-v.length:0))),v=bt(-D).concat(v);var g=D>0?D:0;return g<v.length-1&&v.splice(g+1,0,"."),h.sign+v.join("")}function mn(r,e){for(var n={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},u=n.coefficients;e<=0;)u.unshift(0),n.exponent++,e++;if(u.length>e){var t=u.splice(e,u.length-e);if(t[0]>=5){var i=e-1;for(u[i]++;u[i]===10;)u.pop(),i===0&&(u.unshift(0),n.exponent++,i++),i--,u[i]++}}return n}function bt(r){for(var e=[],n=0;n<r;n++)e.push(0);return e}function Vc(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var Yc=Number.EPSILON||2220446049250313e-31;function sn(r,e,n){if(n==null)return r===e;if(r===e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var u=Math.abs(r-e);return u<=Yc?!0:u<=Math.max(Math.abs(r),Math.abs(e))*n}return!1}function ea(r,e){if(kr(r))return r;if(jr(r))return r.toNumber();e()}function ta(r,e){return kr(r)?r:jr(r)?r.toNumber():e}function Au(r,e,n){var u=r.constructor,t=new u(2),i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Lr(n))throw new Error("size must be an integer");if(r.greaterThan(t.pow(n-1).sub(1))||r.lessThan(t.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(t.pow(n))),i="i".concat(n)}switch(e){case 2:return"".concat(r.toBinary()).concat(i);case 8:return"".concat(r.toOctal()).concat(i);case 16:return"".concat(r.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(e," not supported "))}}function Wc(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:u,wordSize:t}=Ga(e);switch(n){case"fixed":return Jc(r,u);case"exponential":return na(r,u);case"engineering":return Xc(r,u);case"bin":return Au(r,2,t);case"oct":return Au(r,8,t);case"hex":return Au(r,16,t);case"auto":{var i=ua(e==null?void 0:e.lowerExp,-3),h=ua(e==null?void 0:e.upperExp,5);if(r.isZero())return"0";var v,D=r.toSignificantDigits(u),g=D.e;return g>=i&&g<h?v=D.toFixed():v=na(r,u),v.replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],o=arguments[4];return s!=="."?s+o:o})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Xc(r,e){var n=r.e,u=n%3===0?n:n<0?n-3-n%3:n-n%3,t=r.mul(Math.pow(10,-u)),i=t.toPrecision(e);if(i.indexOf("e")!==-1){var h=r.constructor;i=new h(i).toFixed()}return i+"e"+(n>=0?"+":"")+u.toString()}function na(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function Jc(r,e){return r.toFixed(e)}function ua(r,e){return kr(r)?r:jr(r)?r.toNumber():e}function Qr(r,e){var n=Qc(r,e);return e&&typeof e=="object"&&"truncate"in e&&n.length>e.truncate?n.substring(0,e.truncate-3)+"...":n}function Qc(r,e){if(typeof r=="number")return Nu(r,e);if(jr(r))return Wc(r,e);if(jc(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return Va(r,e);if(Se(r))return ia(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var n=Object.keys(r).map(u=>ia(u)+": "+Qr(r[u],e));return"{"+n.join(", ")+"}"}return String(r)}function ia(r){for(var e=String(r),n="",u=0;u<e.length;){var t=e.charAt(u);n+=t in aa?aa[t]:t,u++}return'"'+n+'"'}var aa={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Va(r,e){if(Array.isArray(r)){for(var n="[",u=r.length,t=0;t<u;t++)t!==0&&(n+=", "),n+=Va(r[t],e);return n+="]",n}else return Qr(r,e)}function jc(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function qr(r,e,n){if(!(this instanceof qr))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}qr.prototype=new RangeError;qr.prototype.constructor=RangeError;qr.prototype.name="DimensionError";qr.prototype.isDimensionError=!0;function Ct(r,e,n){if(!(this instanceof Ct))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Ct.prototype=new RangeError;Ct.prototype.constructor=RangeError;Ct.prototype.name="IndexError";Ct.prototype.isIndexError=!0;function be(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function Ya(r,e,n){var u,t=r.length;if(t!==e[n])throw new qr(t,e[n]);if(n<e.length-1){var i=n+1;for(u=0;u<t;u++){var h=r[u];if(!Array.isArray(h))throw new qr(e.length-1,e.length,"<");Ya(r[u],e,i)}}else for(u=0;u<t;u++)if(Array.isArray(r[u]))throw new qr(e.length+1,e.length,">")}function oa(r,e){var n=e.length===0;if(n){if(Array.isArray(r))throw new qr(r.length,0)}else Ya(r,e,0)}function Gr(r,e){if(r!==void 0){if(!kr(r)||!Lr(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new Ct(r,e)}}function Bu(r,e,n){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(t){if(!kr(t)||!Lr(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Qr(e)+")")}),(kr(r)||jr(r))&&(r=[r]);var u=n!==void 0?n:0;return Mu(r,e,0,u),r}function Mu(r,e,n,u){var t,i,h=r.length,v=e[n],D=Math.min(h,v);if(r.length=v,n<e.length-1){var g=n+1;for(t=0;t<D;t++)i=r[t],Array.isArray(i)||(i=[i],r[t]=i),Mu(i,e,g,u);for(t=D;t<v;t++)i=[],r[t]=i,Mu(i,e,g,u)}else{for(t=0;t<D;t++)for(;Array.isArray(r[t]);)r[t]=r[t][0];for(t=D;t<v;t++)r[t]=u}}function Wa(r,e){var n=rl(r),u=n.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new qr(0,u,"!=");e=Lu(e,u);var t=Xa(e);if(u!==t)throw new qr(t,u,"!=");try{return Kc(n,e)}catch(i){throw i instanceof qr?new qr(t,u,"!="):i}}function Lu(r,e){var n=Xa(r),u=r.slice(),t=-1,i=r.indexOf(t),h=r.indexOf(t,i+1)>=0;if(h)throw new Error("More than one wildcard in sizes");var v=i>=0,D=e%n===0;if(v)if(D)u[i]=-e/n;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-n);return u}function Xa(r){return r.reduce((e,n)=>e*n,1)}function Kc(r,e){for(var n=r,u,t=e.length-1;t>0;t--){var i=e[t];u=[];for(var h=n.length/i,v=0;v<h;v++)u.push(n.slice(v*i,(v+1)*i));n=u}return n}function Ja(r,e,n,u){var t=u||be(r);if(n)for(var i=0;i<n;i++)r=[r],t.unshift(1);for(r=Qa(r,e,0);t.length<e;)t.push(1);return r}function Qa(r,e,n){var u,t;if(Array.isArray(r)){var i=n+1;for(u=0,t=r.length;u<t;u++)r[u]=Qa(r[u],e,i)}else for(var h=n;h<e;h++)r=[r];return r}function rl(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function n(u){Array.isArray(u)?u.forEach(n):e.push(u)}),e}function fn(r,e){for(var n,u=0,t=0;t<r.length;t++){var i=r[t],h=Array.isArray(i);if(t===0&&h&&(u=i.length),h&&i.length!==u)return;var v=h?fn(i,e):e(i);if(n===void 0)n=v;else if(n!==v)return"mixed"}return n}function ja(r,e,n,u){if(u<n){if(r.length!==e.length)throw new qr(r.length,e.length);for(var t=[],i=0;i<r.length;i++)t[i]=ja(r[i],e[i],n,u+1);return t}else return r.concat(e)}function el(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(n,u){return ja(n,u,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function tl(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];for(var u=e.map(l=>l.length),t=Math.max(...u),i=new Array(t).fill(null),h=0;h<e.length;h++)for(var v=e[h],D=u[h],g=0;g<D;g++){var s=t-D+g;v[g]>i[s]&&(i[s]=v[g])}for(var o=0;o<e.length;o++)Ka(e[o],i);return i}function Ka(r,e){for(var n=e.length,u=r.length,t=0;t<u;t++){var i=n-u+t;if(r[t]<e[i]&&r[t]>1||r[t]>e[i])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(u," with size ").concat(r[t]," to size ").concat(e[i]))}}function sa(r,e){var n=be(r);if(yt(n,e))return r;Ka(n,e);var u=tl(n,e),t=u.length,i=[...Array(t-n.length).fill(1),...n],h=ul(r);n.length<t&&(h=Wa(h,i),n=be(h));for(var v=0;v<t;v++)n[v]<u[v]&&(h=nl(h,u[v],v),n=be(h));return h}function nl(r,e,n){return el(...Array(e).fill(r),n)}function ul(r){return un([],r)}function yr(r,e,n,u){function t(i){var h=Lc(i,e.map(ol));return il(r,e,i),n(h)}return t.isFactory=!0,t.fn=r,t.dependencies=e.slice().sort(),u&&(t.meta=u),t}function il(r,e,n){var u=e.filter(i=>!al(i)).every(i=>n[i]!==void 0);if(!u){var t=e.filter(i=>n[i]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(t.map(i=>'"'.concat(i,'"')).join(", "),"."))}}function al(r){return r&&r[0]==="?"}function ol(r){return r&&r[0]==="?"?r.slice(1):r}function sl(r,e){if(eo(r)&&ro(r,e))return r[e];throw typeof r[e]=="function"&&ll(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function fl(r,e,n){if(eo(r)&&ro(r,e))return r[e]=n,n;throw new Error('No access to property "'+e+'"')}function cl(r,e){return e in r}function ro(r,e){return!r||typeof r!="object"?!1:on(hl,e)?!0:!(e in Object.prototype||e in Function.prototype)}function ll(r,e){return r==null||typeof r[e]!="function"||on(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:on(vl,e)?!0:!(e in Object.prototype||e in Function.prototype)}function eo(r){return typeof r=="object"&&r&&r.constructor===Object}var hl={length:!0,name:!0},vl={toString:!0,valueOf:!0,toLocaleString:!0};class pl{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(e){return sl(this.wrappedObject,e)}set(e,n){return fl(this.wrappedObject,e,n),this}has(e){return cl(this.wrappedObject,e)}entries(){return dl(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var n of this.keys())e(this.get(n),n,this)}delete(e){delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function dl(r,e){return{next:()=>{var n=r.next();return n.done?n:{value:e(n.value),done:!1}}}}function Dl(r){return r?r instanceof Map||r instanceof pl||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var to=function(){return to=ra.create,ra},gl=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],ml=yr("typed",gl,function(e){var{BigNumber:n,Complex:u,DenseMatrix:t,Fraction:i}=e,h=to();return h.clear(),h.addTypes([{name:"number",test:kr},{name:"Complex",test:La},{name:"BigNumber",test:jr},{name:"Fraction",test:qa},{name:"Unit",test:Ua},{name:"identifier",test:v=>Se&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(v)},{name:"string",test:Se},{name:"Chain",test:kc},{name:"Array",test:Zr},{name:"Matrix",test:ee},{name:"DenseMatrix",test:lc},{name:"SparseMatrix",test:hc},{name:"Range",test:vc},{name:"Index",test:ku},{name:"boolean",test:pc},{name:"ResultSet",test:dc},{name:"Help",test:Dc},{name:"function",test:gc},{name:"Date",test:mc},{name:"RegExp",test:wc},{name:"null",test:bc},{name:"undefined",test:yc},{name:"AccessorNode",test:Fc},{name:"ArrayNode",test:Ec},{name:"AssignmentNode",test:Ac},{name:"BlockNode",test:Cc},{name:"ConditionalNode",test:_c},{name:"ConstantNode",test:Nc},{name:"FunctionNode",test:Mc},{name:"FunctionAssignmentNode",test:Bc},{name:"IndexNode",test:Sc},{name:"Node",test:Tc},{name:"ObjectNode",test:xc},{name:"OperatorNode",test:$c},{name:"ParenthesisNode",test:Oc},{name:"RangeNode",test:Ic},{name:"RelationalNode",test:Pc},{name:"SymbolNode",test:zc},{name:"Map",test:Dl},{name:"Object",test:Ru}]),h.addConversions([{from:"number",to:"BigNumber",convert:function(D){if(n||Cu(D),Vc(D)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+D+"). Use function bignumber(x) to convert to BigNumber.");return new n(D)}},{from:"number",to:"Complex",convert:function(D){return u||Jt(D),new u(D,0)}},{from:"BigNumber",to:"Complex",convert:function(D){return u||Jt(D),new u(D.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(D){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(D){return u||Jt(D),new u(D.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(D){i||_u(D);var g=new i(D);if(g.valueOf()!==D)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+D+"). Use function fraction(x) to convert to Fraction.");return g}},{from:"string",to:"number",convert:function(D){var g=Number(D);if(isNaN(g))throw new Error('Cannot convert "'+D+'" to a number');return g}},{from:"string",to:"BigNumber",convert:function(D){n||Cu(D);try{return new n(D)}catch(g){throw new Error('Cannot convert "'+D+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(D){i||_u(D);try{return new i(D)}catch(g){throw new Error('Cannot convert "'+D+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(D){u||Jt(D);try{return new u(D)}catch(g){throw new Error('Cannot convert "'+D+'" to Complex')}}},{from:"boolean",to:"number",convert:function(D){return+D}},{from:"boolean",to:"BigNumber",convert:function(D){return n||Cu(D),new n(+D)}},{from:"boolean",to:"Fraction",convert:function(D){return i||_u(D),new i(+D)}},{from:"boolean",to:"string",convert:function(D){return String(D)}},{from:"Array",to:"Matrix",convert:function(D){return t||wl(),new t(D)}},{from:"Matrix",to:"Array",convert:function(D){return D.valueOf()}}]),h.onMismatch=(v,D,g)=>{var s=h.createError(v,D,g);if(["wrongType","mismatch"].includes(s.data.category)&&D.length===1&&an(D[0])&&g.some(l=>!l.params.includes(","))){var o=new TypeError("Function '".concat(v,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(v,")'."));throw o.data=s.data,o}throw s},h.onMismatch=(v,D,g)=>{var s=h.createError(v,D,g);if(["wrongType","mismatch"].includes(s.data.category)&&D.length===1&&an(D[0])&&g.some(l=>!l.params.includes(","))){var o=new TypeError("Function '".concat(v,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(v,")'."));throw o.data=s.data,o}throw s},h});function Cu(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function Jt(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function wl(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function _u(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var mt=9e15,Ve=1e9,Su="0123456789abcdef",cn="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ln="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Tu={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-mt,maxE:mt,crypto:!1},no,Ie,hr=!0,wn="[DecimalError] ",He=wn+"Invalid argument: ",uo=wn+"Precision limit exceeded",io=wn+"crypto unavailable",ao="[object Decimal]",he=Math.floor,re=Math.pow,bl=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,yl=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Fl=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,oo=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Be=1e7,lr=7,El=9007199254740991,Al=cn.length-1,xu=ln.length-1,G={toStringTag:ao};G.absoluteValue=G.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),ar(r)};G.ceil=function(){return ar(new this.constructor(this),this.e+1,2)};G.clampedTo=G.clamp=function(r,e){var n,u=this,t=u.constructor;if(r=new t(r),e=new t(e),!r.s||!e.s)return new t(NaN);if(r.gt(e))throw Error(He+e);return n=u.cmp(r),n<0?r:u.cmp(e)>0?e:new t(u)};G.comparedTo=G.cmp=function(r){var e,n,u,t,i=this,h=i.d,v=(r=new i.constructor(r)).d,D=i.s,g=r.s;if(!h||!v)return!D||!g?NaN:D!==g?D:h===v?0:!h^D<0?1:-1;if(!h[0]||!v[0])return h[0]?D:v[0]?-g:0;if(D!==g)return D;if(i.e!==r.e)return i.e>r.e^D<0?1:-1;for(u=h.length,t=v.length,e=0,n=u<t?u:t;e<n;++e)if(h[e]!==v[e])return h[e]>v[e]^D<0?1:-1;return u===t?0:u>t^D<0?1:-1};G.cosine=G.cos=function(){var r,e,n=this,u=n.constructor;return n.d?n.d[0]?(r=u.precision,e=u.rounding,u.precision=r+Math.max(n.e,n.sd())+lr,u.rounding=1,n=Cl(u,ho(u,n)),u.precision=r,u.rounding=e,ar(Ie==2||Ie==3?n.neg():n,r,e,!0)):new u(1):new u(NaN)};G.cubeRoot=G.cbrt=function(){var r,e,n,u,t,i,h,v,D,g,s=this,o=s.constructor;if(!s.isFinite()||s.isZero())return new o(s);for(hr=!1,i=s.s*re(s.s*s,1/3),!i||Math.abs(i)==1/0?(n=fe(s.d),r=s.e,(i=(r-n.length+1)%3)&&(n+=i==1||i==-2?"0":"00"),i=re(n,1/3),r=he((r+1)/3)-(r%3==(r<0?-1:2)),i==1/0?n="5e"+r:(n=i.toExponential(),n=n.slice(0,n.indexOf("e")+1)+r),u=new o(n),u.s=s.s):u=new o(i.toString()),h=(r=o.precision)+3;;)if(v=u,D=v.times(v).times(v),g=D.plus(s),u=Pr(g.plus(s).times(v),g.plus(D),h+2,1),fe(v.d).slice(0,h)===(n=fe(u.d)).slice(0,h))if(n=n.slice(h-3,h+1),n=="9999"||!t&&n=="4999"){if(!t&&(ar(v,r+1,0),v.times(v).times(v).eq(s))){u=v;break}h+=4,t=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(ar(u,r+1,1),e=!u.times(u).times(u).eq(s));break}return hr=!0,ar(u,r,o.rounding,e)};G.decimalPlaces=G.dp=function(){var r,e=this.d,n=NaN;if(e){if(r=e.length-1,n=(r-he(this.e/lr))*lr,r=e[r],r)for(;r%10==0;r/=10)n--;n<0&&(n=0)}return n};G.dividedBy=G.div=function(r){return Pr(this,new this.constructor(r))};G.dividedToIntegerBy=G.divToInt=function(r){var e=this,n=e.constructor;return ar(Pr(e,new n(r),0,1,1),n.precision,n.rounding)};G.equals=G.eq=function(r){return this.cmp(r)===0};G.floor=function(){return ar(new this.constructor(this),this.e+1,3)};G.greaterThan=G.gt=function(r){return this.cmp(r)>0};G.greaterThanOrEqualTo=G.gte=function(r){var e=this.cmp(r);return e==1||e===0};G.hyperbolicCosine=G.cosh=function(){var r,e,n,u,t,i=this,h=i.constructor,v=new h(1);if(!i.isFinite())return new h(i.s?1/0:NaN);if(i.isZero())return v;n=h.precision,u=h.rounding,h.precision=n+Math.max(i.e,i.sd())+4,h.rounding=1,t=i.d.length,t<32?(r=Math.ceil(t/3),e=(1/yn(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),i=Ft(h,1,i.times(e),new h(1),!0);for(var D,g=r,s=new h(8);g--;)D=i.times(i),i=v.minus(D.times(s.minus(D.times(s))));return ar(i,h.precision=n,h.rounding=u,!0)};G.hyperbolicSine=G.sinh=function(){var r,e,n,u,t=this,i=t.constructor;if(!t.isFinite()||t.isZero())return new i(t);if(e=i.precision,n=i.rounding,i.precision=e+Math.max(t.e,t.sd())+4,i.rounding=1,u=t.d.length,u<3)t=Ft(i,2,t,t,!0);else{r=1.4*Math.sqrt(u),r=r>16?16:r|0,t=t.times(1/yn(5,r)),t=Ft(i,2,t,t,!0);for(var h,v=new i(5),D=new i(16),g=new i(20);r--;)h=t.times(t),t=t.times(v.plus(h.times(D.times(h).plus(g))))}return i.precision=e,i.rounding=n,ar(t,e,n,!0)};G.hyperbolicTangent=G.tanh=function(){var r,e,n=this,u=n.constructor;return n.isFinite()?n.isZero()?new u(n):(r=u.precision,e=u.rounding,u.precision=r+7,u.rounding=1,Pr(n.sinh(),n.cosh(),u.precision=r,u.rounding=e)):new u(n.s)};G.inverseCosine=G.acos=function(){var r,e=this,n=e.constructor,u=e.abs().cmp(1),t=n.precision,i=n.rounding;return u!==-1?u===0?e.isNeg()?Ne(n,t,i):new n(0):new n(NaN):e.isZero()?Ne(n,t+4,i).times(.5):(n.precision=t+6,n.rounding=1,e=e.asin(),r=Ne(n,t+4,i).times(.5),n.precision=t,n.rounding=i,r.minus(e))};G.inverseHyperbolicCosine=G.acosh=function(){var r,e,n=this,u=n.constructor;return n.lte(1)?new u(n.eq(1)?0:NaN):n.isFinite()?(r=u.precision,e=u.rounding,u.precision=r+Math.max(Math.abs(n.e),n.sd())+4,u.rounding=1,hr=!1,n=n.times(n).minus(1).sqrt().plus(n),hr=!0,u.precision=r,u.rounding=e,n.ln()):new u(n)};G.inverseHyperbolicSine=G.asinh=function(){var r,e,n=this,u=n.constructor;return!n.isFinite()||n.isZero()?new u(n):(r=u.precision,e=u.rounding,u.precision=r+2*Math.max(Math.abs(n.e),n.sd())+6,u.rounding=1,hr=!1,n=n.times(n).plus(1).sqrt().plus(n),hr=!0,u.precision=r,u.rounding=e,n.ln())};G.inverseHyperbolicTangent=G.atanh=function(){var r,e,n,u,t=this,i=t.constructor;return t.isFinite()?t.e>=0?new i(t.abs().eq(1)?t.s/0:t.isZero()?t:NaN):(r=i.precision,e=i.rounding,u=t.sd(),Math.max(u,r)<2*-t.e-1?ar(new i(t),r,e,!0):(i.precision=n=u-t.e,t=Pr(t.plus(1),new i(1).minus(t),n+r,1),i.precision=r+4,i.rounding=1,t=t.ln(),i.precision=r,i.rounding=e,t.times(.5))):new i(NaN)};G.inverseSine=G.asin=function(){var r,e,n,u,t=this,i=t.constructor;return t.isZero()?new i(t):(e=t.abs().cmp(1),n=i.precision,u=i.rounding,e!==-1?e===0?(r=Ne(i,n+4,u).times(.5),r.s=t.s,r):new i(NaN):(i.precision=n+6,i.rounding=1,t=t.div(new i(1).minus(t.times(t)).sqrt().plus(1)).atan(),i.precision=n,i.rounding=u,t.times(2)))};G.inverseTangent=G.atan=function(){var r,e,n,u,t,i,h,v,D,g=this,s=g.constructor,o=s.precision,l=s.rounding;if(g.isFinite()){if(g.isZero())return new s(g);if(g.abs().eq(1)&&o+4<=xu)return h=Ne(s,o+4,l).times(.25),h.s=g.s,h}else{if(!g.s)return new s(NaN);if(o+4<=xu)return h=Ne(s,o+4,l).times(.5),h.s=g.s,h}for(s.precision=v=o+10,s.rounding=1,n=Math.min(28,v/lr+2|0),r=n;r;--r)g=g.div(g.times(g).plus(1).sqrt().plus(1));for(hr=!1,e=Math.ceil(v/lr),u=1,D=g.times(g),h=new s(g),t=g;r!==-1;)if(t=t.times(D),i=h.minus(t.div(u+=2)),t=t.times(D),h=i.plus(t.div(u+=2)),h.d[e]!==void 0)for(r=e;h.d[r]===i.d[r]&&r--;);return n&&(h=h.times(2<<n-1)),hr=!0,ar(h,s.precision=o,s.rounding=l,!0)};G.isFinite=function(){return!!this.d};G.isInteger=G.isInt=function(){return!!this.d&&he(this.e/lr)>this.d.length-2};G.isNaN=function(){return!this.s};G.isNegative=G.isNeg=function(){return this.s<0};G.isPositive=G.isPos=function(){return this.s>0};G.isZero=function(){return!!this.d&&this.d[0]===0};G.lessThan=G.lt=function(r){return this.cmp(r)<0};G.lessThanOrEqualTo=G.lte=function(r){return this.cmp(r)<1};G.logarithm=G.log=function(r){var e,n,u,t,i,h,v,D,g=this,s=g.constructor,o=s.precision,l=s.rounding,p=5;if(r==null)r=new s(10),e=!0;else{if(r=new s(r),n=r.d,r.s<0||!n||!n[0]||r.eq(1))return new s(NaN);e=r.eq(10)}if(n=g.d,g.s<0||!n||!n[0]||g.eq(1))return new s(n&&!n[0]?-1/0:g.s!=1?NaN:n?0:1/0);if(e)if(n.length>1)i=!0;else{for(t=n[0];t%10===0;)t/=10;i=t!==1}if(hr=!1,v=o+p,h=Ge(g,v),u=e?hn(s,v+10):Ge(r,v),D=Pr(h,u,v,1),Ot(D.d,t=o,l))do if(v+=10,h=Ge(g,v),u=e?hn(s,v+10):Ge(r,v),D=Pr(h,u,v,1),!i){+fe(D.d).slice(t+1,t+15)+1==1e14&&(D=ar(D,o+1,0));break}while(Ot(D.d,t+=10,l));return hr=!0,ar(D,o,l)};G.minus=G.sub=function(r){var e,n,u,t,i,h,v,D,g,s,o,l,p=this,E=p.constructor;if(r=new E(r),!p.d||!r.d)return!p.s||!r.s?r=new E(NaN):p.d?r.s=-r.s:r=new E(r.d||p.s!==r.s?p:NaN),r;if(p.s!=r.s)return r.s=-r.s,p.plus(r);if(g=p.d,l=r.d,v=E.precision,D=E.rounding,!g[0]||!l[0]){if(l[0])r.s=-r.s;else if(g[0])r=new E(p);else return new E(D===3?-0:0);return hr?ar(r,v,D):r}if(n=he(r.e/lr),s=he(p.e/lr),g=g.slice(),i=s-n,i){for(o=i<0,o?(e=g,i=-i,h=l.length):(e=l,n=s,h=g.length),u=Math.max(Math.ceil(v/lr),h)+2,i>u&&(i=u,e.length=1),e.reverse(),u=i;u--;)e.push(0);e.reverse()}else{for(u=g.length,h=l.length,o=u<h,o&&(h=u),u=0;u<h;u++)if(g[u]!=l[u]){o=g[u]<l[u];break}i=0}for(o&&(e=g,g=l,l=e,r.s=-r.s),h=g.length,u=l.length-h;u>0;--u)g[h++]=0;for(u=l.length;u>i;){if(g[--u]<l[u]){for(t=u;t&&g[--t]===0;)g[t]=Be-1;--g[t],g[u]+=Be}g[u]-=l[u]}for(;g[--h]===0;)g.pop();for(;g[0]===0;g.shift())--n;return g[0]?(r.d=g,r.e=bn(g,n),hr?ar(r,v,D):r):new E(D===3?-0:0)};G.modulo=G.mod=function(r){var e,n=this,u=n.constructor;return r=new u(r),!n.d||!r.s||r.d&&!r.d[0]?new u(NaN):!r.d||n.d&&!n.d[0]?ar(new u(n),u.precision,u.rounding):(hr=!1,u.modulo==9?(e=Pr(n,r.abs(),0,3,1),e.s*=r.s):e=Pr(n,r,0,u.modulo,1),e=e.times(r),hr=!0,n.minus(e))};G.naturalExponential=G.exp=function(){return $u(this)};G.naturalLogarithm=G.ln=function(){return Ge(this)};G.negated=G.neg=function(){var r=new this.constructor(this);return r.s=-r.s,ar(r)};G.plus=G.add=function(r){var e,n,u,t,i,h,v,D,g,s,o=this,l=o.constructor;if(r=new l(r),!o.d||!r.d)return!o.s||!r.s?r=new l(NaN):o.d||(r=new l(r.d||o.s===r.s?o:NaN)),r;if(o.s!=r.s)return r.s=-r.s,o.minus(r);if(g=o.d,s=r.d,v=l.precision,D=l.rounding,!g[0]||!s[0])return s[0]||(r=new l(o)),hr?ar(r,v,D):r;if(i=he(o.e/lr),u=he(r.e/lr),g=g.slice(),t=i-u,t){for(t<0?(n=g,t=-t,h=s.length):(n=s,u=i,h=g.length),i=Math.ceil(v/lr),h=i>h?i+1:h+1,t>h&&(t=h,n.length=1),n.reverse();t--;)n.push(0);n.reverse()}for(h=g.length,t=s.length,h-t<0&&(t=h,n=s,s=g,g=n),e=0;t;)e=(g[--t]=g[t]+s[t]+e)/Be|0,g[t]%=Be;for(e&&(g.unshift(e),++u),h=g.length;g[--h]==0;)g.pop();return r.d=g,r.e=bn(g,u),hr?ar(r,v,D):r};G.precision=G.sd=function(r){var e,n=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(He+r);return n.d?(e=so(n.d),r&&n.e+1>e&&(e=n.e+1)):e=NaN,e};G.round=function(){var r=this,e=r.constructor;return ar(new e(r),r.e+1,e.rounding)};G.sine=G.sin=function(){var r,e,n=this,u=n.constructor;return n.isFinite()?n.isZero()?new u(n):(r=u.precision,e=u.rounding,u.precision=r+Math.max(n.e,n.sd())+lr,u.rounding=1,n=Nl(u,ho(u,n)),u.precision=r,u.rounding=e,ar(Ie>2?n.neg():n,r,e,!0)):new u(NaN)};G.squareRoot=G.sqrt=function(){var r,e,n,u,t,i,h=this,v=h.d,D=h.e,g=h.s,s=h.constructor;if(g!==1||!v||!v[0])return new s(!g||g<0&&(!v||v[0])?NaN:v?h:1/0);for(hr=!1,g=Math.sqrt(+h),g==0||g==1/0?(e=fe(v),(e.length+D)%2==0&&(e+="0"),g=Math.sqrt(e),D=he((D+1)/2)-(D<0||D%2),g==1/0?e="5e"+D:(e=g.toExponential(),e=e.slice(0,e.indexOf("e")+1)+D),u=new s(e)):u=new s(g.toString()),n=(D=s.precision)+3;;)if(i=u,u=i.plus(Pr(h,i,n+2,1)).times(.5),fe(i.d).slice(0,n)===(e=fe(u.d)).slice(0,n))if(e=e.slice(n-3,n+1),e=="9999"||!t&&e=="4999"){if(!t&&(ar(i,D+1,0),i.times(i).eq(h))){u=i;break}n+=4,t=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(ar(u,D+1,1),r=!u.times(u).eq(h));break}return hr=!0,ar(u,D,s.rounding,r)};G.tangent=G.tan=function(){var r,e,n=this,u=n.constructor;return n.isFinite()?n.isZero()?new u(n):(r=u.precision,e=u.rounding,u.precision=r+10,u.rounding=1,n=n.sin(),n.s=1,n=Pr(n,new u(1).minus(n.times(n)).sqrt(),r+10,0),u.precision=r,u.rounding=e,ar(Ie==2||Ie==4?n.neg():n,r,e,!0)):new u(NaN)};G.times=G.mul=function(r){var e,n,u,t,i,h,v,D,g,s=this,o=s.constructor,l=s.d,p=(r=new o(r)).d;if(r.s*=s.s,!l||!l[0]||!p||!p[0])return new o(!r.s||l&&!l[0]&&!p||p&&!p[0]&&!l?NaN:!l||!p?r.s/0:r.s*0);for(n=he(s.e/lr)+he(r.e/lr),D=l.length,g=p.length,D<g&&(i=l,l=p,p=i,h=D,D=g,g=h),i=[],h=D+g,u=h;u--;)i.push(0);for(u=g;--u>=0;){for(e=0,t=D+u;t>u;)v=i[t]+p[u]*l[t-u-1]+e,i[t--]=v%Be|0,e=v/Be|0;i[t]=(i[t]+e)%Be|0}for(;!i[--h];)i.pop();return e?++n:i.shift(),r.d=i,r.e=bn(i,n),hr?ar(r,o.precision,o.rounding):r};G.toBinary=function(r,e){return qu(this,2,r,e)};G.toDecimalPlaces=G.toDP=function(r,e){var n=this,u=n.constructor;return n=new u(n),r===void 0?n:(ge(r,0,Ve),e===void 0?e=u.rounding:ge(e,0,8),ar(n,r+n.e+1,e))};G.toExponential=function(r,e){var n,u=this,t=u.constructor;return r===void 0?n=Te(u,!0):(ge(r,0,Ve),e===void 0?e=t.rounding:ge(e,0,8),u=ar(new t(u),r+1,e),n=Te(u,!0,r+1)),u.isNeg()&&!u.isZero()?"-"+n:n};G.toFixed=function(r,e){var n,u,t=this,i=t.constructor;return r===void 0?n=Te(t):(ge(r,0,Ve),e===void 0?e=i.rounding:ge(e,0,8),u=ar(new i(t),r+t.e+1,e),n=Te(u,!1,r+u.e+1)),t.isNeg()&&!t.isZero()?"-"+n:n};G.toFraction=function(r){var e,n,u,t,i,h,v,D,g,s,o,l,p=this,E=p.d,f=p.constructor;if(!E)return new f(p);if(g=n=new f(1),u=D=new f(0),e=new f(u),i=e.e=so(E)-p.e-1,h=i%lr,e.d[0]=re(10,h<0?lr+h:h),r==null)r=i>0?e:g;else{if(v=new f(r),!v.isInt()||v.lt(g))throw Error(He+v);r=v.gt(e)?i>0?e:g:v}for(hr=!1,v=new f(fe(E)),s=f.precision,f.precision=i=E.length*lr*2;o=Pr(v,e,0,1,1),t=n.plus(o.times(u)),t.cmp(r)!=1;)n=u,u=t,t=g,g=D.plus(o.times(t)),D=t,t=e,e=v.minus(o.times(t)),v=t;return t=Pr(r.minus(n),u,0,1,1),D=D.plus(t.times(g)),n=n.plus(t.times(u)),D.s=g.s=p.s,l=Pr(g,u,i,1).minus(p).abs().cmp(Pr(D,n,i,1).minus(p).abs())<1?[g,u]:[D,n],f.precision=s,hr=!0,l};G.toHexadecimal=G.toHex=function(r,e){return qu(this,16,r,e)};G.toNearest=function(r,e){var n=this,u=n.constructor;if(n=new u(n),r==null){if(!n.d)return n;r=new u(1),e=u.rounding}else{if(r=new u(r),e===void 0?e=u.rounding:ge(e,0,8),!n.d)return r.s?n:r;if(!r.d)return r.s&&(r.s=n.s),r}return r.d[0]?(hr=!1,n=Pr(n,r,0,e,1).times(r),hr=!0,ar(n)):(r.s=n.s,n=r),n};G.toNumber=function(){return+this};G.toOctal=function(r,e){return qu(this,8,r,e)};G.toPower=G.pow=function(r){var e,n,u,t,i,h,v=this,D=v.constructor,g=+(r=new D(r));if(!v.d||!r.d||!v.d[0]||!r.d[0])return new D(re(+v,g));if(v=new D(v),v.eq(1))return v;if(u=D.precision,i=D.rounding,r.eq(1))return ar(v,u,i);if(e=he(r.e/lr),e>=r.d.length-1&&(n=g<0?-g:g)<=El)return t=fo(D,v,n,u),r.s<0?new D(1).div(t):ar(t,u,i);if(h=v.s,h<0){if(e<r.d.length-1)return new D(NaN);if(r.d[e]&1||(h=1),v.e==0&&v.d[0]==1&&v.d.length==1)return v.s=h,v}return n=re(+v,g),e=n==0||!isFinite(n)?he(g*(Math.log("0."+fe(v.d))/Math.LN10+v.e+1)):new D(n+"").e,e>D.maxE+1||e<D.minE-1?new D(e>0?h/0:0):(hr=!1,D.rounding=v.s=1,n=Math.min(12,(e+"").length),t=$u(r.times(Ge(v,u+n)),u),t.d&&(t=ar(t,u+5,1),Ot(t.d,u,i)&&(e=u+10,t=ar($u(r.times(Ge(v,e+n)),e),e+5,1),+fe(t.d).slice(u+1,u+15)+1==1e14&&(t=ar(t,u+1,0)))),t.s=h,hr=!0,D.rounding=i,ar(t,u,i))};G.toPrecision=function(r,e){var n,u=this,t=u.constructor;return r===void 0?n=Te(u,u.e<=t.toExpNeg||u.e>=t.toExpPos):(ge(r,1,Ve),e===void 0?e=t.rounding:ge(e,0,8),u=ar(new t(u),r,e),n=Te(u,r<=u.e||u.e<=t.toExpNeg,r)),u.isNeg()&&!u.isZero()?"-"+n:n};G.toSignificantDigits=G.toSD=function(r,e){var n=this,u=n.constructor;return r===void 0?(r=u.precision,e=u.rounding):(ge(r,1,Ve),e===void 0?e=u.rounding:ge(e,0,8)),ar(new u(n),r,e)};G.toString=function(){var r=this,e=r.constructor,n=Te(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+n:n};G.truncated=G.trunc=function(){return ar(new this.constructor(this),this.e+1,1)};G.valueOf=G.toJSON=function(){var r=this,e=r.constructor,n=Te(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+n:n};function fe(r){var e,n,u,t=r.length-1,i="",h=r[0];if(t>0){for(i+=h,e=1;e<t;e++)u=r[e]+"",n=lr-u.length,n&&(i+=Ze(n)),i+=u;h=r[e],u=h+"",n=lr-u.length,n&&(i+=Ze(n))}else if(h===0)return"0";for(;h%10===0;)h/=10;return i+h}function ge(r,e,n){if(r!==~~r||r<e||r>n)throw Error(He+r)}function Ot(r,e,n,u){var t,i,h,v;for(i=r[0];i>=10;i/=10)--e;return--e<0?(e+=lr,t=0):(t=Math.ceil((e+1)/lr),e%=lr),i=re(10,lr-e),v=r[t]%i|0,u==null?e<3?(e==0?v=v/100|0:e==1&&(v=v/10|0),h=n<4&&v==99999||n>3&&v==49999||v==5e4||v==0):h=(n<4&&v+1==i||n>3&&v+1==i/2)&&(r[t+1]/i/100|0)==re(10,e-2)-1||(v==i/2||v==0)&&(r[t+1]/i/100|0)==0:e<4?(e==0?v=v/1e3|0:e==1?v=v/100|0:e==2&&(v=v/10|0),h=(u||n<4)&&v==9999||!u&&n>3&&v==4999):h=((u||n<4)&&v+1==i||!u&&n>3&&v+1==i/2)&&(r[t+1]/i/1e3|0)==re(10,e-3)-1,h}function en(r,e,n){for(var u,t=[0],i,h=0,v=r.length;h<v;){for(i=t.length;i--;)t[i]*=e;for(t[0]+=Su.indexOf(r.charAt(h++)),u=0;u<t.length;u++)t[u]>n-1&&(t[u+1]===void 0&&(t[u+1]=0),t[u+1]+=t[u]/n|0,t[u]%=n)}return t.reverse()}function Cl(r,e){var n,u,t;if(e.isZero())return e;u=e.d.length,u<32?(n=Math.ceil(u/3),t=(1/yn(4,n)).toString()):(n=16,t="2.3283064365386962890625e-10"),r.precision+=n,e=Ft(r,1,e.times(t),new r(1));for(var i=n;i--;){var h=e.times(e);e=h.times(h).minus(h).times(8).plus(1)}return r.precision-=n,e}var Pr=function(){function r(u,t,i){var h,v=0,D=u.length;for(u=u.slice();D--;)h=u[D]*t+v,u[D]=h%i|0,v=h/i|0;return v&&u.unshift(v),u}function e(u,t,i,h){var v,D;if(i!=h)D=i>h?1:-1;else for(v=D=0;v<i;v++)if(u[v]!=t[v]){D=u[v]>t[v]?1:-1;break}return D}function n(u,t,i,h){for(var v=0;i--;)u[i]-=v,v=u[i]<t[i]?1:0,u[i]=v*h+u[i]-t[i];for(;!u[0]&&u.length>1;)u.shift()}return function(u,t,i,h,v,D){var g,s,o,l,p,E,f,y,m,C,b,B,A,w,T,I,P,Z,k,R,ir=u.constructor,ur=u.s==t.s?1:-1,er=u.d,Q=t.d;if(!er||!er[0]||!Q||!Q[0])return new ir(!u.s||!t.s||(er?Q&&er[0]==Q[0]:!Q)?NaN:er&&er[0]==0||!Q?ur*0:ur/0);for(D?(p=1,s=u.e-t.e):(D=Be,p=lr,s=he(u.e/p)-he(t.e/p)),k=Q.length,P=er.length,m=new ir(ur),C=m.d=[],o=0;Q[o]==(er[o]||0);o++);if(Q[o]>(er[o]||0)&&s--,i==null?(w=i=ir.precision,h=ir.rounding):v?w=i+(u.e-t.e)+1:w=i,w<0)C.push(1),E=!0;else{if(w=w/p+2|0,o=0,k==1){for(l=0,Q=Q[0],w++;(o<P||l)&&w--;o++)T=l*D+(er[o]||0),C[o]=T/Q|0,l=T%Q|0;E=l||o<P}else{for(l=D/(Q[0]+1)|0,l>1&&(Q=r(Q,l,D),er=r(er,l,D),k=Q.length,P=er.length),I=k,b=er.slice(0,k),B=b.length;B<k;)b[B++]=0;R=Q.slice(),R.unshift(0),Z=Q[0],Q[1]>=D/2&&++Z;do l=0,g=e(Q,b,k,B),g<0?(A=b[0],k!=B&&(A=A*D+(b[1]||0)),l=A/Z|0,l>1?(l>=D&&(l=D-1),f=r(Q,l,D),y=f.length,B=b.length,g=e(f,b,y,B),g==1&&(l--,n(f,k<y?R:Q,y,D))):(l==0&&(g=l=1),f=Q.slice()),y=f.length,y<B&&f.unshift(0),n(b,f,B,D),g==-1&&(B=b.length,g=e(Q,b,k,B),g<1&&(l++,n(b,k<B?R:Q,B,D))),B=b.length):g===0&&(l++,b=[0]),C[o++]=l,g&&b[0]?b[B++]=er[I]||0:(b=[er[I]],B=1);while((I++<P||b[0]!==void 0)&&w--);E=b[0]!==void 0}C[0]||C.shift()}if(p==1)m.e=s,no=E;else{for(o=1,l=C[0];l>=10;l/=10)o++;m.e=o+s*p-1,ar(m,v?i+m.e+1:i,h,E)}return m}}();function ar(r,e,n,u){var t,i,h,v,D,g,s,o,l,p=r.constructor;r:if(e!=null){if(o=r.d,!o)return r;for(t=1,v=o[0];v>=10;v/=10)t++;if(i=e-t,i<0)i+=lr,h=e,s=o[l=0],D=s/re(10,t-h-1)%10|0;else if(l=Math.ceil((i+1)/lr),v=o.length,l>=v)if(u){for(;v++<=l;)o.push(0);s=D=0,t=1,i%=lr,h=i-lr+1}else break r;else{for(s=v=o[l],t=1;v>=10;v/=10)t++;i%=lr,h=i-lr+t,D=h<0?0:s/re(10,t-h-1)%10|0}if(u=u||e<0||o[l+1]!==void 0||(h<0?s:s%re(10,t-h-1)),g=n<4?(D||u)&&(n==0||n==(r.s<0?3:2)):D>5||D==5&&(n==4||u||n==6&&(i>0?h>0?s/re(10,t-h):0:o[l-1])%10&1||n==(r.s<0?8:7)),e<1||!o[0])return o.length=0,g?(e-=r.e+1,o[0]=re(10,(lr-e%lr)%lr),r.e=-e||0):o[0]=r.e=0,r;if(i==0?(o.length=l,v=1,l--):(o.length=l+1,v=re(10,lr-i),o[l]=h>0?(s/re(10,t-h)%re(10,h)|0)*v:0),g)for(;;)if(l==0){for(i=1,h=o[0];h>=10;h/=10)i++;for(h=o[0]+=v,v=1;h>=10;h/=10)v++;i!=v&&(r.e++,o[0]==Be&&(o[0]=1));break}else{if(o[l]+=v,o[l]!=Be)break;o[l--]=0,v=1}for(i=o.length;o[--i]===0;)o.pop()}return hr&&(r.e>p.maxE?(r.d=null,r.e=NaN):r.e<p.minE&&(r.e=0,r.d=[0])),r}function Te(r,e,n){if(!r.isFinite())return lo(r);var u,t=r.e,i=fe(r.d),h=i.length;return e?(n&&(u=n-h)>0?i=i.charAt(0)+"."+i.slice(1)+Ze(u):h>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(r.e<0?"e":"e+")+r.e):t<0?(i="0."+Ze(-t-1)+i,n&&(u=n-h)>0&&(i+=Ze(u))):t>=h?(i+=Ze(t+1-h),n&&(u=n-t-1)>0&&(i=i+"."+Ze(u))):((u=t+1)<h&&(i=i.slice(0,u)+"."+i.slice(u)),n&&(u=n-h)>0&&(t+1===h&&(i+="."),i+=Ze(u))),i}function bn(r,e){var n=r[0];for(e*=lr;n>=10;n/=10)e++;return e}function hn(r,e,n){if(e>Al)throw hr=!0,n&&(r.precision=n),Error(uo);return ar(new r(cn),e,1,!0)}function Ne(r,e,n){if(e>xu)throw Error(uo);return ar(new r(ln),e,n,!0)}function so(r){var e=r.length-1,n=e*lr+1;if(e=r[e],e){for(;e%10==0;e/=10)n--;for(e=r[0];e>=10;e/=10)n++}return n}function Ze(r){for(var e="";r--;)e+="0";return e}function fo(r,e,n,u){var t,i=new r(1),h=Math.ceil(u/lr+4);for(hr=!1;;){if(n%2&&(i=i.times(e),ca(i.d,h)&&(t=!0)),n=he(n/2),n===0){n=i.d.length-1,t&&i.d[n]===0&&++i.d[n];break}e=e.times(e),ca(e.d,h)}return hr=!0,i}function fa(r){return r.d[r.d.length-1]&1}function co(r,e,n){for(var u,t=new r(e[0]),i=0;++i<e.length;)if(u=new r(e[i]),u.s)t[n](u)&&(t=u);else{t=u;break}return t}function $u(r,e){var n,u,t,i,h,v,D,g=0,s=0,o=0,l=r.constructor,p=l.rounding,E=l.precision;if(!r.d||!r.d[0]||r.e>17)return new l(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(e==null?(hr=!1,D=E):D=e,v=new l(.03125);r.e>-2;)r=r.times(v),o+=5;for(u=Math.log(re(2,o))/Math.LN10*2+5|0,D+=u,n=i=h=new l(1),l.precision=D;;){if(i=ar(i.times(r),D,1),n=n.times(++s),v=h.plus(Pr(i,n,D,1)),fe(v.d).slice(0,D)===fe(h.d).slice(0,D)){for(t=o;t--;)h=ar(h.times(h),D,1);if(e==null)if(g<3&&Ot(h.d,D-u,p,g))l.precision=D+=10,n=i=v=new l(1),s=0,g++;else return ar(h,l.precision=E,p,hr=!0);else return l.precision=E,h}h=v}}function Ge(r,e){var n,u,t,i,h,v,D,g,s,o,l,p=1,E=10,f=r,y=f.d,m=f.constructor,C=m.rounding,b=m.precision;if(f.s<0||!y||!y[0]||!f.e&&y[0]==1&&y.length==1)return new m(y&&!y[0]?-1/0:f.s!=1?NaN:y?0:f);if(e==null?(hr=!1,s=b):s=e,m.precision=s+=E,n=fe(y),u=n.charAt(0),Math.abs(i=f.e)<15e14){for(;u<7&&u!=1||u==1&&n.charAt(1)>3;)f=f.times(r),n=fe(f.d),u=n.charAt(0),p++;i=f.e,u>1?(f=new m("0."+n),i++):f=new m(u+"."+n.slice(1))}else return g=hn(m,s+2,b).times(i+""),f=Ge(new m(u+"."+n.slice(1)),s-E).plus(g),m.precision=b,e==null?ar(f,b,C,hr=!0):f;for(o=f,D=h=f=Pr(f.minus(1),f.plus(1),s,1),l=ar(f.times(f),s,1),t=3;;){if(h=ar(h.times(l),s,1),g=D.plus(Pr(h,new m(t),s,1)),fe(g.d).slice(0,s)===fe(D.d).slice(0,s))if(D=D.times(2),i!==0&&(D=D.plus(hn(m,s+2,b).times(i+""))),D=Pr(D,new m(p),s,1),e==null)if(Ot(D.d,s-E,C,v))m.precision=s+=E,g=h=f=Pr(o.minus(1),o.plus(1),s,1),l=ar(f.times(f),s,1),t=v=1;else return ar(D,m.precision=b,C,hr=!0);else return m.precision=b,D;D=g,t+=2}}function lo(r){return String(r.s*r.s/0)}function Ou(r,e){var n,u,t;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(n<0&&(n=u),n+=+e.slice(u+1),e=e.substring(0,u)):n<0&&(n=e.length),u=0;e.charCodeAt(u)===48;u++);for(t=e.length;e.charCodeAt(t-1)===48;--t);if(e=e.slice(u,t),e){if(t-=u,r.e=n=n-u-1,r.d=[],u=(n+1)%lr,n<0&&(u+=lr),u<t){for(u&&r.d.push(+e.slice(0,u)),t-=lr;u<t;)r.d.push(+e.slice(u,u+=lr));e=e.slice(u),u=lr-e.length}else u-=t;for(;u--;)e+="0";r.d.push(+e),hr&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function _l(r,e){var n,u,t,i,h,v,D,g,s;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),oo.test(e))return Ou(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(yl.test(e))n=16,e=e.toLowerCase();else if(bl.test(e))n=2;else if(Fl.test(e))n=8;else throw Error(He+e);for(i=e.search(/p/i),i>0?(D=+e.slice(i+1),e=e.substring(2,i)):e=e.slice(2),i=e.indexOf("."),h=i>=0,u=r.constructor,h&&(e=e.replace(".",""),v=e.length,i=v-i,t=fo(u,new u(n),i,i*2)),g=en(e,n,Be),s=g.length-1,i=s;g[i]===0;--i)g.pop();return i<0?new u(r.s*0):(r.e=bn(g,s),r.d=g,hr=!1,h&&(r=Pr(r,t,v*4)),D&&(r=r.times(Math.abs(D)<54?re(2,D):Et.pow(2,D))),hr=!0,r)}function Nl(r,e){var n,u=e.d.length;if(u<3)return e.isZero()?e:Ft(r,2,e,e);n=1.4*Math.sqrt(u),n=n>16?16:n|0,e=e.times(1/yn(5,n)),e=Ft(r,2,e,e);for(var t,i=new r(5),h=new r(16),v=new r(20);n--;)t=e.times(e),e=e.times(i.plus(t.times(h.times(t).minus(v))));return e}function Ft(r,e,n,u,t){var i,h,v,D,g=r.precision,s=Math.ceil(g/lr);for(hr=!1,D=n.times(n),v=new r(u);;){if(h=Pr(v.times(D),new r(e++*e++),g,1),v=t?u.plus(h):u.minus(h),u=Pr(h.times(D),new r(e++*e++),g,1),h=v.plus(u),h.d[s]!==void 0){for(i=s;h.d[i]===v.d[i]&&i--;);if(i==-1)break}i=v,v=u,u=h,h=i}return hr=!0,h.d.length=s+1,h}function yn(r,e){for(var n=r;--e;)n*=r;return n}function ho(r,e){var n,u=e.s<0,t=Ne(r,r.precision,1),i=t.times(.5);if(e=e.abs(),e.lte(i))return Ie=u?4:1,e;if(n=e.divToInt(t),n.isZero())Ie=u?3:2;else{if(e=e.minus(n.times(t)),e.lte(i))return Ie=fa(n)?u?2:3:u?4:1,e;Ie=fa(n)?u?1:4:u?3:2}return e.minus(t).abs()}function qu(r,e,n,u){var t,i,h,v,D,g,s,o,l,p=r.constructor,E=n!==void 0;if(E?(ge(n,1,Ve),u===void 0?u=p.rounding:ge(u,0,8)):(n=p.precision,u=p.rounding),!r.isFinite())s=lo(r);else{for(s=Te(r),h=s.indexOf("."),E?(t=2,e==16?n=n*4-3:e==8&&(n=n*3-2)):t=e,h>=0&&(s=s.replace(".",""),l=new p(1),l.e=s.length-h,l.d=en(Te(l),10,t),l.e=l.d.length),o=en(s,10,t),i=D=o.length;o[--D]==0;)o.pop();if(!o[0])s=E?"0p+0":"0";else{if(h<0?i--:(r=new p(r),r.d=o,r.e=i,r=Pr(r,l,n,u,0,t),o=r.d,i=r.e,g=no),h=o[n],v=t/2,g=g||o[n+1]!==void 0,g=u<4?(h!==void 0||g)&&(u===0||u===(r.s<0?3:2)):h>v||h===v&&(u===4||g||u===6&&o[n-1]&1||u===(r.s<0?8:7)),o.length=n,g)for(;++o[--n]>t-1;)o[n]=0,n||(++i,o.unshift(1));for(D=o.length;!o[D-1];--D);for(h=0,s="";h<D;h++)s+=Su.charAt(o[h]);if(E){if(D>1)if(e==16||e==8){for(h=e==16?4:3,--D;D%h;D++)s+="0";for(o=en(s,t,e),D=o.length;!o[D-1];--D);for(h=1,s="1.";h<D;h++)s+=Su.charAt(o[h])}else s=s.charAt(0)+"."+s.slice(1);s=s+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)s="0"+s;s="0."+s}else if(++i>D)for(i-=D;i--;)s+="0";else i<D&&(s=s.slice(0,i)+"."+s.slice(i))}s=(e==16?"0x":e==2?"0b":e==8?"0o":"")+s}return r.s<0?"-"+s:s}function ca(r,e){if(r.length>e)return r.length=e,!0}function Bl(r){return new this(r).abs()}function Ml(r){return new this(r).acos()}function Sl(r){return new this(r).acosh()}function Tl(r,e){return new this(r).plus(e)}function xl(r){return new this(r).asin()}function $l(r){return new this(r).asinh()}function Ol(r){return new this(r).atan()}function Il(r){return new this(r).atanh()}function Pl(r,e){r=new this(r),e=new this(e);var n,u=this.precision,t=this.rounding,i=u+4;return!r.s||!e.s?n=new this(NaN):!r.d&&!e.d?(n=Ne(this,i,1).times(e.s>0?.25:.75),n.s=r.s):!e.d||r.isZero()?(n=e.s<0?Ne(this,u,t):new this(0),n.s=r.s):!r.d||e.isZero()?(n=Ne(this,i,1).times(.5),n.s=r.s):e.s<0?(this.precision=i,this.rounding=1,n=this.atan(Pr(r,e,i,1)),e=Ne(this,i,1),this.precision=u,this.rounding=t,n=r.s<0?n.minus(e):n.plus(e)):n=this.atan(Pr(r,e,i,1)),n}function zl(r){return new this(r).cbrt()}function kl(r){return ar(r=new this(r),r.e+1,2)}function Rl(r,e,n){return new this(r).clamp(e,n)}function Ll(r){if(!r||typeof r!="object")throw Error(wn+"Object expected");var e,n,u,t=r.defaults===!0,i=["precision",1,Ve,"rounding",0,8,"toExpNeg",-mt,0,"toExpPos",0,mt,"maxE",0,mt,"minE",-mt,0,"modulo",0,9];for(e=0;e<i.length;e+=3)if(n=i[e],t&&(this[n]=Tu[n]),(u=r[n])!==void 0)if(he(u)===u&&u>=i[e+1]&&u<=i[e+2])this[n]=u;else throw Error(He+n+": "+u);if(n="crypto",t&&(this[n]=Tu[n]),(u=r[n])!==void 0)if(u===!0||u===!1||u===0||u===1)if(u)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(io);else this[n]=!1;else throw Error(He+n+": "+u);return this}function ql(r){return new this(r).cos()}function Ul(r){return new this(r).cosh()}function vo(r){var e,n,u;function t(i){var h,v,D,g=this;if(!(g instanceof t))return new t(i);if(g.constructor=t,la(i)){g.s=i.s,hr?!i.d||i.e>t.maxE?(g.e=NaN,g.d=null):i.e<t.minE?(g.e=0,g.d=[0]):(g.e=i.e,g.d=i.d.slice()):(g.e=i.e,g.d=i.d?i.d.slice():i.d);return}if(D=typeof i,D==="number"){if(i===0){g.s=1/i<0?-1:1,g.e=0,g.d=[0];return}if(i<0?(i=-i,g.s=-1):g.s=1,i===~~i&&i<1e7){for(h=0,v=i;v>=10;v/=10)h++;hr?h>t.maxE?(g.e=NaN,g.d=null):h<t.minE?(g.e=0,g.d=[0]):(g.e=h,g.d=[i]):(g.e=h,g.d=[i]);return}else if(i*0!==0){i||(g.s=NaN),g.e=NaN,g.d=null;return}return Ou(g,i.toString())}else if(D!=="string")throw Error(He+i);return(v=i.charCodeAt(0))===45?(i=i.slice(1),g.s=-1):(v===43&&(i=i.slice(1)),g.s=1),oo.test(i)?Ou(g,i):_l(g,i)}if(t.prototype=G,t.ROUND_UP=0,t.ROUND_DOWN=1,t.ROUND_CEIL=2,t.ROUND_FLOOR=3,t.ROUND_HALF_UP=4,t.ROUND_HALF_DOWN=5,t.ROUND_HALF_EVEN=6,t.ROUND_HALF_CEIL=7,t.ROUND_HALF_FLOOR=8,t.EUCLID=9,t.config=t.set=Ll,t.clone=vo,t.isDecimal=la,t.abs=Bl,t.acos=Ml,t.acosh=Sl,t.add=Tl,t.asin=xl,t.asinh=$l,t.atan=Ol,t.atanh=Il,t.atan2=Pl,t.cbrt=zl,t.ceil=kl,t.clamp=Rl,t.cos=ql,t.cosh=Ul,t.div=Zl,t.exp=Gl,t.floor=Hl,t.hypot=Vl,t.ln=Yl,t.log=Wl,t.log10=Jl,t.log2=Xl,t.max=Ql,t.min=jl,t.mod=Kl,t.mul=rh,t.pow=eh,t.random=th,t.round=nh,t.sign=uh,t.sin=ih,t.sinh=ah,t.sqrt=oh,t.sub=sh,t.sum=fh,t.tan=ch,t.tanh=lh,t.trunc=hh,r===void 0&&(r={}),r&&r.defaults!==!0)for(u=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<u.length;)r.hasOwnProperty(n=u[e++])||(r[n]=this[n]);return t.config(r),t}function Zl(r,e){return new this(r).div(e)}function Gl(r){return new this(r).exp()}function Hl(r){return ar(r=new this(r),r.e+1,3)}function Vl(){var r,e,n=new this(0);for(hr=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return hr=!0,new this(1/0);n=e}return hr=!0,n.sqrt()}function la(r){return r instanceof Et||r&&r.toStringTag===ao||!1}function Yl(r){return new this(r).ln()}function Wl(r,e){return new this(r).log(e)}function Xl(r){return new this(r).log(2)}function Jl(r){return new this(r).log(10)}function Ql(){return co(this,arguments,"lt")}function jl(){return co(this,arguments,"gt")}function Kl(r,e){return new this(r).mod(e)}function rh(r,e){return new this(r).mul(e)}function eh(r,e){return new this(r).pow(e)}function th(r){var e,n,u,t,i=0,h=new this(1),v=[];if(r===void 0?r=this.precision:ge(r,1,Ve),u=Math.ceil(r/lr),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(u));i<u;)t=e[i],t>=429e7?e[i]=crypto.getRandomValues(new Uint32Array(1))[0]:v[i++]=t%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(u*=4);i<u;)t=e[i]+(e[i+1]<<8)+(e[i+2]<<16)+((e[i+3]&127)<<24),t>=214e7?crypto.randomBytes(4).copy(e,i):(v.push(t%1e7),i+=4);i=u/4}else throw Error(io);else for(;i<u;)v[i++]=Math.random()*1e7|0;for(u=v[--i],r%=lr,u&&r&&(t=re(10,lr-r),v[i]=(u/t|0)*t);v[i]===0;i--)v.pop();if(i<0)n=0,v=[0];else{for(n=-1;v[0]===0;n-=lr)v.shift();for(u=1,t=v[0];t>=10;t/=10)u++;u<lr&&(n-=lr-u)}return h.e=n,h.d=v,h}function nh(r){return ar(r=new this(r),r.e+1,this.rounding)}function uh(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function ih(r){return new this(r).sin()}function ah(r){return new this(r).sinh()}function oh(r){return new this(r).sqrt()}function sh(r,e){return new this(r).sub(e)}function fh(){var r=0,e=arguments,n=new this(e[r]);for(hr=!1;n.s&&++r<e.length;)n=n.plus(e[r]);return hr=!0,ar(n,this.precision,this.rounding)}function ch(r){return new this(r).tan()}function lh(r){return new this(r).tanh()}function hh(r){return ar(r=new this(r),r.e+1,1)}G[Symbol.for("nodejs.util.inspect.custom")]=G.toString;G[Symbol.toStringTag]="Decimal";var Et=G.constructor=vo(Tu);cn=new Et(cn);ln=new Et(ln);var vh="BigNumber",ph=["?on","config"],dh=yr(vh,ph,r=>{var{on:e,config:n}=r,u=Et.clone({precision:n.precision,modulo:Et.EUCLID});return u.prototype=Object.create(u.prototype),u.prototype.type="BigNumber",u.prototype.isBigNumber=!0,u.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},u.fromJSON=function(t){return new u(t.value)},e&&e("config",function(t,i){t.precision!==i.precision&&u.config({precision:t.precision})}),u},{isClass:!0}),po={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,e){(function(n){var u=Math.cosh||function(o){return Math.abs(o)<1e-9?1-o:(Math.exp(o)+Math.exp(-o))*.5},t=Math.sinh||function(o){return Math.abs(o)<1e-9?o:(Math.exp(o)-Math.exp(-o))*.5},i=function(o){var l=Math.PI/4;if(-l>o||o>l)return Math.cos(o)-1;var p=o*o;return p*(p*(p*(p*(p*(p*(p*(p/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},h=function(o,l){var p=Math.abs(o),E=Math.abs(l);return p<3e3&&E<3e3?Math.sqrt(p*p+E*E):(p<E?(p=E,E=o/l):E=l/o,p*Math.sqrt(1+E*E))},v=function(){throw SyntaxError("Invalid Param")};function D(o,l){var p=Math.abs(o),E=Math.abs(l);return o===0?Math.log(E):l===0?Math.log(p):p<3e3&&E<3e3?Math.log(o*o+l*l)*.5:(o=o/2,l=l/2,.5*Math.log(o*o+l*l)+Math.LN2)}var g=function(o,l){var p={re:0,im:0};if(o==null)p.re=p.im=0;else if(l!==void 0)p.re=o,p.im=l;else switch(typeof o){case"object":if("im"in o&&"re"in o)p.re=o.re,p.im=o.im;else if("abs"in o&&"arg"in o){if(!Number.isFinite(o.abs)&&Number.isFinite(o.arg))return s.INFINITY;p.re=o.abs*Math.cos(o.arg),p.im=o.abs*Math.sin(o.arg)}else if("r"in o&&"phi"in o){if(!Number.isFinite(o.r)&&Number.isFinite(o.phi))return s.INFINITY;p.re=o.r*Math.cos(o.phi),p.im=o.r*Math.sin(o.phi)}else o.length===2?(p.re=o[0],p.im=o[1]):v();break;case"string":p.im=p.re=0;var E=o.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),f=1,y=0;E===null&&v();for(var m=0;m<E.length;m++){var C=E[m];C===" "||C==="	"||C===`
`||(C==="+"?f++:C==="-"?y++:C==="i"||C==="I"?(f+y===0&&v(),E[m+1]!==" "&&!isNaN(E[m+1])?(p.im+=parseFloat((y%2?"-":"")+E[m+1]),m++):p.im+=parseFloat((y%2?"-":"")+"1"),f=y=0):((f+y===0||isNaN(C))&&v(),E[m+1]==="i"||E[m+1]==="I"?(p.im+=parseFloat((y%2?"-":"")+C),m++):p.re+=parseFloat((y%2?"-":"")+C),f=y=0))}f+y>0&&v();break;case"number":p.im=0,p.re=o;break;default:v()}return isNaN(p.re)||isNaN(p.im),p};function s(o,l){if(!(this instanceof s))return new s(o,l);var p=g(o,l);this.re=p.re,this.im=p.im}s.prototype={re:0,im:0,sign:function(){var o=this.abs();return new s(this.re/o,this.im/o)},add:function(o,l){var p=new s(o,l);return this.isInfinite()&&p.isInfinite()?s.NAN:this.isInfinite()||p.isInfinite()?s.INFINITY:new s(this.re+p.re,this.im+p.im)},sub:function(o,l){var p=new s(o,l);return this.isInfinite()&&p.isInfinite()?s.NAN:this.isInfinite()||p.isInfinite()?s.INFINITY:new s(this.re-p.re,this.im-p.im)},mul:function(o,l){var p=new s(o,l);return this.isInfinite()&&p.isZero()||this.isZero()&&p.isInfinite()?s.NAN:this.isInfinite()||p.isInfinite()?s.INFINITY:p.im===0&&this.im===0?new s(this.re*p.re,0):new s(this.re*p.re-this.im*p.im,this.re*p.im+this.im*p.re)},div:function(o,l){var p=new s(o,l);if(this.isZero()&&p.isZero()||this.isInfinite()&&p.isInfinite())return s.NAN;if(this.isInfinite()||p.isZero())return s.INFINITY;if(this.isZero()||p.isInfinite())return s.ZERO;o=this.re,l=this.im;var E=p.re,f=p.im,y,m;return f===0?new s(o/E,l/E):Math.abs(E)<Math.abs(f)?(m=E/f,y=E*m+f,new s((o*m+l)/y,(l*m-o)/y)):(m=f/E,y=f*m+E,new s((o+l*m)/y,(l-o*m)/y))},pow:function(o,l){var p=new s(o,l);if(o=this.re,l=this.im,p.isZero())return s.ONE;if(p.im===0){if(l===0&&o>0)return new s(Math.pow(o,p.re),0);if(o===0)switch((p.re%4+4)%4){case 0:return new s(Math.pow(l,p.re),0);case 1:return new s(0,Math.pow(l,p.re));case 2:return new s(-Math.pow(l,p.re),0);case 3:return new s(0,-Math.pow(l,p.re))}}if(o===0&&l===0&&p.re>0&&p.im>=0)return s.ZERO;var E=Math.atan2(l,o),f=D(o,l);return o=Math.exp(p.re*f-p.im*E),l=p.im*f+p.re*E,new s(o*Math.cos(l),o*Math.sin(l))},sqrt:function(){var o=this.re,l=this.im,p=this.abs(),E,f;if(o>=0){if(l===0)return new s(Math.sqrt(o),0);E=.5*Math.sqrt(2*(p+o))}else E=Math.abs(l)/Math.sqrt(2*(p-o));return o<=0?f=.5*Math.sqrt(2*(p-o)):f=Math.abs(l)/Math.sqrt(2*(p+o)),new s(E,l<0?-f:f)},exp:function(){var o=Math.exp(this.re);return this.im,new s(o*Math.cos(this.im),o*Math.sin(this.im))},expm1:function(){var o=this.re,l=this.im;return new s(Math.expm1(o)*Math.cos(l)+i(l),Math.exp(o)*Math.sin(l))},log:function(){var o=this.re,l=this.im;return new s(D(o,l),Math.atan2(l,o))},abs:function(){return h(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var o=this.re,l=this.im;return new s(Math.sin(o)*u(l),Math.cos(o)*t(l))},cos:function(){var o=this.re,l=this.im;return new s(Math.cos(o)*u(l),-Math.sin(o)*t(l))},tan:function(){var o=2*this.re,l=2*this.im,p=Math.cos(o)+u(l);return new s(Math.sin(o)/p,t(l)/p)},cot:function(){var o=2*this.re,l=2*this.im,p=Math.cos(o)-u(l);return new s(-Math.sin(o)/p,t(l)/p)},sec:function(){var o=this.re,l=this.im,p=.5*u(2*l)+.5*Math.cos(2*o);return new s(Math.cos(o)*u(l)/p,Math.sin(o)*t(l)/p)},csc:function(){var o=this.re,l=this.im,p=.5*u(2*l)-.5*Math.cos(2*o);return new s(Math.sin(o)*u(l)/p,-Math.cos(o)*t(l)/p)},asin:function(){var o=this.re,l=this.im,p=new s(l*l-o*o+1,-2*o*l).sqrt(),E=new s(p.re-l,p.im+o).log();return new s(E.im,-E.re)},acos:function(){var o=this.re,l=this.im,p=new s(l*l-o*o+1,-2*o*l).sqrt(),E=new s(p.re-l,p.im+o).log();return new s(Math.PI/2-E.im,E.re)},atan:function(){var o=this.re,l=this.im;if(o===0){if(l===1)return new s(0,1/0);if(l===-1)return new s(0,-1/0)}var p=o*o+(1-l)*(1-l),E=new s((1-l*l-o*o)/p,-2*o/p).log();return new s(-.5*E.im,.5*E.re)},acot:function(){var o=this.re,l=this.im;if(l===0)return new s(Math.atan2(1,o),0);var p=o*o+l*l;return p!==0?new s(o/p,-l/p).atan():new s(o!==0?o/0:0,l!==0?-l/0:0).atan()},asec:function(){var o=this.re,l=this.im;if(o===0&&l===0)return new s(0,1/0);var p=o*o+l*l;return p!==0?new s(o/p,-l/p).acos():new s(o!==0?o/0:0,l!==0?-l/0:0).acos()},acsc:function(){var o=this.re,l=this.im;if(o===0&&l===0)return new s(Math.PI/2,1/0);var p=o*o+l*l;return p!==0?new s(o/p,-l/p).asin():new s(o!==0?o/0:0,l!==0?-l/0:0).asin()},sinh:function(){var o=this.re,l=this.im;return new s(t(o)*Math.cos(l),u(o)*Math.sin(l))},cosh:function(){var o=this.re,l=this.im;return new s(u(o)*Math.cos(l),t(o)*Math.sin(l))},tanh:function(){var o=2*this.re,l=2*this.im,p=u(o)+Math.cos(l);return new s(t(o)/p,Math.sin(l)/p)},coth:function(){var o=2*this.re,l=2*this.im,p=u(o)-Math.cos(l);return new s(t(o)/p,-Math.sin(l)/p)},csch:function(){var o=this.re,l=this.im,p=Math.cos(2*l)-u(2*o);return new s(-2*t(o)*Math.cos(l)/p,2*u(o)*Math.sin(l)/p)},sech:function(){var o=this.re,l=this.im,p=Math.cos(2*l)+u(2*o);return new s(2*u(o)*Math.cos(l)/p,-2*t(o)*Math.sin(l)/p)},asinh:function(){var o=this.im;this.im=-this.re,this.re=o;var l=this.asin();return this.re=-this.im,this.im=o,o=l.re,l.re=-l.im,l.im=o,l},acosh:function(){var o=this.acos();if(o.im<=0){var l=o.re;o.re=-o.im,o.im=l}else{var l=o.im;o.im=-o.re,o.re=l}return o},atanh:function(){var o=this.re,l=this.im,p=o>1&&l===0,E=1-o,f=1+o,y=E*E+l*l,m=y!==0?new s((f*E-l*l)/y,(l*E+f*l)/y):new s(o!==-1?o/0:0,l!==0?l/0:0),C=m.re;return m.re=D(m.re,m.im)/2,m.im=Math.atan2(m.im,C)/2,p&&(m.im=-m.im),m},acoth:function(){var o=this.re,l=this.im;if(o===0&&l===0)return new s(0,Math.PI/2);var p=o*o+l*l;return p!==0?new s(o/p,-l/p).atanh():new s(o!==0?o/0:0,l!==0?-l/0:0).atanh()},acsch:function(){var o=this.re,l=this.im;if(l===0)return new s(o!==0?Math.log(o+Math.sqrt(o*o+1)):1/0,0);var p=o*o+l*l;return p!==0?new s(o/p,-l/p).asinh():new s(o!==0?o/0:0,l!==0?-l/0:0).asinh()},asech:function(){var o=this.re,l=this.im;if(this.isZero())return s.INFINITY;var p=o*o+l*l;return p!==0?new s(o/p,-l/p).acosh():new s(o!==0?o/0:0,l!==0?-l/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var o=this.re,l=this.im,p=o*o+l*l;return new s(o/p,-l/p)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(o){return o=Math.pow(10,o||0),new s(Math.ceil(this.re*o)/o,Math.ceil(this.im*o)/o)},floor:function(o){return o=Math.pow(10,o||0),new s(Math.floor(this.re*o)/o,Math.floor(this.im*o)/o)},round:function(o){return o=Math.pow(10,o||0),new s(Math.round(this.re*o)/o,Math.round(this.im*o)/o)},equals:function(o,l){var p=new s(o,l);return Math.abs(p.re-this.re)<=s.EPSILON&&Math.abs(p.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var o=this.re,l=this.im,p="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(o)<s.EPSILON&&(o=0),Math.abs(l)<s.EPSILON&&(l=0),l===0?p+o:(o!==0?(p+=o,p+=" ",l<0?(l=-l,p+="-"):p+="+",p+=" "):l<0&&(l=-l,p+="-"),l!==1&&(p+=l),p+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,r.exports=s})()})(po);var Dh=po.exports;const se=zu(Dh);var gh="Complex",mh=[],wh=yr(gh,mh,()=>(Object.defineProperty(se,"name",{value:"Complex"}),se.prototype.constructor=se,se.prototype.type="Complex",se.prototype.isComplex=!0,se.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},se.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},se.prototype.format=function(r){var e="",n=this.im,u=this.re,t=Nu(this.re,r),i=Nu(this.im,r),h=kr(r)?r:r?r.precision:null;if(h!==null){var v=Math.pow(10,-h);Math.abs(u/n)<v&&(u=0),Math.abs(n/u)<v&&(n=0)}return n===0?e=t:u===0?n===1?e="i":n===-1?e="-i":e=i+"i":n<0?n===-1?e=t+" - i":e=t+" - "+i.substring(1)+"i":n===1?e=t+" + i":e=t+" + "+i+"i",e},se.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return se(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],u=arguments[1];if(kr(n)){if(Ua(u)&&u.hasBase("ANGLE")&&(u=u.toNumber("rad")),kr(u))return new se({r:n,phi:u});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},se.prototype.valueOf=se.prototype.toString,se.fromJSON=function(r){return new se(r)},se.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},se),{isClass:!0}),Do={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,e){(function(n){var u=2e3,t={s:1,n:0,d:1};function i(m,C){if(isNaN(m=parseInt(m,10)))throw f();return m*C}function h(m,C){if(C===0)throw E();var b=Object.create(p.prototype);b.s=m<0?-1:1,m=m<0?-m:m;var B=l(m,C);return b.n=m/B,b.d=C/B,b}function v(m){for(var C={},b=m,B=2,A=4;A<=b;){for(;b%B===0;)b/=B,C[B]=(C[B]||0)+1;A+=1+2*B++}return b!==m?b>1&&(C[b]=(C[b]||0)+1):C[m]=(C[m]||0)+1,C}var D=function(m,C){var b=0,B=1,A=1,w=0,T=0,I=0,P=1,Z=1,k=0,R=1,ir=1,ur=1,er=1e7,Q;if(m!=null)if(C!==void 0){if(b=m,B=C,A=b*B,b%1!==0||B%1!==0)throw y()}else switch(typeof m){case"object":{if("d"in m&&"n"in m)b=m.n,B=m.d,"s"in m&&(b*=m.s);else if(0 in m)b=m[0],1 in m&&(B=m[1]);else throw f();A=b*B;break}case"number":{if(m<0&&(A=m,m=-m),m%1===0)b=m;else if(m>0){for(m>=1&&(Z=Math.pow(10,Math.floor(1+Math.log(m)/Math.LN10)),m/=Z);R<=er&&ur<=er;)if(Q=(k+ir)/(R+ur),m===Q){R+ur<=er?(b=k+ir,B=R+ur):ur>R?(b=ir,B=ur):(b=k,B=R);break}else m>Q?(k+=ir,R+=ur):(ir+=k,ur+=R),R>er?(b=ir,B=ur):(b=k,B=R);b*=Z}else(isNaN(m)||isNaN(C))&&(B=b=NaN);break}case"string":{if(R=m.match(/\d+|./g),R===null)throw f();if(R[k]==="-"?(A=-1,k++):R[k]==="+"&&k++,R.length===k+1?T=i(R[k++],A):R[k+1]==="."||R[k]==="."?(R[k]!=="."&&(w=i(R[k++],A)),k++,(k+1===R.length||R[k+1]==="("&&R[k+3]===")"||R[k+1]==="'"&&R[k+3]==="'")&&(T=i(R[k],A),P=Math.pow(10,R[k].length),k++),(R[k]==="("&&R[k+2]===")"||R[k]==="'"&&R[k+2]==="'")&&(I=i(R[k+1],A),Z=Math.pow(10,R[k+1].length)-1,k+=3)):R[k+1]==="/"||R[k+1]===":"?(T=i(R[k],A),P=i(R[k+2],1),k+=3):R[k+3]==="/"&&R[k+1]===" "&&(w=i(R[k],A),T=i(R[k+2],A),P=i(R[k+4],1),k+=5),R.length<=k){B=P*Z,A=b=I+B*w+Z*T;break}}default:throw f()}if(B===0)throw E();t.s=A<0?-1:1,t.n=Math.abs(b),t.d=Math.abs(B)};function g(m,C,b){for(var B=1;C>0;m=m*m%b,C>>=1)C&1&&(B=B*m%b);return B}function s(m,C){for(;C%2===0;C/=2);for(;C%5===0;C/=5);if(C===1)return 0;for(var b=10%C,B=1;b!==1;B++)if(b=b*10%C,B>u)return 0;return B}function o(m,C,b){for(var B=1,A=g(10,b,C),w=0;w<300;w++){if(B===A)return w;B=B*10%C,A=A*10%C}return 0}function l(m,C){if(!m)return C;if(!C)return m;for(;;){if(m%=C,!m)return C;if(C%=m,!C)return m}}function p(m,C){if(D(m,C),this instanceof p)m=l(t.d,t.n),this.s=t.s,this.n=t.n/m,this.d=t.d/m;else return h(t.s*t.n,t.d)}var E=function(){return new Error("Division by Zero")},f=function(){return new Error("Invalid argument")},y=function(){return new Error("Parameters must be integer")};p.prototype={s:1,n:0,d:1,abs:function(){return h(this.n,this.d)},neg:function(){return h(-this.s*this.n,this.d)},add:function(m,C){return D(m,C),h(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(m,C){return D(m,C),h(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(m,C){return D(m,C),h(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(m,C){return D(m,C),h(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return h(this.s*this.n,this.d)},mod:function(m,C){if(isNaN(this.n)||isNaN(this.d))return new p(NaN);if(m===void 0)return h(this.s*this.n%this.d,1);if(D(m,C),t.n===0&&this.d===0)throw E();return h(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(m,C){return D(m,C),h(l(t.n,this.n)*l(t.d,this.d),t.d*this.d)},lcm:function(m,C){return D(m,C),t.n===0&&this.n===0?h(0,1):h(t.n*this.n,l(t.n,this.n)*l(t.d,this.d))},ceil:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):h(Math.ceil(m*this.s*this.n/this.d),m)},floor:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):h(Math.floor(m*this.s*this.n/this.d),m)},round:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):h(Math.round(m*this.s*this.n/this.d),m)},inverse:function(){return h(this.s*this.d,this.n)},pow:function(m,C){if(D(m,C),t.d===1)return t.s<0?h(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):h(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var b=v(this.n),B=v(this.d),A=1,w=1;for(var T in b)if(T!=="1"){if(T==="0"){A=0;break}if(b[T]*=t.n,b[T]%t.d===0)b[T]/=t.d;else return null;A*=Math.pow(T,b[T])}for(var T in B)if(T!=="1"){if(B[T]*=t.n,B[T]%t.d===0)B[T]/=t.d;else return null;w*=Math.pow(T,B[T])}return t.s<0?h(w,A):h(A,w)},equals:function(m,C){return D(m,C),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(m,C){D(m,C);var b=this.s*this.n*t.d-t.s*t.n*this.d;return(0<b)-(b<0)},simplify:function(m){if(isNaN(this.n)||isNaN(this.d))return this;m=m||.001;for(var C=this.abs(),b=C.toContinued(),B=1;B<b.length;B++){for(var A=h(b[B-1],1),w=B-2;w>=0;w--)A=A.inverse().add(b[w]);if(Math.abs(A.sub(C).valueOf())<m)return A.mul(this.s)}return this},divisible:function(m,C){return D(m,C),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(m){var C,b="",B=this.n,A=this.d;return this.s<0&&(b+="-"),A===1?b+=B:(m&&(C=Math.floor(B/A))>0&&(b+=C,b+=" ",B%=A),b+=B,b+="/",b+=A),b},toLatex:function(m){var C,b="",B=this.n,A=this.d;return this.s<0&&(b+="-"),A===1?b+=B:(m&&(C=Math.floor(B/A))>0&&(b+=C,B%=A),b+="\\frac{",b+=B,b+="}{",b+=A,b+="}"),b},toContinued:function(){var m,C=this.n,b=this.d,B=[];if(isNaN(C)||isNaN(b))return B;do B.push(Math.floor(C/b)),m=C%b,C=b,b=m;while(C!==1);return B},toString:function(m){var C=this.n,b=this.d;if(isNaN(C)||isNaN(b))return"NaN";m=m||15;var B=s(C,b),A=o(C,b,B),w=this.s<0?"-":"";if(w+=C/b|0,C%=b,C*=10,C&&(w+="."),B){for(var T=A;T--;)w+=C/b|0,C%=b,C*=10;w+="(";for(var T=B;T--;)w+=C/b|0,C%=b,C*=10;w+=")"}else for(var T=m;C&&T--;)w+=C/b|0,C%=b,C*=10;return w}},Object.defineProperty(p,"__esModule",{value:!0}),p.default=p,p.Fraction=p,r.exports=p})()})(Do);var bh=Do.exports;const Oe=zu(bh);var yh="Fraction",Fh=[],Eh=yr(yh,Fh,()=>(Object.defineProperty(Oe,"name",{value:"Fraction"}),Oe.prototype.constructor=Oe,Oe.prototype.type="Fraction",Oe.prototype.isFraction=!0,Oe.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Oe.fromJSON=function(r){return new Oe(r)},Oe),{isClass:!0}),Ah="Matrix",Ch=[],_h=yr(Ah,Ch,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,n){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,n,u){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,n,u){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,n){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,n){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,n){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function go(r){return Object.keys(r.signatures||{}).reduce(function(e,n){var u=(n.match(/,/g)||[]).length+1;return Math.max(e,u)},-1)}var Nh="DenseMatrix",Bh=["Matrix"],Mh=yr(Nh,Bh,r=>{var{Matrix:e}=r;function n(s,o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!Se(o))throw new Error("Invalid datatype: "+o);if(ee(s))s.type==="DenseMatrix"?(this._data=Xr(s._data),this._size=Xr(s._size),this._datatype=o||s._datatype):(this._data=s.toArray(),this._size=s.size(),this._datatype=o||s._datatype);else if(s&&Zr(s.data)&&Zr(s.size))this._data=s.data,this._size=s.size,oa(this._data,this._size),this._datatype=o||s.datatype;else if(Zr(s))this._data=g(s),this._size=be(this._data),oa(this._data,this._size),this._datatype=o;else{if(s)throw new TypeError("Unsupported type of data ("+wt(s)+")");this._data=[],this._size=[0],this._datatype=o}}n.prototype=new e,n.prototype.createDenseMatrix=function(s,o){return new n(s,o)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return fn(this._data,wt)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(s,o){return new n(s,o)},n.prototype.subset=function(s,o,l){switch(arguments.length){case 1:return u(this,s);case 2:case 3:return i(this,s,o,l);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(s){if(!Zr(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new qr(s.length,this._size.length);for(var o=0;o<s.length;o++)Gr(s[o],this._size[o]);for(var l=this._data,p=0,E=s.length;p<E;p++){var f=s[p];Gr(f,l.length),l=l[f]}return l},n.prototype.set=function(s,o,l){if(!Zr(s))throw new TypeError("Array expected");if(s.length<this._size.length)throw new qr(s.length,this._size.length,"<");var p,E,f,y=s.map(function(C){return C+1});D(this,y,l);var m=this._data;for(p=0,E=s.length-1;p<E;p++)f=s[p],Gr(f,m.length),m=m[f];return f=s[s.length-1],Gr(f,m.length),m[f]=o,this};function u(s,o){if(!ku(o))throw new TypeError("Invalid index");var l=o.isScalar();if(l)return s.get(o.min());var p=o.size();if(p.length!==s._size.length)throw new qr(p.length,s._size.length);for(var E=o.min(),f=o.max(),y=0,m=s._size.length;y<m;y++)Gr(E[y],s._size[y]),Gr(f[y],s._size[y]);return new n(t(s._data,o,p.length,0),s._datatype)}function t(s,o,l,p){var E=p===l-1,f=o.dimension(p);return E?f.map(function(y){return Gr(y,s.length),s[y]}).valueOf():f.map(function(y){Gr(y,s.length);var m=s[y];return t(m,o,l,p+1)}).valueOf()}function i(s,o,l,p){if(!o||o.isIndex!==!0)throw new TypeError("Invalid index");var E=o.size(),f=o.isScalar(),y;if(ee(l)?(y=l.size(),l=l.valueOf()):y=be(l),f){if(y.length!==0)throw new TypeError("Scalar expected");s.set(o.min(),l,p)}else{if(!yt(y,E))try{y.length===0?l=sa([l],E):l=sa(l,E),y=be(l)}catch(w){}if(E.length<s._size.length)throw new qr(E.length,s._size.length,"<");if(y.length<E.length){for(var m=0,C=0;E[m]===1&&y[m]===1;)m++;for(;E[m]===1;)C++,m++;l=Ja(l,E.length,C,y)}if(!yt(E,y))throw new qr(E,y,">");var b=o.max().map(function(w){return w+1});D(s,b,p);var B=E.length,A=0;h(s._data,o,l,B,A)}return s}function h(s,o,l,p,E){var f=E===p-1,y=o.dimension(E);f?y.forEach(function(m,C){Gr(m),s[m]=l[C[0]]}):y.forEach(function(m,C){Gr(m),h(s[m],o,l[C[0]],p,E+1)})}n.prototype.resize=function(s,o,l){if(!an(s))throw new TypeError("Array or Matrix expected");var p=s.valueOf().map(f=>Array.isArray(f)&&f.length===1?f[0]:f),E=l?this.clone():this;return v(E,p,o)};function v(s,o,l){if(o.length===0){for(var p=s._data;Zr(p);)p=p[0];return p}return s._size=o.slice(0),s._data=Bu(s._data,s._size,l),s}n.prototype.reshape=function(s,o){var l=o?this.clone():this;l._data=Wa(l._data,s);var p=l._size.reduce((E,f)=>E*f);return l._size=Lu(s,p),l};function D(s,o,l){for(var p=s._size.slice(0),E=!1;p.length<o.length;)p.push(0),E=!0;for(var f=0,y=o.length;f<y;f++)o[f]>p[f]&&(p[f]=o[f],E=!0);E&&v(s,p,l)}n.prototype.clone=function(){var s=new n({data:Xr(this._data),size:Xr(this._size),datatype:this._datatype});return s},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(s){var o=this,l=go(s),p=function y(m,C){return Zr(m)?m.map(function(b,B){return y(b,C.concat(B))}):l===1?s(m):l===2?s(m,C):s(m,C,o)},E=p(this._data,[]),f=this._datatype!==void 0?fn(E,wt):void 0;return new n(E,f)},n.prototype.forEach=function(s){var o=this,l=function p(E,f){Zr(E)?E.forEach(function(y,m){p(y,f.concat(m))}):s(E,f,o)};l(this._data,[])},n.prototype[Symbol.iterator]=function*(){var s=function*o(l,p){if(Zr(l))for(var E=0;E<l.length;E++)yield*Fu(o(l[E],p.concat(E)));else yield{value:l,index:p}};yield*Fu(s(this._data,[]))},n.prototype.rows=function(){var s=[],o=this.size();if(o.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var l=this._data;for(var p of l)s.push(new n([p],this._datatype));return s},n.prototype.columns=function(){var s=this,o=[],l=this.size();if(l.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,E=function(m){var C=p.map(b=>[b[m]]);o.push(new n(C,s._datatype))},f=0;f<l[1];f++)E(f);return o},n.prototype.toArray=function(){return Xr(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(s){return Qr(this._data,s)},n.prototype.toString=function(){return Qr(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(s){if(s){if(jr(s)&&(s=s.toNumber()),!kr(s)||!Lr(s))throw new TypeError("The parameter k must be an integer number")}else s=0;for(var o=s>0?s:0,l=s<0?-s:0,p=this._size[0],E=this._size[1],f=Math.min(p-l,E-o),y=[],m=0;m<f;m++)y[m]=this._data[m+l][m+o];return new n({data:y,size:[f],datatype:this._datatype})},n.diagonal=function(s,o,l,p){if(!Zr(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(T){if(jr(T)&&(T=T.toNumber()),!kr(T)||!Lr(T)||T<1)throw new Error("Size values must be positive integers");return T}),l){if(jr(l)&&(l=l.toNumber()),!kr(l)||!Lr(l))throw new TypeError("The parameter k must be an integer number")}else l=0;var E=l>0?l:0,f=l<0?-l:0,y=s[0],m=s[1],C=Math.min(y-f,m-E),b;if(Zr(o)){if(o.length!==C)throw new Error("Invalid value array length");b=function(I){return o[I]}}else if(ee(o)){var B=o.size();if(B.length!==1||B[0]!==C)throw new Error("Invalid matrix length");b=function(I){return o.get([I])}}else b=function(){return o};p||(p=jr(b(0))?b(0).mul(0):0);var A=[];if(s.length>0){A=Bu(A,s,p);for(var w=0;w<C;w++)A[w+f][w+E]=b(w)}return new n({data:A,size:[y,m]})},n.fromJSON=function(s){return new n(s)},n.prototype.swapRows=function(s,o){if(!kr(s)||!Lr(s)||!kr(o)||!Lr(o))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Gr(s,this._size[0]),Gr(o,this._size[0]),n._swapRows(s,o,this._data),this},n._swapRows=function(s,o,l){var p=l[s];l[s]=l[o],l[o]=p};function g(s){return ee(s)?g(s.valueOf()):Zr(s)?s.map(g):s}return n},{isClass:!0});function Ye(r,e,n){return r&&typeof r.map=="function"?r.map(function(u){return Ye(u,e)}):e(r)}var mo="number",Fn="number, number";function wo(r){return Math.abs(r)}wo.signature=mo;function bo(r,e){return r+e}bo.signature=Fn;function yo(r,e){return r-e}yo.signature=Fn;function Fo(r,e){return r*e}Fo.signature=Fn;function Eo(r){return-r}Eo.signature=mo;function Ao(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}Ao.signature=Fn;function Iu(r,e){if(e<r)return 1;if(e===r)return e;var n=e+r>>1;return Iu(r,n)*Iu(n+1,e)}function Co(r,e){if(!Lr(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(!Lr(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>r)throw new TypeError("k must be less than or equal to n");for(var n=r-e,u=1,t=e<n?n+1:e+1,i=2,h=e<n?e:n,v=t;v<=r;++v)for(u*=v;i<=h&&u%i===0;)u/=i,++i;return i<=h&&(u/=Iu(i,h)),u}Co.signature="number, number";var Sh="number";function _o(r){return r===0}_o.signature=Sh;var ha="isZero",Th=["typed"],xh=yr(ha,Th,r=>{var{typed:e}=r;return e(ha,{number:_o,BigNumber:function(u){return u.isZero()},Complex:function(u){return u.re===0&&u.im===0},Fraction:function(u){return u.d===1&&u.n===0},Unit:e.referToSelf(n=>u=>e.find(n,u.valueType())(u.value)),"Array | Matrix":e.referToSelf(n=>u=>Ye(u,n))})});function $h(r,e,n){if(n==null)return r.eq(e);if(r.eq(e))return!0;if(r.isNaN()||e.isNaN())return!1;if(r.isFinite()&&e.isFinite()){var u=r.minus(e).abs();if(u.isZero())return!0;var t=r.constructor.max(r.abs(),e.abs());return u.lte(t.times(n))}return!1}function Oh(r,e,n){return sn(r.re,e.re,n)&&sn(r.im,e.im,n)}var Ih=yr("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(n=>(u,t)=>{if(!u.equalBase(t))throw new Error("Cannot compare units with different base");return e.find(n,[u.valueType(),t.valueType()])(u.value,t.value)})}}),vn="equalScalar",Ph=["typed","config"],zh=yr(vn,Ph,r=>{var{typed:e,config:n}=r,u=Ih({typed:e});return e(vn,{"boolean, boolean":function(i,h){return i===h},"number, number":function(i,h){return sn(i,h,n.epsilon)},"BigNumber, BigNumber":function(i,h){return i.eq(h)||$h(i,h,n.epsilon)},"Fraction, Fraction":function(i,h){return i.equals(h)},"Complex, Complex":function(i,h){return Oh(i,h,n.epsilon)}},u)});yr(vn,["typed","config"],r=>{var{typed:e,config:n}=r;return e(vn,{"number, number":function(t,i){return sn(t,i,n.epsilon)}})});var kh="SparseMatrix",Rh=["typed","equalScalar","Matrix"],Lh=yr(kh,Rh,r=>{var{typed:e,equalScalar:n,Matrix:u}=r;function t(f,y){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(y&&!Se(y))throw new Error("Invalid datatype: "+y);if(ee(f))i(this,f,y);else if(f&&Zr(f.index)&&Zr(f.ptr)&&Zr(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=y||f.datatype;else if(Zr(f))h(this,f,y);else{if(f)throw new TypeError("Unsupported type of data ("+wt(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=y}}function i(f,y,m){y.type==="SparseMatrix"?(f._values=y._values?Xr(y._values):void 0,f._index=Xr(y._index),f._ptr=Xr(y._ptr),f._size=Xr(y._size),f._datatype=m||y._datatype):h(f,y.valueOf(),m||y._datatype)}function h(f,y,m){f._values=[],f._index=[],f._ptr=[],f._datatype=m;var C=y.length,b=0,B=n,A=0;if(Se(m)&&(B=e.find(n,[m,m])||n,A=e.convert(0,m)),C>0){var w=0;do{f._ptr.push(f._index.length);for(var T=0;T<C;T++){var I=y[T];if(Zr(I)){if(w===0&&b<I.length&&(b=I.length),w<I.length){var P=I[w];B(P,A)||(f._values.push(P),f._index.push(T))}}else w===0&&b<1&&(b=1),B(I,A)||(f._values.push(I),f._index.push(T))}w++}while(w<b)}f._ptr.push(f._index.length),f._size=[C,b]}t.prototype=new u,t.prototype.createSparseMatrix=function(f,y){return new t(f,y)},Object.defineProperty(t,"name",{value:"SparseMatrix"}),t.prototype.constructor=t,t.prototype.type="SparseMatrix",t.prototype.isSparseMatrix=!0,t.prototype.getDataType=function(){return fn(this._values,wt)},t.prototype.storage=function(){return"sparse"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(f,y){return new t(f,y)},t.prototype.density=function(){var f=this._size[0],y=this._size[1];return f!==0&&y!==0?this._index.length/(f*y):0},t.prototype.subset=function(f,y,m){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return v(this,f);case 2:case 3:return D(this,f,y,m);default:throw new SyntaxError("Wrong number of arguments")}};function v(f,y){if(!ku(y))throw new TypeError("Invalid index");var m=y.isScalar();if(m)return f.get(y.min());var C=y.size();if(C.length!==f._size.length)throw new qr(C.length,f._size.length);var b,B,A,w,T=y.min(),I=y.max();for(b=0,B=f._size.length;b<B;b++)Gr(T[b],f._size[b]),Gr(I[b],f._size[b]);var P=f._values,Z=f._index,k=f._ptr,R=y.dimension(0),ir=y.dimension(1),ur=[],er=[];R.forEach(function(sr,vr){er[sr]=vr[0],ur[sr]=!0});var Q=P?[]:void 0,fr=[],or=[];return ir.forEach(function(sr){for(or.push(fr.length),A=k[sr],w=k[sr+1];A<w;A++)b=Z[A],ur[b]===!0&&(fr.push(er[b]),Q&&Q.push(P[A]))}),or.push(fr.length),new t({values:Q,index:fr,ptr:or,size:C,datatype:f._datatype})}function D(f,y,m,C){if(!y||y.isIndex!==!0)throw new TypeError("Invalid index");var b=y.size(),B=y.isScalar(),A;if(ee(m)?(A=m.size(),m=m.toArray()):A=be(m),B){if(A.length!==0)throw new TypeError("Scalar expected");f.set(y.min(),m,C)}else{if(b.length!==1&&b.length!==2)throw new qr(b.length,f._size.length,"<");if(A.length<b.length){for(var w=0,T=0;b[w]===1&&A[w]===1;)w++;for(;b[w]===1;)T++,w++;m=Ja(m,b.length,T,A)}if(!yt(b,A))throw new qr(b,A,">");if(b.length===1){var I=y.dimension(0);I.forEach(function(k,R){Gr(k),f.set([k,0],m[R[0]],C)})}else{var P=y.dimension(0),Z=y.dimension(1);P.forEach(function(k,R){Gr(k),Z.forEach(function(ir,ur){Gr(ir),f.set([k,ir],m[R[0]][ur[0]],C)})})}}return f}t.prototype.get=function(f){if(!Zr(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new qr(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var y=f[0],m=f[1];Gr(y,this._size[0]),Gr(m,this._size[1]);var C=g(y,this._ptr[m],this._ptr[m+1],this._index);return C<this._ptr[m+1]&&this._index[C]===y?this._values[C]:0},t.prototype.set=function(f,y,m){if(!Zr(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new qr(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var C=f[0],b=f[1],B=this._size[0],A=this._size[1],w=n,T=0;Se(this._datatype)&&(w=e.find(n,[this._datatype,this._datatype])||n,T=e.convert(0,this._datatype)),(C>B-1||b>A-1)&&(l(this,Math.max(C+1,B),Math.max(b+1,A),m),B=this._size[0],A=this._size[1]),Gr(C,B),Gr(b,A);var I=g(C,this._ptr[b],this._ptr[b+1],this._index);return I<this._ptr[b+1]&&this._index[I]===C?w(y,T)?s(I,b,this._values,this._index,this._ptr):this._values[I]=y:w(y,T)||o(I,C,b,y,this._values,this._index,this._ptr),this};function g(f,y,m,C){if(m-y===0)return m;for(var b=y;b<m;b++)if(C[b]===f)return b;return y}function s(f,y,m,C,b){m.splice(f,1),C.splice(f,1);for(var B=y+1;B<b.length;B++)b[B]--}function o(f,y,m,C,b,B,A){b.splice(f,0,C),B.splice(f,0,y);for(var w=m+1;w<A.length;w++)A[w]++}t.prototype.resize=function(f,y,m){if(!an(f))throw new TypeError("Array or Matrix expected");var C=f.valueOf().map(B=>Array.isArray(B)&&B.length===1?B[0]:B);if(C.length!==2)throw new Error("Only two dimensions matrix are supported");C.forEach(function(B){if(!kr(B)||!Lr(B)||B<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Qr(C)+")")});var b=m?this.clone():this;return l(b,C[0],C[1],y)};function l(f,y,m,C){var b=C||0,B=n,A=0;Se(f._datatype)&&(B=e.find(n,[f._datatype,f._datatype])||n,A=e.convert(0,f._datatype),b=e.convert(b,f._datatype));var w=!B(b,A),T=f._size[0],I=f._size[1],P,Z,k;if(m>I){for(Z=I;Z<m;Z++)if(f._ptr[Z]=f._values.length,w)for(P=0;P<T;P++)f._values.push(b),f._index.push(P);f._ptr[m]=f._values.length}else m<I&&(f._ptr.splice(m+1,I-m),f._values.splice(f._ptr[m],f._values.length),f._index.splice(f._ptr[m],f._index.length));if(I=m,y>T){if(w){var R=0;for(Z=0;Z<I;Z++){f._ptr[Z]=f._ptr[Z]+R,k=f._ptr[Z+1]+R;var ir=0;for(P=T;P<y;P++,ir++)f._values.splice(k+ir,0,b),f._index.splice(k+ir,0,P),R++}f._ptr[I]=f._values.length}}else if(y<T){var ur=0;for(Z=0;Z<I;Z++){f._ptr[Z]=f._ptr[Z]-ur;var er=f._ptr[Z],Q=f._ptr[Z+1]-ur;for(k=er;k<Q;k++)P=f._index[k],P>y-1&&(f._values.splice(k,1),f._index.splice(k,1),ur++)}f._ptr[Z]=f._values.length}return f._size[0]=y,f._size[1]=m,f}t.prototype.reshape=function(f,y){if(!Zr(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(sr){if(!kr(sr)||!Lr(sr)||sr<=-2||sr===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Qr(f)+")")});var m=this._size[0]*this._size[1];f=Lu(f,m);var C=f[0]*f[1];if(m!==C)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var b=y?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return b;for(var B=[],A=0;A<b._ptr.length;A++)for(var w=0;w<b._ptr[A+1]-b._ptr[A];w++)B.push(A);for(var T=b._values.slice(),I=b._index.slice(),P=0;P<b._index.length;P++){var Z=I[P],k=B[P],R=Z*b._size[1]+k;B[P]=R%f[1],I[P]=Math.floor(R/f[1])}b._values.length=0,b._index.length=0,b._ptr.length=f[1]+1,b._size=f.slice();for(var ir=0;ir<b._ptr.length;ir++)b._ptr[ir]=0;for(var ur=0;ur<T.length;ur++){var er=I[ur],Q=B[ur],fr=T[ur],or=g(er,b._ptr[Q],b._ptr[Q+1],b._index);o(or,er,Q,fr,b._values,b._index,b._ptr)}return b},t.prototype.clone=function(){var f=new t({values:this._values?Xr(this._values):void 0,index:Xr(this._index),ptr:Xr(this._ptr),size:Xr(this._size),datatype:this._datatype});return f},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(f,y){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var m=this,C=this._size[0],b=this._size[1],B=go(f),A=function(T,I,P){return B===1?f(T):B===2?f(T,[I,P]):f(T,[I,P],m)};return p(this,0,C-1,0,b-1,A,y)};function p(f,y,m,C,b,B,A){var w=[],T=[],I=[],P=n,Z=0;Se(f._datatype)&&(P=e.find(n,[f._datatype,f._datatype])||n,Z=e.convert(0,f._datatype));for(var k=function(Fr,Rr,Ur){Fr=B(Fr,Rr,Ur),P(Fr,Z)||(w.push(Fr),T.push(Rr))},R=C;R<=b;R++){I.push(w.length);var ir=f._ptr[R],ur=f._ptr[R+1];if(A)for(var er=ir;er<ur;er++){var Q=f._index[er];Q>=y&&Q<=m&&k(f._values[er],Q-y,R-C)}else{for(var fr={},or=ir;or<ur;or++){var sr=f._index[or];fr[sr]=f._values[or]}for(var vr=y;vr<=m;vr++){var Nr=vr in fr?fr[vr]:0;k(Nr,vr-y,R-C)}}}return I.push(w.length),new t({values:w,index:T,ptr:I,size:[m-y+1,b-C+1]})}t.prototype.forEach=function(f,y){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var m=this,C=this._size[0],b=this._size[1],B=0;B<b;B++){var A=this._ptr[B],w=this._ptr[B+1];if(y)for(var T=A;T<w;T++){var I=this._index[T];f(this._values[T],[I,B],m)}else{for(var P={},Z=A;Z<w;Z++){var k=this._index[Z];P[k]=this._values[Z]}for(var R=0;R<C;R++){var ir=R in P?P[R]:0;f(ir,[R,B],m)}}}},t.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],y=0;y<f;y++)for(var m=this._ptr[y],C=this._ptr[y+1],b=m;b<C;b++){var B=this._index[b];yield{value:this._values[b],index:[B,y]}}},t.prototype.toArray=function(){return E(this._values,this._index,this._ptr,this._size,!0)},t.prototype.valueOf=function(){return E(this._values,this._index,this._ptr,this._size,!1)};function E(f,y,m,C,b){var B=C[0],A=C[1],w=[],T,I;for(T=0;T<B;T++)for(w[T]=[],I=0;I<A;I++)w[T][I]=0;for(I=0;I<A;I++)for(var P=m[I],Z=m[I+1],k=P;k<Z;k++)T=y[k],w[T][I]=f?b?Xr(f[k]):f[k]:1;return w}return t.prototype.format=function(f){for(var y=this._size[0],m=this._size[1],C=this.density(),b="Sparse Matrix ["+Qr(y,f)+" x "+Qr(m,f)+"] density: "+Qr(C,f)+`
`,B=0;B<m;B++)for(var A=this._ptr[B],w=this._ptr[B+1],T=A;T<w;T++){var I=this._index[T];b+=`
    (`+Qr(I,f)+", "+Qr(B,f)+") ==> "+(this._values?Qr(this._values[T],f):"X")}return b},t.prototype.toString=function(){return Qr(this.toArray())},t.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(f){if(f){if(jr(f)&&(f=f.toNumber()),!kr(f)||!Lr(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var y=f>0?f:0,m=f<0?-f:0,C=this._size[0],b=this._size[1],B=Math.min(C-m,b-y),A=[],w=[],T=[];T[0]=0;for(var I=y;I<b&&A.length<B;I++)for(var P=this._ptr[I],Z=this._ptr[I+1],k=P;k<Z;k++){var R=this._index[k];if(R===I-y+m){A.push(this._values[k]),w[A.length-1]=R-m;break}}return T.push(A.length),new t({values:A,index:w,ptr:T,size:[B,1]})},t.fromJSON=function(f){return new t(f)},t.diagonal=function(f,y,m,C,b){if(!Zr(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(sr){if(jr(sr)&&(sr=sr.toNumber()),!kr(sr)||!Lr(sr)||sr<1)throw new Error("Size values must be positive integers");return sr}),m){if(jr(m)&&(m=m.toNumber()),!kr(m)||!Lr(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var B=n,A=0;Se(b)&&(B=e.find(n,[b,b])||n,A=e.convert(0,b));var w=m>0?m:0,T=m<0?-m:0,I=f[0],P=f[1],Z=Math.min(I-T,P-w),k;if(Zr(y)){if(y.length!==Z)throw new Error("Invalid value array length");k=function(vr){return y[vr]}}else if(ee(y)){var R=y.size();if(R.length!==1||R[0]!==Z)throw new Error("Invalid matrix length");k=function(vr){return y.get([vr])}}else k=function(){return y};for(var ir=[],ur=[],er=[],Q=0;Q<P;Q++){er.push(ir.length);var fr=Q-w;if(fr>=0&&fr<Z){var or=k(fr);B(or,A)||(ur.push(fr+T),ir.push(or))}}return er.push(ir.length),new t({values:ir,index:ur,ptr:er,size:[I,P]})},t.prototype.swapRows=function(f,y){if(!kr(f)||!Lr(f)||!kr(y)||!Lr(y))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Gr(f,this._size[0]),Gr(y,this._size[0]),t._swapRows(f,y,this._size[1],this._values,this._index,this._ptr),this},t._forEachRow=function(f,y,m,C,b){for(var B=C[f],A=C[f+1],w=B;w<A;w++)b(m[w],y[w])},t._swapRows=function(f,y,m,C,b,B){for(var A=0;A<m;A++){var w=B[A],T=B[A+1],I=g(f,w,T,b),P=g(y,w,T,b);if(I<T&&P<T&&b[I]===f&&b[P]===y){if(C){var Z=C[I];C[I]=C[P],C[P]=Z}continue}if(I<T&&b[I]===f&&(P>=T||b[P]!==y)){var k=C?C[I]:void 0;b.splice(P,0,y),C&&C.splice(P,0,k),b.splice(P<=I?I+1:I,1),C&&C.splice(P<=I?I+1:I,1);continue}if(P<T&&b[P]===y&&(I>=T||b[I]!==f)){var R=C?C[P]:void 0;b.splice(I,0,f),C&&C.splice(I,0,R),b.splice(I<=P?P+1:P,1),C&&C.splice(I<=P?P+1:P,1)}}},t},{isClass:!0}),qh="number",Uh=["typed"];function Zh(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var n={"0b":2,"0o":8,"0x":16}[e[1]],u=e[2],t=e[3];return{input:r,radix:n,integerPart:u,fractionalPart:t}}else return null}function Gh(r){for(var e=parseInt(r.integerPart,r.radix),n=0,u=0;u<r.fractionalPart.length;u++){var t=parseInt(r.fractionalPart[u],r.radix);n+=t/Math.pow(r.radix,u+1)}var i=e+n;if(isNaN(i))throw new SyntaxError('String "'+r.input+'" is not a valid number');return i}var Hh=yr(qh,Uh,r=>{var{typed:e}=r,n=e("number",{"":function(){return 0},number:function(t){return t},string:function(t){if(t==="NaN")return NaN;var i=Zh(t);if(i)return Gh(i);var h=0,v=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);v&&(h=Number(v[2]),t=v[1]);var D=Number(t);if(isNaN(D))throw new SyntaxError('String "'+t+'" is not a valid number');if(v){if(D>je(2,h)-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));D>=je(2,h-1)&&(D=D-je(2,h))}return D},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:e.referToSelf(u=>t=>{var i=t.clone();return i.value=u(t.value),i}),null:function(t){return 0},"Unit, string | Unit":function(t,i){return t.toNumber(i)},"Array | Matrix":e.referToSelf(u=>t=>Ye(t,u))});return n.fromJSON=function(u){return parseFloat(u.value)},n}),Vh="bignumber",Yh=["typed","BigNumber"],Wh=yr(Vh,Yh,r=>{var{typed:e,BigNumber:n}=r;return e("bignumber",{"":function(){return new n(0)},number:function(t){return new n(t+"")},string:function(t){var i=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var h=i[2],v=n(i[1]),D=new n(2).pow(Number(h));if(v.gt(D.sub(1)))throw new SyntaxError('String "'.concat(t,'" is out of range'));var g=new n(2).pow(Number(h)-1);return v.gte(g)?v.sub(D):v}return new n(t)},BigNumber:function(t){return t},Unit:e.referToSelf(u=>t=>{var i=t.clone();return i.value=u(t.value),i}),Fraction:function(t){return new n(t.n).div(t.d).times(t.s)},null:function(t){return new n(0)},"Array | Matrix":e.referToSelf(u=>t=>Ye(t,u))})}),Xh="fraction",Jh=["typed","Fraction"],Qh=yr(Xh,Jh,r=>{var{typed:e,Fraction:n}=r;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new n(t)},string:function(t){return new n(t)},"number, number":function(t,i){return new n(t,i)},null:function(t){return new n(0)},BigNumber:function(t){return new n(t.toString())},Fraction:function(t){return t},Unit:e.referToSelf(u=>t=>{var i=t.clone();return i.value=u(t.value),i}),Object:function(t){return new n(t)},"Array | Matrix":e.referToSelf(u=>t=>Ye(t,u))})}),va="matrix",jh=["typed","Matrix","DenseMatrix","SparseMatrix"],Kh=yr(va,jh,r=>{var{typed:e,Matrix:n,DenseMatrix:u,SparseMatrix:t}=r;return e(va,{"":function(){return i([])},string:function(v){return i([],v)},"string, string":function(v,D){return i([],v,D)},Array:function(v){return i(v)},Matrix:function(v){return i(v,v.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(h,v,D){if(v==="dense"||v==="default"||v===void 0)return new u(h,D);if(v==="sparse")return new t(h,D);throw new TypeError("Unknown matrix type "+JSON.stringify(v)+".")}}),pa="unaryMinus",r1=["typed"],e1=yr(pa,r1,r=>{var{typed:e}=r;return e(pa,{number:Eo,"Complex | BigNumber | Fraction":n=>n.neg(),Unit:e.referToSelf(n=>u=>{var t=u.clone();return t.value=e.find(n,t.valueType())(u.value),t}),"Array | Matrix":e.referToSelf(n=>u=>Ye(u,n))})}),da="abs",t1=["typed"],n1=yr(da,t1,r=>{var{typed:e}=r;return e(da,{number:wo,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),"Array | Matrix":e.referToSelf(n=>u=>Ye(u,n))})}),Da="addScalar",u1=["typed"],i1=yr(Da,u1,r=>{var{typed:e}=r;return e(Da,{"number, number":bo,"Complex, Complex":function(u,t){return u.add(t)},"BigNumber, BigNumber":function(u,t){return u.plus(t)},"Fraction, Fraction":function(u,t){return u.add(t)},"Unit, Unit":e.referToSelf(n=>(u,t)=>{if(u.value===null||u.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(t.value===null||t.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!u.equalBase(t))throw new Error("Units do not match");var i=u.clone();return i.value=e.find(n,[i.valueType(),t.valueType()])(i.value,t.value),i.fixPrefix=!1,i})})}),ga="subtractScalar",a1=["typed"],o1=yr(ga,a1,r=>{var{typed:e}=r;return e(ga,{"number, number":yo,"Complex, Complex":function(u,t){return u.sub(t)},"BigNumber, BigNumber":function(u,t){return u.minus(t)},"Fraction, Fraction":function(u,t){return u.sub(t)},"Unit, Unit":e.referToSelf(n=>(u,t)=>{if(u.value===null||u.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(t.value===null||t.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!u.equalBase(t))throw new Error("Units do not match");var i=u.clone();return i.value=e.find(n,[i.valueType(),t.valueType()])(i.value,t.value),i.fixPrefix=!1,i})})}),s1="matAlgo11xS0s",f1=["typed","equalScalar"],c1=yr(s1,f1,r=>{var{typed:e,equalScalar:n}=r;return function(t,i,h,v){var D=t._values,g=t._index,s=t._ptr,o=t._size,l=t._datatype;if(!D)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=o[0],E=o[1],f,y=n,m=0,C=h;typeof l=="string"&&(f=l,y=e.find(n,[f,f]),m=e.convert(0,f),i=e.convert(i,f),C=e.find(h,[f,f]));for(var b=[],B=[],A=[],w=0;w<E;w++){A[w]=B.length;for(var T=s[w],I=s[w+1],P=T;P<I;P++){var Z=g[P],k=v?C(i,D[P]):C(D[P],i);y(k,m)||(B.push(Z),b.push(k))}}return A[E]=B.length,t.createSparseMatrix({values:b,index:B,ptr:A,size:[p,E],datatype:f})}}),l1="matAlgo14xDs",h1=["typed"],v1=yr(l1,h1,r=>{var{typed:e}=r;return function(t,i,h,v){var D=t._data,g=t._size,s=t._datatype,o,l=h;typeof s=="string"&&(o=s,i=e.convert(i,o),l=e.find(h,[o,o]));var p=g.length>0?n(l,0,g,g[0],D,i,v):[];return t.createDenseMatrix({data:p,size:Xr(g),datatype:o})};function n(u,t,i,h,v,D,g){var s=[];if(t===i.length-1)for(var o=0;o<h;o++)s[o]=g?u(D,v[o]):u(v[o],D);else for(var l=0;l<h;l++)s[l]=n(u,t+1,i,i[t+1],v[l],D,g);return s}}),p1="multiplyScalar",d1=["typed"],D1=yr(p1,d1,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":Fo,"Complex, Complex":function(u,t){return u.mul(t)},"BigNumber, BigNumber":function(u,t){return u.times(t)},"Fraction, Fraction":function(u,t){return u.mul(t)},"number | Fraction | BigNumber | Complex, Unit":(n,u)=>u.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,u)=>n.multiply(u)})}),ma="multiply",g1=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],m1=yr(ma,g1,r=>{var{typed:e,matrix:n,addScalar:u,multiplyScalar:t,equalScalar:i,dot:h}=r,v=c1({typed:e,equalScalar:i}),D=v1({typed:e});function g(A,w){switch(A.length){case 1:switch(w.length){case 1:if(A[0]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(A[0]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+A[0]+") must match Matrix rows ("+w[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+w.length+" dimensions)")}break;case 2:switch(w.length){case 1:if(A[1]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+A[1]+") must match Vector length ("+w[0]+")");break;case 2:if(A[1]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+A[1]+") must match Matrix B rows ("+w[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+w.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+A.length+" dimensions)")}}function s(A,w,T){if(T===0)throw new Error("Cannot multiply two empty vectors");return h(A,w)}function o(A,w){if(w.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return l(A,w)}function l(A,w){var T=A._data,I=A._size,P=A._datatype||A.getDataType(),Z=w._data,k=w._size,R=w._datatype||w.getDataType(),ir=I[0],ur=k[1],er,Q=u,fr=t;P&&R&&P===R&&typeof P=="string"&&P!=="mixed"&&(er=P,Q=e.find(u,[er,er]),fr=e.find(t,[er,er]));for(var or=[],sr=0;sr<ur;sr++){for(var vr=fr(T[0],Z[0][sr]),Nr=1;Nr<ir;Nr++)vr=Q(vr,fr(T[Nr],Z[Nr][sr]));or[sr]=vr}return A.createDenseMatrix({data:or,size:[ur],datatype:P===A._datatype&&R===w._datatype?er:void 0})}var p=e("_multiplyMatrixVector",{"DenseMatrix, any":f,"SparseMatrix, any":C}),E=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":y,"DenseMatrix, SparseMatrix":m,"SparseMatrix, DenseMatrix":b,"SparseMatrix, SparseMatrix":B});function f(A,w){var T=A._data,I=A._size,P=A._datatype||A.getDataType(),Z=w._data,k=w._datatype||w.getDataType(),R=I[0],ir=I[1],ur,er=u,Q=t;P&&k&&P===k&&typeof P=="string"&&P!=="mixed"&&(ur=P,er=e.find(u,[ur,ur]),Q=e.find(t,[ur,ur]));for(var fr=[],or=0;or<R;or++){for(var sr=T[or],vr=Q(sr[0],Z[0]),Nr=1;Nr<ir;Nr++)vr=er(vr,Q(sr[Nr],Z[Nr]));fr[or]=vr}return A.createDenseMatrix({data:fr,size:[R],datatype:P===A._datatype&&k===w._datatype?ur:void 0})}function y(A,w){var T=A._data,I=A._size,P=A._datatype||A.getDataType(),Z=w._data,k=w._size,R=w._datatype||w.getDataType(),ir=I[0],ur=I[1],er=k[1],Q,fr=u,or=t;P&&R&&P===R&&typeof P=="string"&&P!=="mixed"&&P!=="mixed"&&(Q=P,fr=e.find(u,[Q,Q]),or=e.find(t,[Q,Q]));for(var sr=[],vr=0;vr<ir;vr++){var Nr=T[vr];sr[vr]=[];for(var Er=0;Er<er;Er++){for(var Fr=or(Nr[0],Z[0][Er]),Rr=1;Rr<ur;Rr++)Fr=fr(Fr,or(Nr[Rr],Z[Rr][Er]));sr[vr][Er]=Fr}}return A.createDenseMatrix({data:sr,size:[ir,er],datatype:P===A._datatype&&R===w._datatype?Q:void 0})}function m(A,w){var T=A._data,I=A._size,P=A._datatype||A.getDataType(),Z=w._values,k=w._index,R=w._ptr,ir=w._size,ur=w._datatype||w._data===void 0?w._datatype:w.getDataType();if(!Z)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var er=I[0],Q=ir[1],fr,or=u,sr=t,vr=i,Nr=0;P&&ur&&P===ur&&typeof P=="string"&&P!=="mixed"&&(fr=P,or=e.find(u,[fr,fr]),sr=e.find(t,[fr,fr]),vr=e.find(i,[fr,fr]),Nr=e.convert(0,fr));for(var Er=[],Fr=[],Rr=[],Ur=w.createSparseMatrix({values:Er,index:Fr,ptr:Rr,size:[er,Q],datatype:P===A._datatype&&ur===w._datatype?fr:void 0}),Wr=0;Wr<Q;Wr++){Rr[Wr]=Fr.length;var Ir=R[Wr],ie=R[Wr+1];if(ie>Ir)for(var Br=0,Mr=0;Mr<er;Mr++){for(var ve=Mr+1,Kr=void 0,xr=Ir;xr<ie;xr++){var Hr=k[xr];Br!==ve?(Kr=sr(T[Mr][Hr],Z[xr]),Br=ve):Kr=or(Kr,sr(T[Mr][Hr],Z[xr]))}Br===ve&&!vr(Kr,Nr)&&(Fr.push(Mr),Er.push(Kr))}}return Rr[Q]=Fr.length,Ur}function C(A,w){var T=A._values,I=A._index,P=A._ptr,Z=A._datatype||A._data===void 0?A._datatype:A.getDataType();if(!T)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var k=w._data,R=w._datatype||w.getDataType(),ir=A._size[0],ur=w._size[0],er=[],Q=[],fr=[],or,sr=u,vr=t,Nr=i,Er=0;Z&&R&&Z===R&&typeof Z=="string"&&Z!=="mixed"&&(or=Z,sr=e.find(u,[or,or]),vr=e.find(t,[or,or]),Nr=e.find(i,[or,or]),Er=e.convert(0,or));var Fr=[],Rr=[];fr[0]=0;for(var Ur=0;Ur<ur;Ur++){var Wr=k[Ur];if(!Nr(Wr,Er))for(var Ir=P[Ur],ie=P[Ur+1],Br=Ir;Br<ie;Br++){var Mr=I[Br];Rr[Mr]?Fr[Mr]=sr(Fr[Mr],vr(Wr,T[Br])):(Rr[Mr]=!0,Q.push(Mr),Fr[Mr]=vr(Wr,T[Br]))}}for(var ve=Q.length,Kr=0;Kr<ve;Kr++){var xr=Q[Kr];er[Kr]=Fr[xr]}return fr[1]=Q.length,A.createSparseMatrix({values:er,index:Q,ptr:fr,size:[ir,1],datatype:Z===A._datatype&&R===w._datatype?or:void 0})}function b(A,w){var T=A._values,I=A._index,P=A._ptr,Z=A._datatype||A._data===void 0?A._datatype:A.getDataType();if(!T)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var k=w._data,R=w._datatype||w.getDataType(),ir=A._size[0],ur=w._size[0],er=w._size[1],Q,fr=u,or=t,sr=i,vr=0;Z&&R&&Z===R&&typeof Z=="string"&&Z!=="mixed"&&(Q=Z,fr=e.find(u,[Q,Q]),or=e.find(t,[Q,Q]),sr=e.find(i,[Q,Q]),vr=e.convert(0,Q));for(var Nr=[],Er=[],Fr=[],Rr=A.createSparseMatrix({values:Nr,index:Er,ptr:Fr,size:[ir,er],datatype:Z===A._datatype&&R===w._datatype?Q:void 0}),Ur=[],Wr=[],Ir=0;Ir<er;Ir++){Fr[Ir]=Er.length;for(var ie=Ir+1,Br=0;Br<ur;Br++){var Mr=k[Br][Ir];if(!sr(Mr,vr))for(var ve=P[Br],Kr=P[Br+1],xr=ve;xr<Kr;xr++){var Hr=I[xr];Wr[Hr]!==ie?(Wr[Hr]=ie,Er.push(Hr),Ur[Hr]=or(Mr,T[xr])):Ur[Hr]=fr(Ur[Hr],or(Mr,T[xr]))}}for(var pe=Fr[Ir],Fe=Er.length,Ee=pe;Ee<Fe;Ee++){var Me=Er[Ee];Nr[Ee]=Ur[Me]}}return Fr[er]=Er.length,Rr}function B(A,w){var T=A._values,I=A._index,P=A._ptr,Z=A._datatype||A._data===void 0?A._datatype:A.getDataType(),k=w._values,R=w._index,ir=w._ptr,ur=w._datatype||w._data===void 0?w._datatype:w.getDataType(),er=A._size[0],Q=w._size[1],fr=T&&k,or,sr=u,vr=t;Z&&ur&&Z===ur&&typeof Z=="string"&&Z!=="mixed"&&(or=Z,sr=e.find(u,[or,or]),vr=e.find(t,[or,or]));for(var Nr=fr?[]:void 0,Er=[],Fr=[],Rr=A.createSparseMatrix({values:Nr,index:Er,ptr:Fr,size:[er,Q],datatype:Z===A._datatype&&ur===w._datatype?or:void 0}),Ur=fr?[]:void 0,Wr=[],Ir,ie,Br,Mr,ve,Kr,xr,Hr,pe=0;pe<Q;pe++){Fr[pe]=Er.length;var Fe=pe+1;for(ve=ir[pe],Kr=ir[pe+1],Mr=ve;Mr<Kr;Mr++)if(Hr=R[Mr],fr)for(ie=P[Hr],Br=P[Hr+1],Ir=ie;Ir<Br;Ir++)xr=I[Ir],Wr[xr]!==Fe?(Wr[xr]=Fe,Er.push(xr),Ur[xr]=vr(k[Mr],T[Ir])):Ur[xr]=sr(Ur[xr],vr(k[Mr],T[Ir]));else for(ie=P[Hr],Br=P[Hr+1],Ir=ie;Ir<Br;Ir++)xr=I[Ir],Wr[xr]!==Fe&&(Wr[xr]=Fe,Er.push(xr));if(fr)for(var Ee=Fr[pe],Me=Er.length,Pe=Ee;Pe<Me;Pe++){var et=Er[Pe];Nr[Pe]=Ur[et]}}return Fr[Q]=Er.length,Rr}return e(ma,t,{"Array, Array":e.referTo("Matrix, Matrix",A=>(w,T)=>{g(be(w),be(T));var I=A(n(w),n(T));return ee(I)?I.valueOf():I}),"Matrix, Matrix":function(w,T){var I=w.size(),P=T.size();return g(I,P),I.length===1?P.length===1?s(w,T,I[0]):o(w,T):P.length===1?p(w,T):E(w,T)},"Matrix, Array":e.referTo("Matrix,Matrix",A=>(w,T)=>A(w,n(T))),"Array, Matrix":e.referToSelf(A=>(w,T)=>A(n(w,T.storage()),T)),"SparseMatrix, any":function(w,T){return v(w,T,t,!1)},"DenseMatrix, any":function(w,T){return D(w,T,t,!1)},"any, SparseMatrix":function(w,T){return v(T,w,t,!0)},"any, DenseMatrix":function(w,T){return D(T,w,t,!0)},"Array, any":function(w,T){return D(n(w),T,t,!1).valueOf()},"any, Array":function(w,T){return D(n(T),w,t,!0).valueOf()},"any, any":t,"any, any, ...any":e.referToSelf(A=>(w,T,I)=>{for(var P=A(w,T),Z=0;Z<I.length;Z++)P=A(P,I[Z]);return P})})}),wa="conj",w1=["typed"],b1=yr(wa,w1,r=>{var{typed:e}=r;return e(wa,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":e.referToSelf(n=>u=>Ye(u,n))})}),ba="identity",y1=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],F1=yr(ba,y1,r=>{var{typed:e,config:n,matrix:u,BigNumber:t,DenseMatrix:i,SparseMatrix:h}=r;return e(ba,{"":function(){return n.matrix==="Matrix"?u([]):[]},string:function(s){return u(s)},"number | BigNumber":function(s){return D(s,s,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(s,o){return D(s,s,o)},"number | BigNumber, number | BigNumber":function(s,o){return D(s,o,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(s,o,l){return D(s,o,l)},Array:function(s){return v(s)},"Array, string":function(s,o){return v(s,o)},Matrix:function(s){return v(s.valueOf(),s.storage())},"Matrix, string":function(s,o){return v(s.valueOf(),o)}});function v(g,s){switch(g.length){case 0:return s?u(s):[];case 1:return D(g[0],g[0],s);case 2:return D(g[0],g[1],s);default:throw new Error("Vector containing two values expected")}}function D(g,s,o){var l=jr(g)||jr(s)?t:null;if(jr(g)&&(g=g.toNumber()),jr(s)&&(s=s.toNumber()),!Lr(g)||g<1)throw new Error("Parameters in function identity must be positive integers");if(!Lr(s)||s<1)throw new Error("Parameters in function identity must be positive integers");var p=l?new t(1):1,E=l?new l(0):0,f=[g,s];if(o){if(o==="sparse")return h.diagonal(f,p,0,E);if(o==="dense")return i.diagonal(f,p,0,E);throw new TypeError('Unknown matrix type "'.concat(o,'"'))}for(var y=Bu([],f,E),m=g<s?g:s,C=0;C<m;C++)y[C][C]=p;return y}});function E1(){throw new Error('No "bignumber" implementation available')}function A1(){throw new Error('No "fraction" implementation available')}function C1(){throw new Error('No "matrix" implementation available')}var ya="size",_1=["typed","config","?matrix"],N1=yr(ya,_1,r=>{var{typed:e,config:n,matrix:u}=r;return e(ya,{Matrix:function(i){return i.create(i.size())},Array:be,string:function(i){return n.matrix==="Array"?[i.length]:u([i.length])},"number | Complex | BigNumber | Unit | boolean | null":function(i){return n.matrix==="Array"?[]:u?u([]):C1()}})}),B1="numeric",M1=["number","?bignumber","?fraction"],S1=yr(B1,M1,r=>{var{number:e,bignumber:n,fraction:u}=r,t={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:h=>e(h),BigNumber:n?h=>n(h):E1,Fraction:u?h=>u(h):A1};return function(v){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",g=arguments.length>2?arguments[2]:void 0;if(g!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var s=wt(v);if(!(s in t))throw new TypeError("Cannot convert "+v+' of type "'+s+'"; valid input types are '+Object.keys(t).join(", "));if(!(D in i))throw new TypeError("Cannot convert "+v+' to type "'+D+'"; valid output types are '+Object.keys(i).join(", "));return D===s?v:i[D](v)}}),Fa="divideScalar",T1=["typed","numeric"],x1=yr(Fa,T1,r=>{var{typed:e,numeric:n}=r;return e(Fa,{"number, number":function(t,i){return t/i},"Complex, Complex":function(t,i){return t.div(i)},"BigNumber, BigNumber":function(t,i){return t.div(i)},"Fraction, Fraction":function(t,i){return t.div(i)},"Unit, number | Complex | Fraction | BigNumber | Unit":(u,t)=>u.divide(t),"number | Fraction | Complex | BigNumber, Unit":(u,t)=>t.divideInto(u)})}),Ea="pow",$1=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],O1=yr(Ea,$1,r=>{var{typed:e,config:n,identity:u,multiply:t,matrix:i,inv:h,number:v,fraction:D,Complex:g}=r;return e(Ea,{"number, number":s,"Complex, Complex":function(E,f){return E.pow(f)},"BigNumber, BigNumber":function(E,f){return f.isInteger()||E>=0||n.predictable?E.pow(f):new g(E.toNumber(),0).pow(f.toNumber(),0)},"Fraction, Fraction":function(E,f){var y=E.pow(f);if(y!=null)return y;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return s(E.valueOf(),f.valueOf())},"Array, number":o,"Array, BigNumber":function(E,f){return o(E,f.toNumber())},"Matrix, number":l,"Matrix, BigNumber":function(E,f){return l(E,f.toNumber())},"Unit, number | BigNumber":function(E,f){return E.pow(f)}});function s(p,E){if(n.predictable&&!Lr(E)&&p<0)try{var f=D(E),y=v(f);if((E===y||Math.abs((E-y)/E)<1e-14)&&f.d%2===1)return(f.n%2===0?1:-1)*Math.pow(-p,E)}catch(m){}return n.predictable&&(p<-1&&E===1/0||p>-1&&p<0&&E===-1/0)?NaN:Lr(E)||p>=0||n.predictable?Ao(p,E):p*p<1&&E===1/0||p*p>1&&E===-1/0?0:new g(p,0).pow(E,0)}function o(p,E){if(!Lr(E))throw new TypeError("For A^b, b must be an integer (value is "+E+")");var f=be(p);if(f.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+f.length+" dimensions)");if(f[0]!==f[1])throw new Error("For A^b, A must be square (size is "+f[0]+"x"+f[1]+")");if(E<0)try{return o(h(p),-E)}catch(C){throw C.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+E+")"):C}for(var y=u(f[0]).valueOf(),m=p;E>=1;)(E&1)===1&&(y=t(m,y)),E>>=1,m=t(m,m);return y}function l(p,E){return i(o(p.valueOf(),E))}}),Aa="dot",I1=["typed","addScalar","multiplyScalar","conj","size"],P1=yr(Aa,I1,r=>{var{typed:e,addScalar:n,multiplyScalar:u,conj:t,size:i}=r;return e(Aa,{"Array | DenseMatrix, Array | DenseMatrix":v,"SparseMatrix, SparseMatrix":D});function h(s,o){var l=g(s),p=g(o),E,f;if(l.length===1)E=l[0];else if(l.length===2&&l[1]===1)E=l[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+l.join(", ")+")");if(p.length===1)f=p[0];else if(p.length===2&&p[1]===1)f=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(E!==f)throw new RangeError("Vectors must have equal length ("+E+" != "+f+")");if(E===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return E}function v(s,o){var l=h(s,o),p=ee(s)?s._data:s,E=ee(s)?s._datatype||s.getDataType():void 0,f=ee(o)?o._data:o,y=ee(o)?o._datatype||o.getDataType():void 0,m=g(s).length===2,C=g(o).length===2,b=n,B=u;if(E&&y&&E===y&&typeof E=="string"&&E!=="mixed"){var A=E;b=e.find(n,[A,A]),B=e.find(u,[A,A])}if(!m&&!C){for(var w=B(t(p[0]),f[0]),T=1;T<l;T++)w=b(w,B(t(p[T]),f[T]));return w}if(!m&&C){for(var I=B(t(p[0]),f[0][0]),P=1;P<l;P++)I=b(I,B(t(p[P]),f[P][0]));return I}if(m&&!C){for(var Z=B(t(p[0][0]),f[0]),k=1;k<l;k++)Z=b(Z,B(t(p[k][0]),f[k]));return Z}if(m&&C){for(var R=B(t(p[0][0]),f[0][0]),ir=1;ir<l;ir++)R=b(R,B(t(p[ir][0]),f[ir][0]));return R}}function D(s,o){h(s,o);for(var l=s._index,p=s._values,E=o._index,f=o._values,y=0,m=n,C=u,b=0,B=0;b<l.length&&B<E.length;){var A=l[b],w=E[B];if(A<w){b++;continue}if(A>w){B++;continue}A===w&&(y=m(y,C(p[b],f[B])),b++,B++)}return y}function g(s){return ee(s)?s.size():i(s)}}),Ca="det",z1=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],k1=yr(Ca,z1,r=>{var{typed:e,matrix:n,subtractScalar:u,multiply:t,divideScalar:i,isZero:h,unaryMinus:v}=r;return e(Ca,{any:function(s){return Xr(s)},"Array | Matrix":function(s){var o;switch(ee(s)?o=s.size():Array.isArray(s)?(s=n(s),o=s.size()):o=[],o.length){case 0:return Xr(s);case 1:if(o[0]===1)return Xr(s.valueOf()[0]);if(o[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Qr(o)+")");case 2:{var l=o[0],p=o[1];if(l===p)return D(s.clone().valueOf(),l);if(p===0)return 1;throw new RangeError("Matrix must be square (size: "+Qr(o)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Qr(o)+")")}}});function D(g,s,o){if(s===1)return Xr(g[0][0]);if(s===2)return u(t(g[0][0],g[1][1]),t(g[1][0],g[0][1]));for(var l=!1,p=new Array(s).fill(0).map((T,I)=>I),E=0;E<s;E++){var f=p[E];if(h(g[f][E])){var y=void 0;for(y=E+1;y<s;y++)if(!h(g[p[y]][E])){f=p[y],p[y]=p[E],p[E]=f,l=!l;break}if(y===s)return g[f][E]}for(var m=g[f][E],C=E===0?1:g[p[E-1]][E-1],b=E+1;b<s;b++)for(var B=p[b],A=E+1;A<s;A++)g[B][A]=i(u(t(g[B][A],m),t(g[B][E],g[f][A])),C)}var w=g[p[s-1]][s-1];return l?v(w):w}}),_a="inv",R1=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],L1=yr(_a,R1,r=>{var{typed:e,matrix:n,divideScalar:u,addScalar:t,multiply:i,unaryMinus:h,det:v,identity:D,abs:g}=r;return e(_a,{"Array | Matrix":function(l){var p=ee(l)?l.size():be(l);switch(p.length){case 1:if(p[0]===1)return ee(l)?n([u(1,l.valueOf()[0])]):[u(1,l[0])];throw new RangeError("Matrix must be square (size: "+Qr(p)+")");case 2:{var E=p[0],f=p[1];if(E===f)return ee(l)?n(s(l.valueOf(),E,f),l.storage()):s(l,E,f);throw new RangeError("Matrix must be square (size: "+Qr(p)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Qr(p)+")")}},any:function(l){return u(1,l)}});function s(o,l,p){var E,f,y,m,C;if(l===1){if(m=o[0][0],m===0)throw Error("Cannot calculate inverse, determinant is zero");return[[u(1,m)]]}else if(l===2){var b=v(o);if(b===0)throw Error("Cannot calculate inverse, determinant is zero");return[[u(o[1][1],b),u(h(o[0][1]),b)],[u(h(o[1][0]),b),u(o[0][0],b)]]}else{var B=o.concat();for(E=0;E<l;E++)B[E]=B[E].concat();for(var A=D(l).valueOf(),w=0;w<p;w++){var T=g(B[w][w]),I=w;for(E=w+1;E<l;)g(B[E][w])>T&&(T=g(B[E][w]),I=E),E++;if(T===0)throw Error("Cannot calculate inverse, determinant is zero");E=I,E!==w&&(C=B[w],B[w]=B[E],B[E]=C,C=A[w],A[w]=A[E],A[E]=C);var P=B[w],Z=A[w];for(E=0;E<l;E++){var k=B[E],R=A[E];if(E!==w){if(k[w]!==0){for(y=u(h(k[w]),P[w]),f=w;f<p;f++)k[f]=t(k[f],i(y,P[f]));for(f=0;f<p;f++)R[f]=t(R[f],i(y,Z[f]))}}else{for(y=P[w],f=w;f<p;f++)k[f]=u(k[f],y);for(f=0;f<p;f++)R[f]=u(R[f],y)}}}return A}}}),Na="combinations",q1=["typed"],U1=yr(Na,q1,r=>{var{typed:e}=r;return e(Na,{"number, number":Co,"BigNumber, BigNumber":function(u,t){var i=u.constructor,h,v,D=u.minus(t),g=new i(1);if(!Ba(u)||!Ba(t))throw new TypeError("Positive integer value expected in function combinations");if(t.gt(u))throw new TypeError("k must be less than n in function combinations");if(h=g,t.lt(D))for(v=g;v.lte(D);v=v.plus(g))h=h.times(t.plus(v)).dividedBy(v);else for(v=g;v.lte(t);v=v.plus(g))h=h.times(D.plus(v)).dividedBy(v);return h}})});function Ba(r){return r.isInteger()&&r.gte(0)}var Uu=dh({config:At}),No=wh({}),Bo=Eh({}),Zu=_h({}),Gu=Mh({Matrix:Zu}),Yr=ml({BigNumber:Uu,Complex:No,DenseMatrix:Gu,Fraction:Bo}),Z1=n1({typed:Yr}),Hu=i1({typed:Yr}),G1=Wh({BigNumber:Uu,typed:Yr}),H1=U1({typed:Yr}),V1=b1({typed:Yr}),Mo=zh({config:At,typed:Yr}),Y1=xh({typed:Yr}),So=D1({typed:Yr}),To=Hh({typed:Yr}),xo=Lh({Matrix:Zu,equalScalar:Mo,typed:Yr}),W1=o1({typed:Yr}),$o=e1({typed:Yr}),Oo=Qh({Fraction:Bo,typed:Yr}),_t=Kh({DenseMatrix:Gu,Matrix:Zu,SparseMatrix:xo,typed:Yr}),X1=S1({bignumber:G1,fraction:Oo,number:To}),J1=N1({matrix:_t,config:At,typed:Yr}),Io=x1({numeric:X1,typed:Yr}),Po=F1({BigNumber:Uu,DenseMatrix:Gu,SparseMatrix:xo,config:At,matrix:_t,typed:Yr}),Q1=P1({addScalar:Hu,conj:V1,multiplyScalar:So,size:J1,typed:Yr}),Vu=m1({addScalar:Hu,dot:Q1,equalScalar:Mo,matrix:_t,multiplyScalar:So,typed:Yr}),j1=k1({divideScalar:Io,isZero:Y1,matrix:_t,multiply:Vu,subtractScalar:W1,typed:Yr,unaryMinus:$o}),K1=L1({abs:Z1,addScalar:Hu,det:j1,divideScalar:Io,identity:Po,matrix:_t,multiply:Vu,typed:Yr,unaryMinus:$o}),Ma=O1({Complex:No,config:At,fraction:Oo,identity:Po,inv:K1,matrix:_t,multiply:Vu,number:To,typed:Yr});function Sa(r,e,n){return H1(r,e)*Ma(n,e)*Ma(1-n,r-e)}const xt="#2F65A7";let tn=10;const Ta=300,zo=10,Pu=3,rt=30,ko=20,rv=1e3,ev=1e3,xa=3e3;let $t=.5;const pn=Math.max(Pu,zo,rt/2)+5,Ke=document.querySelector("svg"),nn=document.querySelector("#num-levels"),Qt=document.querySelector("#do-drop"),jt=document.querySelector("#speed"),dn=document.querySelector("#num-balls"),Dn=document.querySelector("#right-prob"),gt=[],Tt=[],Kt=[],$a=ka.scale(["#e4ecf5",xt,"black"]);function Ro(){Array.from(Ke.children).forEach(s=>s.remove());const r=parseInt(nn.value),e=(r-1)*rt+2*pn,n=(r-1)*ko+2*pn+Ta,u=Math.round((r-1)*$t),t=Sa(r-1,u,$t),i=.5*Ta/t;Ke.setAttribute("width",e),Ke.setAttribute("height",n);const h=[];for(let s=0;s<r;s++){const o=[];h.push(o);const l=[];gt.push(l);for(let p=r-s-1;p<=r+s-1;p+=2){h[s][p]=0;const{x:E,y:f}=rn(p,s),y=Ia(E,f,Pu,"#FEFEFE","none",Ke);s===0&&y.setAttribute("fill",$a(1)),gt[s][p]=y}}for(let s=0;s<2*r-1;s+=2){const{x:o,y:l}=rn(s,r-1),p=l+Pu+2,E=Oa(o-rt/2,p,rt,0,xt,"none",Ke);Tt.push(E);const f=Sa(r-1,Math.floor(s/2),$t),y=Oa(o-rt/2,p,rt,i*f,"rgba(0, 0, 0, 0.1)",xt,Ke);Kt.push(y)}function v(){return dt(this,null,function*(){let s=0,o=r-1;const l=(2*Math.random()-1)*2,p=(2*Math.random()-1)*2,E=ka(xt).darken(l).saturate(p),{x:f,y}=rn(o,s),m=Ia(f,y,zo,E,xt,Ke);m.setAttribute("opacity",.9);for(let T=0;T<r-1;T++){s++,Math.random()<$t?o++:o--;const{x:I,y:P}=rn(o,s);yield uv(m,I,P,ev/parseFloat(jt.value));const Z=gt[s][o];h[s][o]++;const k=h[s][o]/tn;Z.setAttribute("fill",$a(k))}const C=h[r-1][o],b=Math.floor(o/2),B=i*C/tn,A=tv(Tt[b],B,xa/parseFloat(jt.value)),w=nv(m,xa/parseFloat(jt.value));yield Promise.all([A,w]),m.remove()})}function D(){return dt(this,null,function*(){An(),Qt.setAttribute("disabled",!0),nn.setAttribute("disabled",!0),dn.setAttribute("disabled",!0),Dn.setAttribute("disabled",!0);const s=[];for(let o=0;o<tn;o++){const l=v();yield En(Math.random()*rv/parseFloat(jt.value)),s.push(l)}yield Promise.all(s),Qt.removeAttribute("disabled"),nn.removeAttribute("disabled"),dn.removeAttribute("disabled"),Dn.removeAttribute("disabled")})}Qt.addEventListener("click",D);function g(){Kt.forEach(s=>s.remove()),Kt.splice(0,Kt.length),Tt.forEach(s=>s.remove()),Tt.splice(0,Tt.length),gt.forEach(s=>s.forEach(o=>o.remove())),gt.splice(0,gt.length),Qt.removeEventListener("click",D)}return g}function tv(r,e,n){return dt(this,null,function*(){const u=parseInt(r.getAttribute("height")),t=Date.now(),i=()=>{const h=Date.now(),v=(h-t)/n,D=iv(v),g=u+D*(e-u);r.setAttribute("height",g),h<=t+n&&requestAnimationFrame(i)};i(),yield En(n)})}function nv(r,e){return dt(this,null,function*(){const n=parseInt(r.getAttribute("cy")),u=parseFloat(r.getAttribute("opacity")),t=n+20,i=Date.now(),h=()=>{const v=Date.now(),D=(v-i)/e,g=Lo(D),s=n+g*(t-n),o=u-D*u;r.setAttribute("cy",s),r.setAttribute("opacity",o),v<=i+e&&requestAnimationFrame(h)};h(),yield En(e)})}function uv(r,e,n,u){return dt(this,null,function*(){const t=parseInt(r.getAttribute("cx")),i=parseInt(r.getAttribute("cy")),h=Date.now(),v=()=>{const D=Date.now(),g=(D-h)/u,s=Lo(g),o=t+s*(e-t),l=i+s*(n-i);r.setAttribute("cx",o),r.setAttribute("cy",l),D<=h+u&&requestAnimationFrame(v)};requestAnimationFrame(v),yield En(u)})}function rn(r,e){return{x:pn+r*(rt/2),y:pn+e*ko}}function En(r){return new Promise(e=>setTimeout(e,r))}function Oa(r,e,n,u,t,i,h){const v=document.createElementNS("http://www.w3.org/2000/svg","rect");return v.setAttribute("x",r),v.setAttribute("y",e),v.setAttribute("width",n),v.setAttribute("height",u),v.setAttribute("fill",t),v.setAttribute("stroke",i),h.append(v),v}function Ia(r,e,n,u,t,i){const h=document.createElementNS("http://www.w3.org/2000/svg","circle");return h.setAttribute("cx",r),h.setAttribute("cy",e),h.setAttribute("r",n),h.setAttribute("fill",u),h.setAttribute("stroke",t),i.append(h),h}nn.addEventListener("input",An);dn.addEventListener("input",An);Dn.addEventListener("input",An);let Pa=Ro();function An(){Pa(),$t=parseFloat(Dn.value),tn=parseInt(dn.value),Pa=Ro()}function Lo(r){return r*(2-r)}function iv(r){return r*r}
